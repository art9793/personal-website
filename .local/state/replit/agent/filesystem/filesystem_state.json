{"file_contents":{"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5124},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // @replit\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \",\n  {\n    variants: {\n      variant: {\n        default:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary:\n          // @replit no hover because we use hover-elevate\n          \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n          // @replit shadow-xs\" - use badge outline variable\n        outline: \"text-foreground border [border-color:var(--badge-outline)]\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1522},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport { ThemeProvider } from \"next-themes\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(\n  <ThemeProvider attribute=\"class\" defaultTheme=\"system\" enableSystem>\n    <App />\n  </ThemeProvider>\n);\n","size_bytes":298},"server/storage.ts":{"content":"import {\n  users,\n  profiles,\n  articles,\n  projects,\n  workExperiences,\n  readingList,\n  seoSettings,\n  type User,\n  type UpsertUser,\n  type Profile,\n  type InsertProfile,\n  type Article,\n  type InsertArticle,\n  type Project,\n  type InsertProject,\n  type WorkExperience,\n  type InsertWorkExperience,\n  type ReadingListItem,\n  type InsertReadingList,\n  type SeoSettings,\n  type InsertSeoSettings,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, desc } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations\n  getUser(id: string): Promise<User | undefined>;\n  getUserByEmail(email: string): Promise<User | undefined>;\n  upsertUser(user: UpsertUser): Promise<User>;\n\n  // Profile operations\n  getProfile(): Promise<Profile | undefined>;\n  updateProfile(data: Partial<InsertProfile>): Promise<Profile>;\n\n  // SEO Settings operations\n  getSeoSettings(): Promise<SeoSettings | undefined>;\n  updateSeoSettings(data: Partial<InsertSeoSettings>): Promise<SeoSettings>;\n\n  // Article operations\n  getArticles(): Promise<Article[]>;\n  getArticle(id: number): Promise<Article | undefined>;\n  getArticleBySlug(slug: string): Promise<Article | undefined>;\n  createArticle(data: InsertArticle): Promise<Article>;\n  updateArticle(id: number, data: Partial<InsertArticle>): Promise<Article>;\n  deleteArticle(id: number): Promise<void>;\n\n  // Project operations\n  getProjects(): Promise<Project[]>;\n  getProject(id: number): Promise<Project | undefined>;\n  createProject(data: InsertProject): Promise<Project>;\n  updateProject(id: number, data: Partial<InsertProject>): Promise<Project>;\n  deleteProject(id: number): Promise<void>;\n\n  // Work Experience operations\n  getWorkExperiences(): Promise<WorkExperience[]>;\n  getWorkExperience(id: number): Promise<WorkExperience | undefined>;\n  createWorkExperience(data: InsertWorkExperience): Promise<WorkExperience>;\n  updateWorkExperience(id: number, data: Partial<InsertWorkExperience>): Promise<WorkExperience>;\n  deleteWorkExperience(id: number): Promise<void>;\n\n  // Reading List operations\n  getReadingList(): Promise<ReadingListItem[]>;\n  getReadingListItem(id: number): Promise<ReadingListItem | undefined>;\n  createReadingListItem(data: InsertReadingList): Promise<ReadingListItem>;\n  updateReadingListItem(id: number, data: Partial<InsertReadingList>): Promise<ReadingListItem>;\n  deleteReadingListItem(id: number): Promise<void>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User operations\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n\n  async getUserByEmail(email: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.email, email));\n    return user;\n  }\n\n  async upsertUser(userData: UpsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: users.id,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  // Profile operations\n  async getProfile(): Promise<Profile | undefined> {\n    const [profile] = await db.select().from(profiles).limit(1);\n    return profile;\n  }\n\n  async updateProfile(data: Partial<InsertProfile>): Promise<Profile> {\n    const existingProfile = await this.getProfile();\n    \n    if (existingProfile) {\n      const [updated] = await db\n        .update(profiles)\n        .set({ ...data, updatedAt: new Date() })\n        .where(eq(profiles.id, existingProfile.id))\n        .returning();\n      return updated;\n    } else {\n      const [created] = await db\n        .insert(profiles)\n        .values(data as InsertProfile)\n        .returning();\n      return created;\n    }\n  }\n\n  // SEO Settings operations\n  async getSeoSettings(): Promise<SeoSettings | undefined> {\n    const [settings] = await db.select().from(seoSettings).limit(1);\n    return settings;\n  }\n\n  async updateSeoSettings(data: Partial<InsertSeoSettings>): Promise<SeoSettings> {\n    const existingSettings = await this.getSeoSettings();\n    \n    if (existingSettings) {\n      const [updated] = await db\n        .update(seoSettings)\n        .set({ ...data, updatedAt: new Date() })\n        .where(eq(seoSettings.id, existingSettings.id))\n        .returning();\n      return updated;\n    } else {\n      const [created] = await db\n        .insert(seoSettings)\n        .values(data as InsertSeoSettings)\n        .returning();\n      return created;\n    }\n  }\n\n  // Article operations\n  async getArticles(): Promise<Article[]> {\n    return await db.select().from(articles).orderBy(desc(articles.createdAt));\n  }\n\n  async getArticle(id: number): Promise<Article | undefined> {\n    const [article] = await db.select().from(articles).where(eq(articles.id, id));\n    return article;\n  }\n\n  async getArticleBySlug(slug: string): Promise<Article | undefined> {\n    const [article] = await db.select().from(articles).where(eq(articles.slug, slug));\n    return article;\n  }\n\n  async createArticle(data: InsertArticle): Promise<Article> {\n    const [article] = await db.insert(articles).values(data).returning();\n    return article;\n  }\n\n  async updateArticle(id: number, data: Partial<InsertArticle>): Promise<Article> {\n    const [updated] = await db\n      .update(articles)\n      .set({ ...data, updatedAt: new Date() })\n      .where(eq(articles.id, id))\n      .returning();\n    return updated;\n  }\n\n  async deleteArticle(id: number): Promise<void> {\n    await db.delete(articles).where(eq(articles.id, id));\n  }\n\n  // Project operations\n  async getProjects(): Promise<Project[]> {\n    return await db.select().from(projects).orderBy(desc(projects.createdAt));\n  }\n\n  async getProject(id: number): Promise<Project | undefined> {\n    const [project] = await db.select().from(projects).where(eq(projects.id, id));\n    return project;\n  }\n\n  async createProject(data: InsertProject): Promise<Project> {\n    const [project] = await db.insert(projects).values(data).returning();\n    return project;\n  }\n\n  async updateProject(id: number, data: Partial<InsertProject>): Promise<Project> {\n    const [updated] = await db\n      .update(projects)\n      .set({ ...data, updatedAt: new Date() })\n      .where(eq(projects.id, id))\n      .returning();\n    return updated;\n  }\n\n  async deleteProject(id: number): Promise<void> {\n    await db.delete(projects).where(eq(projects.id, id));\n  }\n\n  // Work Experience operations\n  async getWorkExperiences(): Promise<WorkExperience[]> {\n    return await db.select().from(workExperiences).orderBy(desc(workExperiences.startDate));\n  }\n\n  async getWorkExperience(id: number): Promise<WorkExperience | undefined> {\n    const [work] = await db.select().from(workExperiences).where(eq(workExperiences.id, id));\n    return work;\n  }\n\n  async createWorkExperience(data: InsertWorkExperience): Promise<WorkExperience> {\n    const [work] = await db.insert(workExperiences).values(data).returning();\n    return work;\n  }\n\n  async updateWorkExperience(id: number, data: Partial<InsertWorkExperience>): Promise<WorkExperience> {\n    const [updated] = await db\n      .update(workExperiences)\n      .set({ ...data, updatedAt: new Date() })\n      .where(eq(workExperiences.id, id))\n      .returning();\n    return updated;\n  }\n\n  async deleteWorkExperience(id: number): Promise<void> {\n    await db.delete(workExperiences).where(eq(workExperiences.id, id));\n  }\n\n  // Reading List operations\n  async getReadingList(): Promise<ReadingListItem[]> {\n    return await db.select().from(readingList).orderBy(desc(readingList.createdAt));\n  }\n\n  async getReadingListItem(id: number): Promise<ReadingListItem | undefined> {\n    const [item] = await db.select().from(readingList).where(eq(readingList.id, id));\n    return item;\n  }\n\n  async createReadingListItem(data: InsertReadingList): Promise<ReadingListItem> {\n    const [item] = await db.insert(readingList).values(data).returning();\n    return item;\n  }\n\n  async updateReadingListItem(id: number, data: Partial<InsertReadingList>): Promise<ReadingListItem> {\n    const [updated] = await db\n      .update(readingList)\n      .set({ ...data, updatedAt: new Date() })\n      .where(eq(readingList.id, id))\n      .returning();\n    return updated;\n  }\n\n  async deleteReadingListItem(id: number): Promise<void> {\n    await db.delete(readingList).where(eq(readingList.id, id));\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":8473},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","size_bytes":2751},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1598},"client/src/components/admin/editor.tsx":{"content":"import { useEditor, EditorContent } from '@tiptap/react'\nimport StarterKit from '@tiptap/starter-kit'\nimport Image from '@tiptap/extension-image'\nimport Link from '@tiptap/extension-link'\nimport Placeholder from '@tiptap/extension-placeholder'\nimport Underline from '@tiptap/extension-underline'\nimport Strike from '@tiptap/extension-strike'\nimport Highlight from '@tiptap/extension-highlight'\nimport CodeBlockLowlight from '@tiptap/extension-code-block-lowlight'\nimport HorizontalRule from '@tiptap/extension-horizontal-rule'\nimport TaskList from '@tiptap/extension-task-list'\nimport TaskItem from '@tiptap/extension-task-item'\nimport { TextStyle } from '@tiptap/extension-text-style'\nimport { Color } from '@tiptap/extension-color'\nimport { common, createLowlight } from 'lowlight'\nimport { Extension } from '@tiptap/core'\nimport Suggestion from '@tiptap/suggestion'\nimport { ReactRenderer } from '@tiptap/react'\nimport tippy from 'tippy.js'\nimport { Button } from \"@/components/ui/button\"\nimport { \n  Bold, Italic, Underline as UnderlineIcon, Strikethrough, Highlighter, Code, FileCode,\n  List, ListOrdered, ListTodo, Image as ImageIcon, Link as LinkIcon, Quote, \n  Heading1, Heading2, Heading3, Heading4, Minus, Undo, Redo \n} from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { useRef, useEffect, useState, forwardRef, useImperativeHandle } from \"react\"\n\nconst lowlight = createLowlight(common)\n\n// Slash command items\nconst slashCommandItems = [\n  {\n    title: 'Heading 1',\n    icon: Heading1,\n    command: (editor: any) => editor.chain().focus().toggleHeading({ level: 1 }).run(),\n  },\n  {\n    title: 'Heading 2',\n    icon: Heading2,\n    command: (editor: any) => editor.chain().focus().toggleHeading({ level: 2 }).run(),\n  },\n  {\n    title: 'Heading 3',\n    icon: Heading3,\n    command: (editor: any) => editor.chain().focus().toggleHeading({ level: 3 }).run(),\n  },\n  {\n    title: 'Bullet List',\n    icon: List,\n    command: (editor: any) => editor.chain().focus().toggleBulletList().run(),\n  },\n  {\n    title: 'Numbered List',\n    icon: ListOrdered,\n    command: (editor: any) => editor.chain().focus().toggleOrderedList().run(),\n  },\n  {\n    title: 'Task List',\n    icon: ListTodo,\n    command: (editor: any) => editor.chain().focus().toggleTaskList().run(),\n  },\n  {\n    title: 'Quote',\n    icon: Quote,\n    command: (editor: any) => editor.chain().focus().toggleBlockquote().run(),\n  },\n  {\n    title: 'Code Block',\n    icon: FileCode,\n    command: (editor: any) => editor.chain().focus().toggleCodeBlock().run(),\n  },\n  {\n    title: 'Divider',\n    icon: Minus,\n    command: (editor: any) => editor.chain().focus().setHorizontalRule().run(),\n  },\n]\n\n// Slash command menu component\nconst SlashCommandMenu = forwardRef((props: any, ref) => {\n  const [selectedIndex, setSelectedIndex] = useState(0)\n\n  // Reset selection when items change\n  useEffect(() => {\n    setSelectedIndex(0)\n  }, [props.items])\n\n  const selectItem = (index: number) => {\n    // Early exit if no items\n    if (props.items.length === 0) {\n      return\n    }\n    \n    // Clamp index to valid range\n    const clampedIndex = Math.max(0, Math.min(index, props.items.length - 1))\n    const item = props.items[clampedIndex]\n    if (item) {\n      props.command(item)\n    }\n  }\n\n  useImperativeHandle(ref, () => ({\n    onKeyDown: ({ event }: any) => {\n      // Guard against empty items array\n      if (props.items.length === 0) {\n        return false\n      }\n\n      if (event.key === 'ArrowUp') {\n        setSelectedIndex((prev) => (prev + props.items.length - 1) % props.items.length)\n        return true\n      }\n\n      if (event.key === 'ArrowDown') {\n        setSelectedIndex((prev) => (prev + 1) % props.items.length)\n        return true\n      }\n\n      if (event.key === 'Enter') {\n        selectItem(selectedIndex)\n        return true\n      }\n\n      return false\n    },\n  }))\n\n  return (\n    <div className=\"bg-background border rounded-lg shadow-lg p-2 min-w-[200px]\">\n      {props.items.map((item: any, index: number) => {\n        const Icon = item.icon\n        return (\n          <button\n            key={index}\n            onClick={() => selectItem(index)}\n            className={cn(\n              \"w-full flex items-center gap-2 px-3 py-2 text-sm rounded hover:bg-muted transition-colors\",\n              index === selectedIndex && \"bg-muted\"\n            )}\n          >\n            <Icon className=\"h-4 w-4\" />\n            <span>{item.title}</span>\n          </button>\n        )\n      })}\n    </div>\n  )\n})\n\nSlashCommandMenu.displayName = 'SlashCommandMenu'\n\n// Slash command extension\nconst SlashCommand = Extension.create({\n  name: 'slashCommand',\n\n  addProseMirrorPlugins() {\n    return [\n      Suggestion({\n        editor: this.editor,\n        char: '/',\n        command: ({ editor, range, props }) => {\n          // props is the selected item from slashCommandItems\n          props.command(editor)\n          editor.chain().focus().deleteRange(range).run()\n        },\n        items: ({ query }) => {\n          return slashCommandItems\n            .filter(item => item.title.toLowerCase().includes(query.toLowerCase()))\n        },\n        render: () => {\n          let component: ReactRenderer\n          let popup: any\n\n          return {\n            onStart: (props: any) => {\n              component = new ReactRenderer(SlashCommandMenu, {\n                props,\n                editor: props.editor,\n              })\n\n              popup = tippy('body', {\n                getReferenceClientRect: props.clientRect,\n                appendTo: () => document.body,\n                content: component.element,\n                showOnCreate: true,\n                interactive: true,\n                trigger: 'manual',\n                placement: 'bottom-start',\n              })\n            },\n\n            onUpdate(props: any) {\n              component.updateProps(props)\n\n              popup[0].setProps({\n                getReferenceClientRect: props.clientRect,\n              })\n            },\n\n            onKeyDown(props: any) {\n              if (props.event.key === 'Escape') {\n                popup[0].hide()\n                return true\n              }\n\n              return (component.ref as any)?.onKeyDown?.(props) || false\n            },\n\n            onExit() {\n              popup[0].destroy()\n              component.destroy()\n            },\n          }\n        },\n      }),\n    ]\n  },\n})\n\nconst MenuBar = ({ editor }: { editor: any }) => {\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  if (!editor) {\n    return null\n  }\n\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0]\n    if (!file) return\n\n    try {\n      // Step 1: Get presigned upload URL from server\n      const uploadResponse = await fetch('/api/objects/upload', {\n        method: 'POST',\n        credentials: 'include',\n      })\n      if (!uploadResponse.ok) {\n        throw new Error('Failed to get upload URL')\n      }\n      const { uploadURL } = await uploadResponse.json()\n\n      // Step 2: Upload file to object storage\n      const uploadResult = await fetch(uploadURL, {\n        method: 'PUT',\n        body: file,\n        headers: {\n          'Content-Type': file.type,\n        },\n      })\n      if (!uploadResult.ok) {\n        throw new Error('Failed to upload image')\n      }\n\n      // Step 3: Set ACL policy and get normalized path\n      const aclResponse = await fetch('/api/article-images', {\n        method: 'PUT',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ imageURL: uploadURL }),\n      })\n      if (!aclResponse.ok) {\n        throw new Error('Failed to set image permissions')\n      }\n      const { objectPath } = await aclResponse.json()\n\n      // Step 4: Insert image into editor with normalized path\n      editor.chain().focus().setImage({ src: objectPath }).run()\n    } catch (error) {\n      console.error('Error uploading image:', error)\n      alert('Failed to upload image. Please try again.')\n    }\n  }\n\n  return (\n    <div className=\"border-b py-2 mb-4 flex flex-wrap gap-1 bg-background sticky top-16 z-10 opacity-100 transition-opacity duration-300\">\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleBold().run()}\n        className={cn(editor.isActive('bold') ? 'bg-muted' : '')}\n      >\n        <Bold className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleItalic().run()}\n        className={cn(editor.isActive('italic') ? 'bg-muted' : '')}\n      >\n        <Italic className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleUnderline().run()}\n        className={cn(editor.isActive('underline') ? 'bg-muted' : '')}\n      >\n        <UnderlineIcon className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleStrike().run()}\n        className={cn(editor.isActive('strike') ? 'bg-muted' : '')}\n      >\n        <Strikethrough className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleCode().run()}\n        className={cn(editor.isActive('code') ? 'bg-muted' : '')}\n      >\n        <Code className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleHighlight().run()}\n        className={cn(editor.isActive('highlight') ? 'bg-muted' : '')}\n      >\n        <Highlighter className=\"h-4 w-4\" />\n      </Button>\n      <div className=\"w-px h-6 bg-border mx-1 self-center\" />\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleHeading({ level: 1 }).run()}\n        className={cn(editor.isActive('heading', { level: 1 }) ? 'bg-muted' : '')}\n      >\n        <Heading1 className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleHeading({ level: 2 }).run()}\n        className={cn(editor.isActive('heading', { level: 2 }) ? 'bg-muted' : '')}\n      >\n        <Heading2 className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleHeading({ level: 3 }).run()}\n        className={cn(editor.isActive('heading', { level: 3 }) ? 'bg-muted' : '')}\n      >\n        <Heading3 className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleHeading({ level: 4 }).run()}\n        className={cn(editor.isActive('heading', { level: 4 }) ? 'bg-muted' : '')}\n      >\n        <Heading4 className=\"h-4 w-4\" />\n      </Button>\n      <div className=\"w-px h-6 bg-border mx-1 self-center\" />\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleBulletList().run()}\n        className={cn(editor.isActive('bulletList') ? 'bg-muted' : '')}\n      >\n        <List className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleOrderedList().run()}\n        className={cn(editor.isActive('orderedList') ? 'bg-muted' : '')}\n      >\n        <ListOrdered className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleTaskList().run()}\n        className={cn(editor.isActive('taskList') ? 'bg-muted' : '')}\n        title=\"Task List\"\n      >\n        <ListTodo className=\"h-4 w-4\" />\n      </Button>\n      <div className=\"w-px h-6 bg-border mx-1 self-center\" />\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleBlockquote().run()}\n        className={cn(editor.isActive('blockquote') ? 'bg-muted' : '')}\n      >\n        <Quote className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().toggleCodeBlock().run()}\n        className={cn(editor.isActive('codeBlock') ? 'bg-muted' : '')}\n        title=\"Code Block\"\n      >\n        <FileCode className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().setHorizontalRule().run()}\n        title=\"Horizontal Rule\"\n      >\n        <Minus className=\"h-4 w-4\" />\n      </Button>\n      <div className=\"w-px h-6 bg-border mx-1 self-center\" />\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => {\n          const previousUrl = editor.getAttributes('link').href\n          const url = window.prompt('URL', previousUrl)\n          \n          // cancelled\n          if (url === null) {\n            return\n          }\n\n          // empty\n          if (url === '') {\n            editor.chain().focus().extendMarkRange('link').unsetLink().run()\n            return\n          }\n\n          // update\n          editor.chain().focus().extendMarkRange('link').setLink({ href: url }).run()\n        }}\n        className={cn(editor.isActive('link') ? 'bg-muted' : '')}\n      >\n        <LinkIcon className=\"h-4 w-4\" />\n      </Button>\n      \n      <input \n        type=\"file\" \n        ref={fileInputRef} \n        className=\"hidden\" \n        accept=\"image/*\"\n        onChange={handleImageUpload}\n      />\n      \n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => fileInputRef.current?.click()}\n      >\n        <ImageIcon className=\"h-4 w-4\" />\n      </Button>\n      <div className=\"flex-1\" />\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().undo().run()}\n      >\n        <Undo className=\"h-4 w-4\" />\n      </Button>\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"sm\"\n        onClick={() => editor.chain().focus().redo().run()}\n      >\n        <Redo className=\"h-4 w-4\" />\n      </Button>\n    </div>\n  )\n}\n\nexport function Editor({ content, onChange }: { content?: string, onChange?: (html: string) => void }) {\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        hardBreak: {\n          keepMarks: true,\n        },\n        codeBlock: false,\n        bulletList: {\n          keepMarks: true,\n          keepAttributes: false,\n        },\n        orderedList: {\n          keepMarks: true,\n          keepAttributes: false,\n        },\n      }),\n      Underline,\n      Strike,\n      CodeBlockLowlight.configure({\n        lowlight,\n        HTMLAttributes: {\n          class: 'code-block',\n        },\n      }),\n      Highlight.configure({\n        multicolor: false,\n      }),\n      HorizontalRule,\n      TaskList.configure({\n        HTMLAttributes: {\n          class: 'task-list-block',\n        },\n      }),\n      TaskItem.configure({\n        nested: true,\n        HTMLAttributes: {\n          class: 'task-item-block',\n        },\n      }),\n      TextStyle,\n      Color,\n      Image,\n      Link.configure({\n        openOnClick: false,\n        autolink: true,\n      }),\n      Placeholder.configure({\n        placeholder: 'Tell your story...',\n      }),\n      SlashCommand,\n    ],\n    content: content || '',\n    editorProps: {\n      attributes: {\n        class: 'prose prose-lg dark:prose-invert max-w-none focus:outline-none min-h-[500px] leading-relaxed',\n      },\n    },\n    onUpdate: ({ editor }) => {\n      onChange?.(editor.getHTML())\n    },\n  })\n\n  // Sync content when prop changes (for loading existing articles)\n  useEffect(() => {\n    if (editor && content !== undefined) {\n      const currentContent = editor.getHTML()\n      // Only update if content is different to avoid cursor jumping\n      if (currentContent !== content) {\n        editor.commands.setContent(content, { emitUpdate: false })\n      }\n    }\n  }, [editor, content])\n\n  return (\n    <div className=\"relative min-h-[500px] w-full\">\n      <MenuBar editor={editor} />\n      <EditorContent editor={editor} className=\"mt-4\" />\n    </div>\n  )\n}\n","size_bytes":16676},"replit.md":{"content":"# Portfolio Website\n\n## Overview\n\nA modern, full-stack personal portfolio website built for a Product Manager. The application features a content management system (CMS) for managing articles, projects, work experience, and reading lists. The site includes both a public-facing portfolio and an authenticated admin dashboard for content management.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework & Build System**\n- React with TypeScript for type-safe component development\n- Vite as the build tool and development server\n- Wouter for lightweight client-side routing (alternative to React Router)\n- TanStack Query (React Query) for server state management and data fetching\n\n**UI Component Library**\n- Shadcn UI with Radix UI primitives for accessible, customizable components\n- Tailwind CSS v4 (via @tailwindcss/vite plugin) for utility-first styling\n- New York style variant with neutral base color scheme\n- Lucide React for consistent iconography\n\n**Rich Text Editing - World-Class Editor**\n- TipTap editor with comprehensive formatting capabilities comparable to Notion/Google Docs\n- **Toolbar Features:**\n  - Text formatting: Bold, italic, underline, strikethrough, inline code, highlight\n  - Headings: H1, H2, H3, H4\n  - Lists: Bullet lists, numbered lists\n  - Blocks: Blockquotes, code blocks with syntax highlighting, horizontal rules\n  - Media: Images (base64 upload), links with auto-detection\n  - History: Undo/redo support\n- **Slash Commands:**\n  - Type \"/\" to open quick formatting menu\n  - Keyboard navigation (arrow keys + enter) and mouse selection\n  - Filterable options for instant access to formatting\n  - Commands: Headings (1-3), Bullet List, Numbered List, Quote, Code Block, Divider\n- **Code Block Syntax Highlighting:**\n  - CodeBlockLowlight with lowlight library\n  - Common language pack support (JavaScript, TypeScript, Python, etc.)\n  - Color-coded syntax tokens (keywords, strings, comments, etc.)\n  - Light/dark mode compatible highlighting\n- **Technical Implementation:**\n  - Extensions: StarterKit, Underline, Strike, Highlight, CodeBlockLowlight, HorizontalRule, TextStyle, Color, Image, Link, Placeholder\n  - Custom slash command extension using TipTap Suggestion plugin\n  - Tippy.js for dropdown positioning\n  - ReactRenderer for menu component integration\n  - Comprehensive prose CSS for both editor (.ProseMirror) and public website (.prose)\n\n**Design System**\n- Custom CSS variables for theming (light/dark mode support)\n- Consistent spacing, typography, and color tokens\n- Component variants using class-variance-authority (CVA)\n\n### Backend Architecture\n\n**Server Framework**\n- Express.js for the HTTP server and API routing\n- Separate development (index-dev.ts) and production (index-prod.ts) entry points\n- Development mode integrates Vite middleware for HMR\n- Production mode serves pre-built static assets\n\n**API Design Pattern**\n- RESTful API endpoints under `/api` namespace\n- Route handlers in `server/routes.ts` for centralized API logic\n- Storage abstraction layer (`server/storage.ts`) implementing the repository pattern\n- Middleware-based authentication and authorization\n\n**Authentication & Authorization**\n- Email/password authentication system\n- Passport.js Local Strategy for credential verification\n- Bcrypt for password hashing (10 salt rounds)\n- Email-based access control (hardcoded admin email: art9793@gmail.com)\n- Protected routes using `isAuthenticated` and `isAdmin` middleware\n- Session storage in PostgreSQL database via connect-pg-simple\n\n### Data Storage\n\n**Database**\n- PostgreSQL via Neon serverless driver (@neondatabase/serverless)\n- WebSocket connection pooling for serverless environments\n- Drizzle ORM for type-safe database operations\n- Schema-first approach with shared types between client and server\n\n**Database Schema**\n- `sessions`: Express session storage for authentication\n- `users`: User accounts with email/password credentials\n- `profiles`: Site owner profile information (singleton)\n- `articles`: Blog posts with slug-based routing, SEO metadata, and publishing workflow\n- `projects`: Portfolio projects with featured flag and status\n- `workExperiences`: Employment history timeline\n- `readingList`: Books with ratings and reading status\n\n**Data Validation**\n- Zod schemas derived from Drizzle table definitions via `drizzle-zod`\n- Input validation on API endpoints using schema parsing\n- Type safety across the full stack (shared schema types)\n\n### External Dependencies\n\n**Database**\n- Neon PostgreSQL (serverless) - DATABASE_URL environment variable required\n- Connection pooling via @neondatabase/serverless with WebSocket support (ws package)\n\n**Authentication**\n- Email/password authentication with Passport Local Strategy\n- Bcrypt for secure password hashing\n- Required environment variables: SESSION_SECRET, DATABASE_URL\n- Session store: connect-pg-simple for PostgreSQL session persistence\n- Admin setup script: `tsx scripts/setup-admin.ts` for initial account creation\n\n**Development Tools**\n- Replit-specific Vite plugins:\n  - @replit/vite-plugin-runtime-error-modal for error overlay\n  - @replit/vite-plugin-cartographer for code exploration\n  - @replit/vite-plugin-dev-banner for development indicators\n- Custom vite-plugin-meta-images for OpenGraph image URL injection\n\n**Build & Deployment**\n- esbuild for server-side bundling in production\n- Vite for client-side bundling and optimization\n- Static asset serving from dist/public in production\n\n**Type System**\n- TypeScript with strict mode enabled\n- Path aliases: @/ (client), @shared/ (shared schema), @assets/ (attached assets)\n- Module resolution: bundler mode for maximum compatibility\n\n**Object Storage**\n- Replit Object Storage integration for file uploads\n- @google-cloud/storage for GCS bucket access\n- Custom ObjectUploader component with minimal UI design\n- Per-modal Uppy instance lifecycle for clean state management\n- ACL-based access control for public/private objects\n- Profile avatars stored with public visibility for homepage display\n\n## Recent Changes\n\n### November 24, 2025: Authentication System Migration\n- Migrated from Replit Auth (OIDC) to email/password authentication\n- Implemented Passport Local Strategy for credential verification\n- Added password field to users table with bcrypt hashing (10 salt rounds)\n- Created new login page with email/password form\n- Updated authentication routes: POST /api/auth/login and /api/auth/logout\n- Simplified middleware (removed token refresh logic)\n- Created admin setup script (`tsx scripts/setup-admin.ts`) for initial account creation\n- Removed Replit Auth dependencies (openid-client, google-auth-library)\n- Session management remains unchanged (connect-pg-simple with PostgreSQL)\n\n### November 23, 2025: Admin Dashboard UI/UX Refinements - World-Class Minimalistic Design\n- **Custom Upload Modal**: Replaced Uppy Dashboard with custom minimal design\n  - Clean drag-and-drop area with image preview\n  - Refined upload/cancel buttons with loading states and progress indicator\n  - Per-modal Uppy instance lifecycle (create on open, destroy on close) for reliable uploads\n  - Proper cleanup and retry handling to prevent duplicate file errors\n- **Home Page Settings Redesign**: Restructured with improved visual hierarchy\n  - Sectioned layout: Profile Picture, Profile Information, Social Links\n  - Each section has descriptive header and muted background containers\n  - Cleaner social links with icon badges and inline toggle switches\n  - Improved spacing and breathing room throughout\n- **Writing Table Enhancement**: Added word count column\n  - Positioned before \"Read Time\" column\n  - Calculates actual words from article content (not HTML)\n  - Displays formatted numbers (e.g., \"1,234\") with monospace font\n- **Article Editor Polish**: Refined header and title input\n  - Reduced header height to h-14 (3.5rem) for more minimal feel\n  - Cleaner word count display with monospace font and subtle separators\n  - Notion-style title input: borderless, shadowless, seamless integration\n  - Viewport calculations properly aligned (h-14 matches calc(100vh-3.5rem))\n- **Design Philosophy**: Consistent minimalistic aesthetic throughout admin interface\n  - Subtle borders and muted backgrounds for visual hierarchy\n  - Reduced visual noise with smaller icons and cleaner layouts\n  - Better spacing and use of whitespace\n  - Monospace fonts for numerical data\n\n### November 23, 2025: Profile Avatar Upload Feature\n- Removed hardcoded placeholder profile image (logo.jpg)\n- Implemented avatar upload functionality through admin dashboard\n- Built ObjectUploader component using Uppy Dashboard with image-only restrictions\n- Integrated with Replit Object Storage for secure cloud hosting\n- Avatars stored with public ACL, accessible to unauthenticated homepage visitors\n- Upload flow: presigned URL generation → Uppy upload → ACL configuration → database persistence\n- Homepage conditionally renders avatar only when profile.avatarUrl exists\n- Enhanced social icons with brand-specific colors (Twitter blue, LinkedIn blue, GitHub dark) and hover effects\n\n### November 22-23, 2025: Article Editor Redesign & Publishing Workflow\n- Redesigned article editor into world-class publishing experience\n- Split editing into two distinct modes: Write Mode (clean distraction-free editor) and Publish Mode (comprehensive metadata and publishing controls)\n- Publish Mode uses Sheet overlay with validation checklist (title, slug, description, cover image, featured image, excerpt, SEO)\n- Removed inline publish button from editor for cleaner UX\n- Added auto-save functionality for drafts\n- Improved cache invalidation after article updates\n- Fixed back button routing from article detail to proper list view\n- Enhanced routing with consistent /admin/articles/* pattern","size_bytes":9871},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/chart.tsx":{"content":"import * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload\n            .filter((item) => item.type !== \"none\")\n            .map((item, index) => {\n              const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n              const itemConfig = getPayloadConfigFromPayload(config, item, key)\n              const indicatorColor = color || item.payload.fill || item.color\n\n              return (\n                <div\n                  key={item.dataKey}\n                  className={cn(\n                    \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                    indicator === \"dot\" && \"items-center\"\n                  )}\n                >\n                  {formatter && item?.value !== undefined && item.name ? (\n                    formatter(item.value, item.name, item, index, item.payload)\n                  ) : (\n                    <>\n                      {itemConfig?.icon ? (\n                        <itemConfig.icon />\n                      ) : (\n                        !hideIndicator && (\n                          <div\n                            className={cn(\n                              \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                              {\n                                \"h-2.5 w-2.5\": indicator === \"dot\",\n                                \"w-1\": indicator === \"line\",\n                                \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                  indicator === \"dashed\",\n                                \"my-0.5\": nestLabel && indicator === \"dashed\",\n                              }\n                            )}\n                            style={\n                              {\n                                \"--color-bg\": indicatorColor,\n                                \"--color-border\": indicatorColor,\n                              } as React.CSSProperties\n                            }\n                          />\n                        )\n                      )}\n                      <div\n                        className={cn(\n                          \"flex flex-1 justify-between leading-none\",\n                          nestLabel ? \"items-end\" : \"items-center\"\n                        )}\n                      >\n                        <div className=\"grid gap-1.5\">\n                          {nestLabel ? tooltipLabel : null}\n                          <span className=\"text-muted-foreground\">\n                            {itemConfig?.label || item.name}\n                          </span>\n                        </div>\n                        {item.value && (\n                          <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                            {item.value.toLocaleString()}\n                          </span>\n                        )}\n                      </div>\n                    </>\n                  )}\n                </div>\n              )\n            })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload\n          .filter((item) => item.type !== \"none\")\n          .map((item) => {\n            const key = `${nameKey || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n            return (\n              <div\n                key={item.value}\n                className={cn(\n                  \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n                )}\n              >\n                {itemConfig?.icon && !hideIcon ? (\n                  <itemConfig.icon />\n                ) : (\n                  <div\n                    className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                    style={{\n                      backgroundColor: item.color,\n                    }}\n                  />\n                )}\n                {itemConfig?.label}\n              </div>\n            )\n          })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10763},"client/src/components/ui/spinner.tsx":{"content":"import { Loader2Icon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Spinner({ className, ...props }: React.ComponentProps<\"svg\">) {\n  return (\n    <Loader2Icon\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn(\"size-4 animate-spin\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Spinner }\n","size_bytes":331},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4280},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":266},"client/src/lib/content-context.tsx":{"content":"import { createContext, useContext, ReactNode } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { isUnauthorizedError } from \"@/lib/authUtils\";\n\ninterface Profile {\n  name: string;\n  title: string;\n  bio: string;\n  location?: string;\n  email?: string;\n  twitter?: string;\n  github?: string;\n  linkedin?: string;\n  website?: string;\n  avatarUrl?: string;\n  showTwitter?: boolean;\n  showLinkedin?: boolean;\n  showGithub?: boolean;\n  showEmail?: boolean;\n}\n\nexport interface SeoSettings {\n  id?: number;\n  siteTitle: string;\n  siteDescription: string;\n  siteKeywords?: string;\n  ogTitle?: string;\n  ogDescription?: string;\n  ogImage?: string;\n  twitterCard?: string;\n  twitterSite?: string;\n  twitterCreator?: string;\n  faviconUrl?: string;\n}\n\nexport interface Article {\n  id: number;\n  title: string;\n  slug: string;\n  content: string;\n  excerpt?: string;\n  tags?: string;\n  seoKeywords?: string;\n  author: string;\n  status: string;\n  views: string;\n  publishedAt?: Date;\n  firstPublishedAt?: Date;\n  lastPublishedAt?: Date;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\nexport interface Project {\n  id: number;\n  title: string;\n  description: string;\n  link?: string;\n  tags?: string;\n  status: string;\n  featured: boolean;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\nexport interface WorkExperience {\n  id: number;\n  company: string;\n  role: string;\n  startDate: string;\n  endDate: string;\n  description: string;\n  logo?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\nexport interface ReadingListItem {\n  id: number;\n  title: string;\n  author: string;\n  link?: string;\n  description?: string;\n  category?: string;\n  status: string;\n  rating?: string;\n  createdAt?: Date;\n  updatedAt?: Date;\n}\n\ninterface ContentContextType {\n  profile: Profile | undefined;\n  seoSettings: SeoSettings | undefined;\n  articles: Article[];\n  projects: Project[];\n  workHistory: WorkExperience[];\n  readingList: ReadingListItem[];\n  isLoading: boolean;\n  updateProfile: (data: Partial<Profile>) => Promise<void>;\n  updateSeoSettings: (data: Partial<SeoSettings>) => Promise<void>;\n  addArticle: (article: Partial<Article>) => Promise<Article>;\n  updateArticle: (id: number, data: Partial<Article>) => Promise<void>;\n  deleteArticle: (id: number) => Promise<void>;\n  addProject: (project: Partial<Project>) => Promise<void>;\n  updateProject: (id: number, data: Partial<Project>) => Promise<void>;\n  deleteProject: (id: number) => Promise<void>;\n  addWork: (work: Partial<WorkExperience>) => Promise<void>;\n  updateWork: (id: number, data: Partial<WorkExperience>) => Promise<void>;\n  deleteWork: (id: number) => Promise<void>;\n  addReadingListItem: (item: Partial<ReadingListItem>) => Promise<void>;\n  updateReadingListItem: (id: number, data: Partial<ReadingListItem>) => Promise<void>;\n  deleteReadingListItem: (id: number) => Promise<void>;\n}\n\nconst ContentContext = createContext<ContentContextType | undefined>(undefined);\n\nexport function ContentProvider({ children }: { children: ReactNode }) {\n  const queryClient = useQueryClient();\n  const { toast } = useToast();\n\n  // Fetch profile\n  const { data: profile, isLoading: profileLoading } = useQuery<Profile>({\n    queryKey: [\"/api/profile\"],\n  });\n\n  // Fetch SEO settings\n  const { data: seoSettings, isLoading: seoLoading } = useQuery<SeoSettings>({\n    queryKey: [\"/api/seo-settings\"],\n  });\n\n  // Fetch articles\n  const { data: articles = [], isLoading: articlesLoading } = useQuery<Article[]>({\n    queryKey: [\"/api/articles\"],\n  });\n\n  // Fetch projects\n  const { data: projects = [], isLoading: projectsLoading } = useQuery<Project[]>({\n    queryKey: [\"/api/projects\"],\n  });\n\n  // Fetch work experiences\n  const { data: workHistory = [], isLoading: workLoading } = useQuery<WorkExperience[]>({\n    queryKey: [\"/api/work-experiences\"],\n  });\n\n  // Fetch reading list\n  const { data: readingList = [], isLoading: readingLoading } = useQuery<ReadingListItem[]>({\n    queryKey: [\"/api/reading-list\"],\n  });\n\n  const handleUnauthorized = (error: Error) => {\n    if (isUnauthorizedError(error)) {\n      toast({\n        title: \"Unauthorized\",\n        description: \"You are logged out. Logging in again...\",\n        variant: \"destructive\",\n      });\n      setTimeout(() => {\n        window.location.href = \"/api/login\";\n      }, 500);\n      return true;\n    }\n    return false;\n  };\n\n  // Profile mutation\n  const updateProfileMutation = useMutation({\n    mutationFn: async (data: Partial<Profile>) => {\n      const res = await fetch(\"/api/profile\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/profile\"] });\n    },\n    onError: (error: Error) => {\n      if (!handleUnauthorized(error)) {\n        toast({\n          title: \"Error\",\n          description: \"Failed to update profile\",\n          variant: \"destructive\",\n        });\n      }\n    },\n  });\n\n  // SEO Settings mutation\n  const updateSeoSettingsMutation = useMutation({\n    mutationFn: async (data: Partial<SeoSettings>) => {\n      const res = await fetch(\"/api/seo-settings\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/seo-settings\"] });\n      toast({\n        title: \"Success\",\n        description: \"SEO settings updated\",\n      });\n    },\n    onError: (error: Error) => {\n      if (!handleUnauthorized(error)) {\n        toast({\n          title: \"Error\",\n          description: \"Failed to update SEO settings\",\n          variant: \"destructive\",\n        });\n      }\n    },\n  });\n\n  // Article mutations\n  const addArticleMutation = useMutation({\n    mutationFn: async (data: Partial<Article>) => {\n      const res = await fetch(\"/api/articles\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: (newArticle) => {\n      // Invalidate article list cache\n      queryClient.invalidateQueries({ queryKey: [\"/api/articles\"] });\n      // Invalidate individual article cache if slug exists\n      if (newArticle?.slug) {\n        queryClient.invalidateQueries({ queryKey: [\"article\", newArticle.slug] });\n      }\n      // Invalidate all article queries\n      queryClient.invalidateQueries({ queryKey: [\"article\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  const updateArticleMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: number; data: Partial<Article> }) => {\n      const res = await fetch(`/api/articles/${id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: (updatedArticle) => {\n      // Invalidate article list cache\n      queryClient.invalidateQueries({ queryKey: [\"/api/articles\"] });\n      // Invalidate individual article cache by slug\n      if (updatedArticle?.slug) {\n        queryClient.invalidateQueries({ queryKey: [\"article\", updatedArticle.slug] });\n      }\n      // Invalidate all article queries to catch any slug changes\n      queryClient.invalidateQueries({ queryKey: [\"article\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  const deleteArticleMutation = useMutation({\n    mutationFn: async (id: number) => {\n      const res = await fetch(`/api/articles/${id}`, {\n        method: \"DELETE\",\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/articles\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  // Project mutations\n  const addProjectMutation = useMutation({\n    mutationFn: async (data: Partial<Project>) => {\n      const res = await fetch(\"/api/projects\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/projects\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  const updateProjectMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: number; data: Partial<Project> }) => {\n      const res = await fetch(`/api/projects/${id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/projects\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  const deleteProjectMutation = useMutation({\n    mutationFn: async (id: number) => {\n      const res = await fetch(`/api/projects/${id}`, {\n        method: \"DELETE\",\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/projects\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  // Work Experience mutations\n  const addWorkMutation = useMutation({\n    mutationFn: async (data: Partial<WorkExperience>) => {\n      const res = await fetch(\"/api/work-experiences\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/work-experiences\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  const updateWorkMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: number; data: Partial<WorkExperience> }) => {\n      const res = await fetch(`/api/work-experiences/${id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/work-experiences\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  const deleteWorkMutation = useMutation({\n    mutationFn: async (id: number) => {\n      const res = await fetch(`/api/work-experiences/${id}`, {\n        method: \"DELETE\",\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/work-experiences\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  // Reading List mutations\n  const addReadingListItemMutation = useMutation({\n    mutationFn: async (data: Partial<ReadingListItem>) => {\n      const res = await fetch(\"/api/reading-list\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/reading-list\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  const updateReadingListItemMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: number; data: Partial<ReadingListItem> }) => {\n      const res = await fetch(`/api/reading-list/${id}`, {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n      return res.json();\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/reading-list\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  const deleteReadingListItemMutation = useMutation({\n    mutationFn: async (id: number) => {\n      const res = await fetch(`/api/reading-list/${id}`, {\n        method: \"DELETE\",\n        credentials: \"include\",\n      });\n      if (!res.ok) throw new Error(`${res.status}: ${res.statusText}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/reading-list\"] });\n    },\n    onError: (error: Error) => handleUnauthorized(error),\n  });\n\n  // Normalize profile visibility fields to booleans\n  const normalizedProfile = profile ? {\n    ...profile,\n    showTwitter: profile.showTwitter ?? true,\n    showLinkedin: profile.showLinkedin ?? true,\n    showGithub: profile.showGithub ?? true,\n    showEmail: profile.showEmail ?? true,\n  } : undefined;\n\n  const value: ContentContextType = {\n    profile: normalizedProfile,\n    seoSettings,\n    articles,\n    projects,\n    workHistory,\n    readingList,\n    isLoading: profileLoading || seoLoading || articlesLoading || projectsLoading || workLoading || readingLoading,\n    updateProfile: (data) => updateProfileMutation.mutateAsync(data),\n    updateSeoSettings: (data) => updateSeoSettingsMutation.mutateAsync(data),\n    addArticle: (data) => addArticleMutation.mutateAsync(data),\n    updateArticle: (id, data) => updateArticleMutation.mutateAsync({ id, data }),\n    deleteArticle: (id) => deleteArticleMutation.mutateAsync(id),\n    addProject: (data) => addProjectMutation.mutateAsync(data),\n    updateProject: (id, data) => updateProjectMutation.mutateAsync({ id, data }),\n    deleteProject: (id) => deleteProjectMutation.mutateAsync(id),\n    addWork: (data) => addWorkMutation.mutateAsync(data),\n    updateWork: (id, data) => updateWorkMutation.mutateAsync({ id, data }),\n    deleteWork: (id) => deleteWorkMutation.mutateAsync(id),\n    addReadingListItem: (data) => addReadingListItemMutation.mutateAsync(data),\n    updateReadingListItem: (id, data) => updateReadingListItemMutation.mutateAsync({ id, data }),\n    deleteReadingListItem: (id) => deleteReadingListItemMutation.mutateAsync(id),\n  };\n\n  return <ContentContext.Provider value={value}>{children}</ContentContext.Provider>;\n}\n\nexport function useContent() {\n  const context = useContext(ContentContext);\n  if (!context) {\n    throw new Error(\"useContent must be used within ContentProvider\");\n  }\n  return context;\n}\n","size_bytes":15413},"server/index-prod.ts":{"content":"import fs from \"node:fs\";\nimport { type Server } from \"node:http\";\nimport path from \"node:path\";\n\nimport express, { type Express, type Request } from \"express\";\n\nimport runApp from \"./app\";\n\nexport async function serveStatic(app: Express, server: Server) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n\n(async () => {\n  await runApp(serveStatic);\n})();\n","size_bytes":726},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/item.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction ItemGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      role=\"list\"\n      data-slot=\"item-group\"\n      className={cn(\"group/item-group flex flex-col\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"item-separator\"\n      orientation=\"horizontal\"\n      className={cn(\"my-0\", className)}\n      {...props}\n    />\n  )\n}\n\nconst itemVariants = cva(\n  \"group/item [a]:hover:bg-accent/50 focus-visible:border-ring focus-visible:ring-ring/50 [a]:transition-colors flex flex-wrap items-center rounded-md border border-transparent text-sm outline-none transition-colors duration-100 focus-visible:ring-[3px]\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border-border\",\n        muted: \"bg-muted/50\",\n      },\n      size: {\n        default: \"gap-4 p-4 \",\n        sm: \"gap-2.5 px-4 py-3\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Item({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> &\n  VariantProps<typeof itemVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n  return (\n    <Comp\n      data-slot=\"item\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(itemVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nconst itemMediaVariants = cva(\n  \"flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:translate-y-0.5 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted size-8 rounded-sm border [&_svg:not([class*='size-'])]:size-4\",\n        image:\n          \"size-10 overflow-hidden rounded-sm [&_img]:size-full [&_img]:object-cover\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction ItemMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof itemMediaVariants>) {\n  return (\n    <div\n      data-slot=\"item-media\"\n      data-variant={variant}\n      className={cn(itemMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction ItemContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-content\"\n      className={cn(\n        \"flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-title\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"item-description\"\n      className={cn(\n        \"text-muted-foreground line-clamp-2 text-balance text-sm font-normal leading-normal\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemActions({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-actions\"\n      className={cn(\"flex items-center gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-header\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-footer\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Item,\n  ItemMedia,\n  ItemContent,\n  ItemActions,\n  ItemGroup,\n  ItemSeparator,\n  ItemTitle,\n  ItemDescription,\n  ItemHeader,\n  ItemFooter,\n}\n","size_bytes":4494},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/pages/admin/dashboard.tsx":{"content":"import { useState, useEffect, useRef, useCallback } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { \n  LayoutDashboard, PenTool, FolderGit2, BookOpen, Settings, \n  LogOut, Image as ImageIcon, Save, Plus, Search, Globe,\n  ChevronsLeft, ChevronsRight, Link as LinkIcon, Star,\n  ChevronRight, Upload, Trash2, Edit2, ArrowLeft, Eye, CheckCircle,\n  MoreHorizontal, Clock, Calendar as CalendarIcon, ArrowUpDown, Filter, Briefcase,\n  Twitter, Linkedin, Github, Mail, AlertCircle, Check, Loader2\n} from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { cn, formatMonthYear } from \"@/lib/utils\";\nimport { Editor } from \"@/components/admin/editor\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useContent, Article, Project, WorkExperience } from \"@/lib/content-context\";\nimport { ObjectUploader } from \"@/components/ObjectUploader\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport type { UploadResult } from \"@uppy/core\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator\n} from \"@/components/ui/dropdown-menu\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { format } from \"date-fns\";\nimport { MonthYearPicker } from \"@/components/ui/month-year-picker\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\nimport { Sheet, SheetContent, SheetDescription, SheetHeader, SheetTitle, SheetTrigger, SheetFooter, SheetClose } from \"@/components/ui/sheet\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { ThemeToggle } from \"@/components/theme-toggle\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip as RechartsTooltip, ResponsiveContainer } from 'recharts';\n\nconst visitorData = [\n  { name: 'Mon', visits: 1240 },\n  { name: 'Tue', visits: 1450 },\n  { name: 'Wed', visits: 1800 },\n  { name: 'Thu', visits: 1600 },\n  { name: 'Fri', visits: 2100 },\n  { name: 'Sat', visits: 1900 },\n  { name: 'Sun', visits: 2300 },\n];\n\nexport default function AdminDashboard() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  \n  // Read initial tab from URL search params\n  const initialTab = (() => {\n    const params = new URLSearchParams(window.location.search);\n    const tab = params.get(\"tab\");\n    return tab && [\"overview\", \"writing\", \"projects\", \"work\", \"profile\", \"seo\"].includes(tab) \n      ? tab \n      : \"overview\";\n  })();\n  \n  const [activeTab, setActiveTab] = useState(initialTab);\n  const [articleStatusFilter, setArticleStatusFilter] = useState<\"all\" | \"draft\" | \"published\">(\"all\");\n  \n  // Helper to change tab and update URL (preserves browser history)\n  const changeTab = useCallback((tab: string) => {\n    setActiveTab(tab);\n    // Update URL with query params without full navigation\n    const newUrl = `/admin?tab=${tab}`;\n    window.history.pushState({}, '', newUrl);\n  }, []);\n  \n  // Sync activeTab with URL when browser back/forward buttons are used\n  useEffect(() => {\n    const handlePopState = () => {\n      const params = new URLSearchParams(window.location.search);\n      const tab = params.get(\"tab\");\n      if (tab && [\"overview\", \"writing\", \"projects\", \"work\", \"reading\", \"media\", \"seo\", \"settings\"].includes(tab)) {\n        setActiveTab(tab);\n      } else {\n        setActiveTab(\"overview\");\n      }\n    };\n    \n    window.addEventListener('popstate', handlePopState);\n    return () => window.removeEventListener('popstate', handlePopState);\n  }, []);\n  const { \n    profile, seoSettings, articles, projects, workHistory,\n    updateProfile, updateSeoSettings, addArticle, updateArticle, deleteArticle,\n    addProject, updateProject, deleteProject,\n    addWork, updateWork, deleteWork\n  } = useContent();\n  \n  const [formData, setFormData] = useState(profile);\n  const [seoFormData, setSeoFormData] = useState(seoSettings);\n  const [editingArticle, setEditingArticle] = useState<Article | null>(null);\n  const [editingProject, setEditingProject] = useState<Project | null>(null);\n  const [editingWork, setEditingWork] = useState<WorkExperience | null>(null);\n  const [isWriting, setIsWriting] = useState(false);\n  const [saveStatus, setSaveStatus] = useState<\"idle\" | \"saving\" | \"saved\">(\"idle\");\n  const saveTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const [isSidebarExpanded, setIsSidebarExpanded] = useState(true);\n  const [isProjectSheetOpen, setIsProjectSheetOpen] = useState(false);\n  const [isWorkSheetOpen, setIsWorkSheetOpen] = useState(false);\n  \n  const [sortConfig, setSortConfig] = useState<{ key: keyof Article | keyof Project | keyof WorkExperience; direction: 'asc' | 'desc' } | null>(null);\n  const [filterQuery, setFilterQuery] = useState(\"\");\n\n  // Check if profile form has changes\n  const hasProfileChanges = formData && profile && (\n    formData.name !== profile.name ||\n    formData.title !== profile.title ||\n    formData.bio !== profile.bio ||\n    formData.email !== profile.email ||\n    formData.twitter !== profile.twitter ||\n    formData.linkedin !== profile.linkedin ||\n    formData.github !== profile.github ||\n    formData.showTwitter !== profile.showTwitter ||\n    formData.showLinkedin !== profile.showLinkedin ||\n    formData.showGithub !== profile.showGithub ||\n    formData.showEmail !== profile.showEmail\n  );\n\n  // Reset states when changing tabs\n  useEffect(() => {\n    if (activeTab !== 'writing') {\n      setIsWriting(false);\n      setEditingArticle(null);\n    }\n    if (activeTab !== 'projects') {\n      setIsProjectSheetOpen(false);\n      setEditingProject(null);\n    }\n    if (activeTab !== 'work') {\n      setIsWorkSheetOpen(false);\n      setEditingWork(null);\n    }\n    // Reset sort and filter\n    setSortConfig(null);\n    setFilterQuery(\"\");\n  }, [activeTab]);\n\n  useEffect(() => {\n    setFormData(profile);\n  }, [profile]);\n\n  useEffect(() => {\n    setSeoFormData(seoSettings || {\n      siteTitle: \"Portfolio\",\n      siteDescription: \"Welcome to my portfolio\",\n      siteKeywords: \"\",\n      ogTitle: \"\",\n      ogDescription: \"\",\n      ogImage: \"\",\n      twitterCard: \"summary_large_image\",\n      twitterSite: \"\",\n      twitterCreator: \"\",\n      faviconUrl: \"\"\n    });\n  }, [seoSettings]);\n\n  const handleSignOut = async () => {\n    try {\n      await fetch(\"/api/auth/logout\", {\n        method: \"POST\",\n        credentials: \"include\",\n      });\n      \n      await queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n      setLocation(\"/admin/login\");\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n      toast({\n        title: \"Sign Out Error\",\n        description: \"Failed to sign out. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n  \n  const handleSaveProfile = async () => {\n    if (!formData) return;\n    await updateProfile(formData);\n    toast({\n      title: \"Profile Updated\",\n      description: \"Your profile information has been saved.\",\n    });\n  };\n\n  const handleAvatarUpload = async () => {\n    try {\n      const response = await fetch(\"/api/objects/upload\", {\n        method: \"POST\",\n        credentials: \"include\",\n      });\n      if (!response.ok) throw new Error(\"Failed to get upload URL\");\n      const { uploadURL, objectPath } = await response.json();\n      \n      return {\n        method: \"PUT\" as const,\n        url: uploadURL,\n        objectPath,\n      };\n    } catch (error) {\n      console.error(\"Error getting upload URL:\", error);\n      toast({\n        title: \"Upload Error\",\n        description: \"Failed to prepare image upload\",\n        variant: \"destructive\",\n      });\n      throw error;\n    }\n  };\n\n  const handleAvatarUploadComplete = async (result: UploadResult<Record<string, unknown>, Record<string, unknown>>) => {\n    try {\n      if (!result.successful || result.successful.length === 0) return;\n      \n      const uploadedFile = result.successful[0];\n      const objectPath = uploadedFile.meta?.objectPath as string | undefined;\n      \n      if (!objectPath) {\n        throw new Error(\"Object path not available - upload may have failed\");\n      }\n      \n      const response = await fetch(\"/api/profile/avatar\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        credentials: \"include\",\n        body: JSON.stringify({ objectPath }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || \"Failed to save avatar\");\n      }\n      \n      const { avatarUrl } = await response.json();\n      \n      setFormData(prev => prev ? { ...prev, avatarUrl } : undefined);\n      \n      toast({\n        title: \"Avatar Updated\",\n        description: \"Your profile picture has been updated successfully.\",\n      });\n    } catch (error) {\n      console.error(\"Error saving avatar:\", error);\n      toast({\n        title: \"Save Error\",\n        description: error instanceof Error ? error.message : \"Failed to save your profile picture\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleDeleteAvatar = async () => {\n    try {\n      const response = await fetch(\"/api/profile/avatar\", {\n        method: \"DELETE\",\n        credentials: \"include\",\n      });\n\n      if (!response.ok) throw new Error(\"Failed to delete avatar\");\n      \n      setFormData(prev => prev ? { ...prev, avatarUrl: undefined } : undefined);\n      \n      toast({\n        title: \"Avatar Removed\",\n        description: \"Your profile picture has been removed.\",\n      });\n    } catch (error) {\n      console.error(\"Error deleting avatar:\", error);\n      toast({\n        title: \"Delete Error\",\n        description: \"Failed to remove your profile picture\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleSaveSeoSettings = async () => {\n    if (!seoFormData) return;\n    await updateSeoSettings(seoFormData);\n  };\n\n  const handleNewPost = () => {\n    setLocation(\"/admin/article/new\");\n  };\n\n  const handleEditPost = (article: Article) => {\n    setLocation(`/admin/article/${article.id}`);\n  };\n\n  const autoSaveArticle = useCallback(async (article: Article) => {\n    if (!article) return;\n    \n    try {\n      setSaveStatus(\"saving\");\n      if (article.id) {\n        // Update existing article (trust the ID presence, don't rely on cache)\n        await updateArticle(article.id, article);\n      } else {\n        // For new articles, create and capture the ID\n        const createdArticle = await addArticle(article);\n        if (createdArticle && createdArticle.id) {\n          // Update editing state with the newly created article's ID\n          setEditingArticle(prev => prev ? { ...prev, id: createdArticle.id } : null);\n        }\n      }\n      setSaveStatus(\"saved\");\n      setTimeout(() => setSaveStatus(\"idle\"), 2000);\n    } catch (error) {\n      console.error(\"Error auto-saving article:\", error);\n      setSaveStatus(\"idle\");\n      toast({\n        title: \"Auto-save Failed\",\n        description: \"There was a problem saving your changes.\",\n        variant: \"destructive\"\n      });\n    }\n  }, [updateArticle, addArticle, toast]);\n\n  // Auto-save effect with debouncing\n  useEffect(() => {\n    if (!editingArticle || !isWriting) return;\n\n    // Clear existing timeout\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    // Set new timeout for auto-save (2 seconds after last change)\n    saveTimeoutRef.current = setTimeout(() => {\n      autoSaveArticle(editingArticle);\n    }, 2000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [editingArticle, isWriting, autoSaveArticle]);\n\n  const handleSaveArticle = async () => {\n    if (!editingArticle) return;\n\n    try {\n      setSaveStatus(\"saving\");\n      if (editingArticle.id) {\n        await updateArticle(editingArticle.id, editingArticle);\n      } else {\n        await addArticle(editingArticle);\n      }\n\n      toast({\n        title: \"Article Saved\",\n        description: `\"${editingArticle.title || 'Untitled'}\" has been saved successfully.`,\n      });\n      setSaveStatus(\"saved\");\n      setIsWriting(false);\n      setEditingArticle(null);\n    } catch (error) {\n      console.error(\"Error saving article:\", error);\n      setSaveStatus(\"idle\");\n    }\n  };\n\n  const handleDeleteArticle = async (id: number, e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (confirm(\"Are you sure you want to delete this article?\")) {\n      try {\n        await deleteArticle(id);\n        toast({\n          title: \"Article Deleted\",\n          description: \"The article has been permanently removed.\",\n          variant: \"destructive\"\n        });\n      } catch (error) {\n        console.error(\"Error deleting article:\", error);\n      }\n    }\n  };\n\n  const canPublishArticle = (article: Article | null) => {\n    if (!article) return false;\n    return article.slug?.trim() !== '' && article.title?.trim() !== '';\n  };\n\n  const toggleArticleStatus = async (article: Article) => {\n    if (article.status === \"Draft\" && !canPublishArticle(article)) {\n      toast({\n        title: \"Cannot Publish\",\n        description: \"Article must have a title and slug before publishing.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    const newStatus = article.status === \"Published\" ? \"Draft\" : \"Published\";\n    try {\n      await updateArticle(article.id, { status: newStatus });\n      toast({\n        title: `Article ${newStatus}`,\n        description: `\"${article.title}\" is now ${newStatus.toLowerCase()}.`,\n      });\n    } catch (error) {\n      console.error(\"Error updating article status:\", error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to update article status.\",\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const handleSaveProject = async () => {\n    if (!editingProject) return;\n\n    if (editingProject.id && projects.some(p => p.id === editingProject.id)) {\n      await updateProject(editingProject.id, editingProject);\n    } else {\n      await addProject(editingProject);\n    }\n\n    toast({\n      title: \"Project Saved\",\n      description: `\"${editingProject.title || 'Untitled'}\" has been saved successfully.`,\n    });\n    setIsProjectSheetOpen(false);\n    setEditingProject(null);\n  };\n\n  const handleNewProject = () => {\n    const newProject: Partial<Project> = {\n      title: \"\",\n      description: \"\",\n      link: \"\",\n      tags: \"\",\n      status: \"Active\",\n      featured: false\n    };\n    setEditingProject(newProject as Project);\n    setIsProjectSheetOpen(true);\n  };\n\n  const handleEditProject = (project: Project) => {\n    setEditingProject(project);\n    setIsProjectSheetOpen(true);\n  };\n\n  const handleDeleteProject = async (id: number, e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (confirm(\"Are you sure you want to delete this project?\")) {\n      await deleteProject(id);\n      toast({\n        title: \"Project Deleted\",\n        description: \"The project has been permanently removed.\",\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const handleNewWork = () => {\n    const newWork: Partial<WorkExperience> = {\n      company: \"\",\n      role: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      description: \"\",\n      logo: \"\"\n    };\n    setEditingWork(newWork as WorkExperience);\n    setIsWorkSheetOpen(true);\n  };\n\n  const handleEditWork = (work: WorkExperience) => {\n    setEditingWork(work);\n    setIsWorkSheetOpen(true);\n  };\n\n  const handleSaveWork = async () => {\n    if (!editingWork) return;\n\n    // Validation\n    if (!editingWork.company?.trim()) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Please enter a company name.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    if (!editingWork.role?.trim()) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Please enter a role title.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    if (!editingWork.startDate) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Please select a start date.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    // Require either \"Present\" or an actual end date - no ambiguous empty state\n    if (!editingWork.endDate || (editingWork.endDate !== \"Present\" && !editingWork.endDate.trim())) {\n      toast({\n        title: \"Validation Error\",\n        description: \"Please either check 'I currently work here' or select an end date.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    if (editingWork.id && workHistory.some(w => w.id === editingWork.id)) {\n      await updateWork(editingWork.id, editingWork);\n    } else {\n      await addWork(editingWork);\n    }\n\n    toast({\n      title: \"Work Experience Saved\",\n      description: `\"${editingWork.company}\" has been saved successfully.`,\n    });\n    setIsWorkSheetOpen(false);\n    setEditingWork(null);\n  };\n\n  const handleDeleteWork = async (id: number, e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (confirm(\"Are you sure you want to delete this work experience?\")) {\n      await deleteWork(id);\n      toast({\n        title: \"Work Experience Deleted\",\n        description: \"The entry has been permanently removed.\",\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const handleSort = (key: any) => {\n    let direction: 'asc' | 'desc' = 'asc';\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({ key, direction });\n  };\n\n  const getSortedAndFilteredProjects = () => {\n    let result = [...projects];\n\n    if (filterQuery) {\n      const query = filterQuery.toLowerCase();\n      result = result.filter(project => \n        project.title.toLowerCase().includes(query) ||\n        project.description.toLowerCase().includes(query) ||\n        (project.tags && project.tags.toLowerCase().includes(query))\n      );\n    }\n\n    if (sortConfig) {\n      result.sort((a, b) => {\n        const aValue = (a as any)[sortConfig.key] || \"\";\n        const bValue = (b as any)[sortConfig.key] || \"\";\n        \n        if (aValue < bValue) return sortConfig.direction === 'asc' ? -1 : 1;\n        if (aValue > bValue) return sortConfig.direction === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n\n    return result;\n  };\n\n  const filteredProjects = getSortedAndFilteredProjects();\n\n  const getSortedAndFilteredArticles = () => {\n    let result = [...articles];\n\n    // Filter by status\n    if (articleStatusFilter === \"draft\") {\n      result = result.filter(article => article.status === \"Draft\");\n    } else if (articleStatusFilter === \"published\") {\n      result = result.filter(article => article.status === \"Published\");\n    }\n\n    // Filter by search query\n    if (filterQuery) {\n      const query = filterQuery.toLowerCase();\n      result = result.filter(article => \n        article.title.toLowerCase().includes(query) ||\n        article.content.toLowerCase().includes(query) ||\n        (article.tags && article.tags.toLowerCase().includes(query)) ||\n        (article.seoKeywords && article.seoKeywords.toLowerCase().includes(query))\n      );\n    }\n\n    if (sortConfig) {\n      result.sort((a, b) => {\n        const aValue = (a as any)[sortConfig.key] || \"\";\n        const bValue = (b as any)[sortConfig.key] || \"\";\n        \n        // Special handling for numbers (views)\n        if (sortConfig.key === 'views') {\n             const aNum = parseInt(aValue.toString().replace(/[^0-9]/g, '')) || 0;\n             const bNum = parseInt(bValue.toString().replace(/[^0-9]/g, '')) || 0;\n             return sortConfig.direction === 'asc' ? aNum - bNum : bNum - aNum;\n        }\n\n        if (aValue < bValue) {\n          return sortConfig.direction === 'asc' ? -1 : 1;\n        }\n        if (aValue > bValue) {\n          return sortConfig.direction === 'asc' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n\n    return result;\n  };\n\n  const filteredArticles = getSortedAndFilteredArticles();\n\n  const getSortedAndFilteredWork = () => {\n    let result = [...workHistory];\n\n    if (filterQuery) {\n      const query = filterQuery.toLowerCase();\n      result = result.filter(work => \n        work.company.toLowerCase().includes(query) ||\n        work.role.toLowerCase().includes(query) ||\n        work.description.toLowerCase().includes(query)\n      );\n    }\n\n    if (sortConfig) {\n      result.sort((a, b) => {\n        const aValue = (a as any)[sortConfig.key] || \"\";\n        const bValue = (b as any)[sortConfig.key] || \"\";\n        \n        if (aValue < bValue) return sortConfig.direction === 'asc' ? -1 : 1;\n        if (aValue > bValue) return sortConfig.direction === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n\n    return result;\n  };\n\n  const filteredWork = getSortedAndFilteredWork();\n\n  const SidebarItem = ({ icon: Icon, label, id }: { icon: any, label: string, id: string }) => {\n    if (!isSidebarExpanded) {\n      return (\n        <Tooltip delayDuration={0}>\n          <TooltipTrigger asChild>\n            <button\n              onClick={() => changeTab(id)}\n              className={cn(\n                \"w-full flex items-center justify-center p-2 rounded-md transition-colors\",\n                activeTab === id \n                  ? \"bg-primary text-primary-foreground\" \n                  : \"text-muted-foreground hover:bg-secondary hover:text-foreground\"\n              )}\n            >\n              <Icon className=\"h-5 w-5\" />\n              <span className=\"sr-only\">{label}</span>\n            </button>\n          </TooltipTrigger>\n          <TooltipContent side=\"right\">{label}</TooltipContent>\n        </Tooltip>\n      );\n    }\n    \n    return (\n      <button\n        onClick={() => changeTab(id)}\n        className={cn(\n          \"w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-md transition-colors\",\n          activeTab === id \n            ? \"bg-primary text-primary-foreground\" \n            : \"text-muted-foreground hover:bg-secondary hover:text-foreground\"\n        )}\n      >\n        <Icon className=\"h-4 w-4\" />\n        {label}\n      </button>\n    );\n  };\n\n  const getWordCount = (content: string) => {\n    const text = content.replace(/<[^>]*>?/gm, ''); \n    const noOfWords = text.split(/\\s+/).filter(Boolean).length;\n    return noOfWords;\n  };\n\n  const getReadingTime = (content: string) => {\n    const wordsPerMinute = 200;\n    const wordCount = getWordCount(content);\n    const minutes = Math.ceil(wordCount / wordsPerMinute);\n    return `${minutes} min read`;\n  };\n\n  return (\n    <div className=\"flex h-screen bg-background overflow-hidden\">\n      {/* Admin Sidebar */}\n      <aside className={cn(\n        \"border-r bg-muted/30 flex flex-col transition-all duration-300 ease-in-out group relative\",\n        isSidebarExpanded ? \"w-64\" : \"w-[72px]\"\n      )}>\n        <div className={cn(\n          \"bg-background/50 backdrop-blur transition-all flex flex-col\",\n          isSidebarExpanded ? \"p-6 border-b\" : \"p-4 border-b-0 items-center\"\n        )}>\n          <div className={cn(\n            \"flex items-center gap-3 overflow-hidden w-full\",\n            isSidebarExpanded ? \"\" : \"justify-center\"\n          )}>\n             <div className=\"h-8 w-8 rounded-lg bg-primary flex-shrink-0 flex items-center justify-center text-primary-foreground font-bold\">\n               {profile?.name?.charAt(0) || 'A'}\n             </div>\n             {isSidebarExpanded && (\n               <div>\n                 <div className=\"font-semibold text-sm truncate max-w-[100px]\">{profile?.name || 'Admin'}</div>\n                 <div className=\"text-xs text-muted-foreground truncate\">Admin</div>\n               </div>\n             )}\n          </div>\n          \n          <Button \n             variant=\"ghost\" \n             size=\"icon\" \n             className={cn(\n               \"h-6 w-6 text-muted-foreground hover:bg-secondary mt-4\",\n               isSidebarExpanded ? \"self-end\" : \"\"\n             )}\n             onClick={() => setIsSidebarExpanded(!isSidebarExpanded)}\n           >\n             {isSidebarExpanded ? <ChevronsLeft className=\"h-4 w-4\" /> : <ChevronsRight className=\"h-4 w-4\" />}\n           </Button>\n        </div>\n        \n        {/* Spacer for collapsed state toggle button */}\n        {!isSidebarExpanded && <div className=\"h-8\"></div>}\n\n        <div className={cn(\n          \"flex-1 overflow-y-auto space-y-6\",\n          isSidebarExpanded ? \"py-6 px-3\" : \"py-6 px-2\"\n        )}>\n          <div className=\"space-y-1\">\n            {isSidebarExpanded && (\n              <h4 className=\"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2\">Content</h4>\n            )}\n            <SidebarItem icon={LayoutDashboard} label=\"Overview\" id=\"overview\" />\n            <SidebarItem icon={Settings} label=\"Home Page\" id=\"settings\" />\n            <SidebarItem icon={PenTool} label=\"Writing\" id=\"writing\" />\n            <SidebarItem icon={FolderGit2} label=\"Projects\" id=\"projects\" />\n            <SidebarItem icon={Briefcase} label=\"Work History\" id=\"work\" />\n            <SidebarItem icon={BookOpen} label=\"Reading List\" id=\"reading\" />\n          </div>\n\n          <div className=\"space-y-1\">\n             {isSidebarExpanded && (\n               <h4 className=\"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-2\">System</h4>\n             )}\n             <SidebarItem icon={ImageIcon} label=\"Media Library\" id=\"media\" />\n             <SidebarItem icon={Globe} label=\"SEO & Metadata\" id=\"seo\" />\n          </div>\n        </div>\n\n        <div className={cn(\n          \"p-4 border-t bg-background/50 backdrop-blur flex items-center gap-2\",\n          isSidebarExpanded ? \"justify-between\" : \"flex-col justify-center\"\n        )}>\n          <Button \n            variant=\"ghost\" \n            onClick={handleSignOut} \n            className={cn(\n              \"text-muted-foreground hover:text-destructive hover:bg-destructive/10\",\n              isSidebarExpanded ? \"flex-1 justify-start gap-2\" : \"w-full justify-center px-0\"\n            )}\n            title=\"Sign Out\"\n          >\n            <LogOut className=\"h-4 w-4\" />\n            {isSidebarExpanded && \"Sign Out\"}\n          </Button>\n          <div className={cn(isSidebarExpanded ? \"flex-shrink-0\" : \"\")}>\n            <ThemeToggle />\n          </div>\n        </div>\n      </aside>\n\n      {/* Main Content Area */}\n      <main className=\"flex-1 overflow-y-auto bg-background\">\n        <div className=\"p-8 max-w-[1600px] mx-auto space-y-8\">\n          {activeTab === \"overview\" && (\n            <div className=\"space-y-8 animate-in fade-in-50 duration-500\">\n              <div>\n                <h2 className=\"text-3xl font-bold tracking-tight\">Welcome, {profile?.name?.split(' ')[0] || 'Admin'}!</h2>\n                <p className=\"text-muted-foreground mt-1\">Here's what's happening with your website today.</p>\n              </div>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                <Card className=\"lg:col-span-2 shadow-sm border-border/50\">\n                  <CardHeader>\n                    <CardTitle>Daily Visitors</CardTitle>\n                    <CardDescription>\n                      Traffic trends for the past 7 days\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"pl-2\">\n                    <div className=\"h-[300px] w-full\">\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <LineChart data={visitorData}>\n                          <XAxis \n                            dataKey=\"name\" \n                            stroke=\"#888888\" \n                            fontSize={12} \n                            tickLine={false} \n                            axisLine={false}\n                            dy={10}\n                          />\n                          <YAxis \n                            stroke=\"#888888\" \n                            fontSize={12} \n                            tickLine={false} \n                            axisLine={false}\n                            tickFormatter={(value) => `${value}`}\n                            dx={-10}\n                          />\n                          <RechartsTooltip \n                            contentStyle={{ \n                              borderRadius: 'var(--radius)', \n                              border: '1px solid hsl(var(--border))', \n                              boxShadow: 'var(--shadow-sm)',\n                              backgroundColor: 'hsl(var(--background))',\n                              color: 'hsl(var(--foreground))'\n                            }}\n                            cursor={{ stroke: 'hsl(var(--muted-foreground))', strokeWidth: 1, strokeDasharray: '4 4' }}\n                          />\n                          <Line \n                            type=\"monotone\" \n                            dataKey=\"visits\" \n                            stroke=\"hsl(var(--primary))\" \n                            strokeWidth={2}\n                            dot={false}\n                            activeDot={{ r: 4, strokeWidth: 0, fill: 'hsl(var(--primary))' }}\n                          />\n                        </LineChart>\n                      </ResponsiveContainer>\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <div className=\"space-y-6\">\n                  <Card className=\"shadow-sm border-border/50\">\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Views</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"text-3xl font-bold tracking-tight\">12,345</div>\n                      <p className=\"text-xs text-green-500 flex items-center mt-1 font-medium\">\n                        +12% from last month\n                      </p>\n                    </CardContent>\n                  </Card>\n                  <Card className=\"shadow-sm border-border/50\">\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm font-medium text-muted-foreground\">Articles</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"text-3xl font-bold tracking-tight\">{articles.length}</div>\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                        {articles.filter(a => a.status === \"Draft\").length} drafts pending\n                      </p>\n                    </CardContent>\n                  </Card>\n                  <Card className=\"shadow-sm border-border/50\">\n                    <CardHeader className=\"pb-2\">\n                      <CardTitle className=\"text-sm font-medium text-muted-foreground\">Projects</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"text-3xl font-bold tracking-tight\">{projects.length}</div>\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                        All active\n                      </p>\n                    </CardContent>\n                  </Card>\n                </div>\n              </div>\n\n              <Card className=\"shadow-sm border-border/50\">\n                <CardHeader>\n                  <CardTitle>Quick Actions</CardTitle>\n                </CardHeader>\n                <CardContent className=\"flex gap-4\">\n                   <Button onClick={() => { changeTab(\"writing\"); handleNewPost(); }} className=\"gap-2 shadow-none\">\n                     <PenTool className=\"h-4 w-4\" /> Write Article\n                   </Button>\n                   <Button onClick={() => changeTab(\"projects\")} variant=\"outline\" className=\"gap-2 shadow-none\">\n                     <FolderGit2 className=\"h-4 w-4\" /> Add Project\n                   </Button>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n\n          {activeTab === \"projects\" && (\n            <div className=\"space-y-4 animate-in fade-in-50 duration-500\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold tracking-tight\">Projects</h2>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"relative w-64\">\n                        <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                        <Input \n                            placeholder=\"Filter projects...\" \n                            className=\"pl-8 h-9 text-sm\" \n                            value={filterQuery}\n                            onChange={(e) => setFilterQuery(e.target.value)}\n                        />\n                    </div>\n                    <Sheet open={isProjectSheetOpen} onOpenChange={(open) => {\n                        setIsProjectSheetOpen(open);\n                        if (!open) setEditingProject(null);\n                    }}>\n                        <SheetTrigger asChild>\n                            <Button onClick={handleNewProject} size=\"sm\" className=\"gap-2 h-9\"><Plus className=\"h-4 w-4\" /> Add Project</Button>\n                        </SheetTrigger>\n                        <SheetContent className=\"sm:max-w-[540px] overflow-y-auto\">\n                            <SheetHeader className=\"mb-6\">\n                                <SheetTitle>{editingProject?.title ? 'Edit Project' : 'New Project'}</SheetTitle>\n                                <SheetDescription>\n                                    Add or edit project details to showcase in your portfolio.\n                                </SheetDescription>\n                            </SheetHeader>\n                            {editingProject && (\n                                <div className=\"space-y-6\">\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"title\">Project Title</Label>\n                                        <Input \n                                            id=\"title\" \n                                            value={editingProject.title} \n                                            onChange={(e) => setEditingProject({...editingProject, title: e.target.value})}\n                                            placeholder=\"e.g. Campsite\"\n                                        />\n                                    </div>\n                                    \n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"description\">Description</Label>\n                                        <Textarea \n                                            id=\"description\" \n                                            value={editingProject.description} \n                                            onChange={(e) => setEditingProject({...editingProject, description: e.target.value})}\n                                            placeholder=\"Brief description of the project...\"\n                                            className=\"min-h-[100px]\"\n                                        />\n                                    </div>\n\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"link\">Project Link</Label>\n                                        <div className=\"relative\">\n                                            <LinkIcon className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                                            <Input \n                                                id=\"link\" \n                                                className=\"pl-8\"\n                                                value={editingProject.link} \n                                                onChange={(e) => setEditingProject({...editingProject, link: e.target.value})}\n                                                placeholder=\"https://...\"\n                                            />\n                                        </div>\n                                    </div>\n\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"tags\">Tags</Label>\n                                        <Input \n                                            id=\"tags\" \n                                            value={editingProject.tags} \n                                            onChange={(e) => setEditingProject({...editingProject, tags: e.target.value})}\n                                            placeholder=\"e.g. Design, React, Mobile (comma separated)\"\n                                        />\n                                        <p className=\"text-xs text-muted-foreground\">Comma separated tags for filtering</p>\n                                    </div>\n\n                                    <div className=\"space-y-4 pt-4 border-t\">\n                                        <div className=\"flex items-center justify-between\">\n                                            <div className=\"space-y-0.5\">\n                                                <Label className=\"text-base\">Featured Project</Label>\n                                                <p className=\"text-sm text-muted-foreground\">Pin this project to the top of your list</p>\n                                            </div>\n                                            <Switch \n                                                checked={editingProject.featured}\n                                                onCheckedChange={(checked) => setEditingProject({...editingProject, featured: checked})}\n                                            />\n                                        </div>\n                                        <Separator />\n                                        <div className=\"flex items-center justify-between\">\n                                            <div className=\"space-y-0.5\">\n                                                <Label className=\"text-base\">Active Status</Label>\n                                                <p className=\"text-sm text-muted-foreground\">Show this project publicly</p>\n                                            </div>\n                                            <Switch \n                                                checked={editingProject.status === \"Active\"}\n                                                onCheckedChange={(checked) => setEditingProject({...editingProject, status: checked ? \"Active\" : \"Archived\"})}\n                                            />\n                                        </div>\n                                    </div>\n\n                                    <SheetFooter className=\"pt-6\">\n                                        <SheetClose asChild>\n                                            <Button variant=\"outline\">Cancel</Button>\n                                        </SheetClose>\n                                        <Button onClick={handleSaveProject}>Save Project</Button>\n                                    </SheetFooter>\n                                </div>\n                            )}\n                        </SheetContent>\n                    </Sheet>\n                </div>\n              </div>\n\n              <div className=\"border rounded-md bg-background overflow-hidden\">\n                <Table>\n                    <TableHeader>\n                        <TableRow className=\"bg-muted/50 hover:bg-muted/50\">\n                            <TableHead className=\"w-[300px] cursor-pointer hover:text-foreground\" onClick={() => handleSort('title')}>\n                                <div className=\"flex items-center gap-1\">\n                                    Title {sortConfig?.key === 'title' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"cursor-pointer hover:text-foreground\" onClick={() => handleSort('description')}>\n                                <div className=\"flex items-center gap-1\">\n                                    Description {sortConfig?.key === 'description' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"cursor-pointer hover:text-foreground\" onClick={() => handleSort('tags')}>\n                                <div className=\"flex items-center gap-1\">\n                                    Tags {sortConfig?.key === 'tags' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"w-[100px] text-center cursor-pointer hover:text-foreground\" onClick={() => handleSort('featured')}>\n                                <div className=\"flex items-center justify-center gap-1\">\n                                    Featured {sortConfig?.key === 'featured' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"w-[100px] text-center cursor-pointer hover:text-foreground\" onClick={() => handleSort('status')}>\n                                <div className=\"flex items-center justify-center gap-1\">\n                                    Status {sortConfig?.key === 'status' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"w-[50px]\"></TableHead>\n                        </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                        {filteredProjects.length === 0 ? (\n                            <TableRow>\n                                <TableCell colSpan={6} className=\"h-24 text-center text-muted-foreground\">\n                                    No projects found.\n                                </TableCell>\n                            </TableRow>\n                        ) : (\n                            filteredProjects.map((project) => (\n                                <TableRow \n                                    key={project.id} \n                                    className=\"group cursor-pointer hover:bg-muted/30\"\n                                    onClick={() => handleEditProject(project)}\n                                >\n                                    <TableCell className=\"font-medium\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <div className=\"h-8 w-8 rounded bg-primary/10 flex items-center justify-center text-primary\">\n                                                <FolderGit2 className=\"h-4 w-4\" />\n                                            </div>\n                                            <span className=\"truncate max-w-[200px] font-semibold\">{project.title || \"Untitled\"}</span>\n                                        </div>\n                                    </TableCell>\n                                    <TableCell className=\"text-xs text-muted-foreground max-w-[300px] truncate\">\n                                        {project.description || \"—\"}\n                                    </TableCell>\n                                    <TableCell className=\"text-xs\">\n                                        {project.tags ? (\n                                            <div className=\"flex gap-1 flex-wrap\">\n                                                {project.tags.split(',').slice(0, 2).map((tag, i) => (\n                                                    <Badge key={i} variant=\"secondary\" className=\"text-[10px] font-normal h-5\">\n                                                        {tag.trim()}\n                                                    </Badge>\n                                                ))}\n                                                {project.tags.split(',').length > 2 && (\n                                                    <Badge variant=\"secondary\" className=\"text-[10px] font-normal h-5\">+{project.tags.split(',').length - 2}</Badge>\n                                                )}\n                                            </div>\n                                        ) : \"—\"}\n                                    </TableCell>\n                                    <TableCell className=\"text-center\">\n                                        {project.featured ? (\n                                            <Star className=\"h-4 w-4 text-yellow-500 fill-yellow-500 mx-auto\" />\n                                        ) : (\n                                            <Star className=\"h-4 w-4 text-muted-foreground/20 mx-auto\" />\n                                        )}\n                                    </TableCell>\n                                    <TableCell className=\"text-center\" onClick={(e) => e.stopPropagation()}>\n                                        <Switch \n                                            checked={project.status === \"Active\"}\n                                            onCheckedChange={(checked) => {\n                                                updateProject(project.id, { status: checked ? \"Active\" : \"Archived\" });\n                                                toast({\n                                                    title: `Project ${checked ? 'Activated' : 'Archived'}`,\n                                                    description: `\"${project.title}\" is now ${checked ? 'active' : 'archived'}.`,\n                                                });\n                                            }}\n                                        />\n                                    </TableCell>\n                                    <TableCell>\n                                        <DropdownMenu>\n                                            <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>\n                                                <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6 opacity-0 group-hover:opacity-100\">\n                                                    <MoreHorizontal className=\"h-3 w-3\" />\n                                                </Button>\n                                            </DropdownMenuTrigger>\n                                            <DropdownMenuContent align=\"end\">\n                                                <DropdownMenuItem onClick={(e) => { e.stopPropagation(); handleEditProject(project); }}>\n                                                    <Edit2 className=\"mr-2 h-3 w-3\" /> Edit\n                                                </DropdownMenuItem>\n                                                <DropdownMenuItem className=\"text-destructive\" onClick={(e) => handleDeleteProject(project.id, e)}>\n                                                    <Trash2 className=\"mr-2 h-3 w-3\" /> Delete\n                                                </DropdownMenuItem>\n                                            </DropdownMenuContent>\n                                        </DropdownMenu>\n                                    </TableCell>\n                                </TableRow>\n                            ))\n                        )}\n                    </TableBody>\n                </Table>\n              </div>\n            </div>\n          )}\n\n          {activeTab === \"writing\" && !isWriting && (\n            <div className=\"space-y-4 animate-in fade-in-50 duration-500\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold tracking-tight\">Writing</h2>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"relative w-64\">\n                        <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                        <Input \n                            placeholder=\"Filter by tags or keywords...\" \n                            className=\"pl-8 h-9 text-sm\" \n                            value={filterQuery}\n                            onChange={(e) => setFilterQuery(e.target.value)}\n                        />\n                    </div>\n                    <Button onClick={() => setLocation(\"/admin/article/new\")} size=\"sm\" className=\"gap-2 h-9\"><Plus className=\"h-4 w-4\" /> New Article</Button>\n                </div>\n              </div>\n\n              {/* Article Status Filter Tabs */}\n              <Tabs value={articleStatusFilter} onValueChange={(value) => setArticleStatusFilter(value as \"all\" | \"draft\" | \"published\")} className=\"mb-4\">\n                <TabsList>\n                  <TabsTrigger value=\"all\" data-testid=\"tab-all-articles\">\n                    All ({articles.length})\n                  </TabsTrigger>\n                  <TabsTrigger value=\"draft\" data-testid=\"tab-draft-articles\">\n                    Drafts ({articles.filter(a => a.status === \"Draft\").length})\n                  </TabsTrigger>\n                  <TabsTrigger value=\"published\" data-testid=\"tab-published-articles\">\n                    Published ({articles.filter(a => a.status === \"Published\").length})\n                  </TabsTrigger>\n                </TabsList>\n              </Tabs>\n\n              <div className=\"border rounded-md bg-background overflow-hidden\">\n                <Table>\n                    <TableHeader>\n                        <TableRow className=\"bg-muted/50 hover:bg-muted/50\">\n                            <TableHead className=\"w-[300px] cursor-pointer hover:text-foreground\" onClick={() => handleSort('title')}>\n                                <div className=\"flex items-center gap-1\">\n                                    Title {sortConfig?.key === 'title' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"cursor-pointer hover:text-foreground\" onClick={() => handleSort('seoKeywords')}>\n                                <div className=\"flex items-center gap-1\">\n                                    SEO Keywords {sortConfig?.key === 'seoKeywords' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"cursor-pointer hover:text-foreground\" onClick={() => handleSort('tags')}>\n                                <div className=\"flex items-center gap-1\">\n                                    Tags {sortConfig?.key === 'tags' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"whitespace-nowrap\">Word Count</TableHead>\n                            <TableHead className=\"whitespace-nowrap\">Read Time</TableHead>\n                            <TableHead className=\"cursor-pointer hover:text-foreground text-right\" onClick={() => handleSort('views')}>\n                                <div className=\"flex items-center justify-end gap-1\">\n                                    Views {sortConfig?.key === 'views' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"cursor-pointer hover:text-foreground\" onClick={() => handleSort('publishedAt')}>\n                                <div className=\"flex items-center gap-1\">\n                                    Published Date {sortConfig?.key === 'publishedAt' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"w-[80px] text-center cursor-pointer hover:text-foreground\" onClick={() => handleSort('status')}>\n                                <div className=\"flex items-center justify-center gap-1\">\n                                    Published {sortConfig?.key === 'status' && <ArrowUpDown className=\"h-3 w-3\" />}\n                                </div>\n                            </TableHead>\n                            <TableHead className=\"w-[50px]\"></TableHead>\n                        </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                        {filteredArticles.length === 0 ? (\n                            <TableRow>\n                                <TableCell colSpan={9} className=\"h-24 text-center text-muted-foreground\">\n                                    No results found.\n                                </TableCell>\n                            </TableRow>\n                        ) : (\n                            filteredArticles.map((article) => (\n                                <TableRow \n                                    key={article.id} \n                                    className=\"group cursor-pointer hover:bg-muted/30\"\n                                    onClick={() => handleEditPost(article)}\n                                >\n                                    <TableCell className=\"font-medium\">\n                                        <div className=\"flex items-center gap-2\">\n                                            <div className=\"h-6 w-6 rounded bg-secondary/50 flex items-center justify-center text-[10px] text-muted-foreground\">\n                                                📄\n                                            </div>\n                                            <span className=\"truncate max-w-[250px]\">{article.title || \"Untitled\"}</span>\n                                        </div>\n                                    </TableCell>\n                                    <TableCell className=\"text-xs text-muted-foreground max-w-[150px] truncate\">\n                                        {article.seoKeywords || \"—\"}\n                                    </TableCell>\n                                    <TableCell className=\"text-xs\">\n                                        {article.tags ? (\n                                            <Badge variant=\"secondary\" className=\"text-[10px] font-normal h-5\">\n                                                {article.tags.split(',')[0]}\n                                                {article.tags.split(',').length > 1 && ` +${article.tags.split(',').length - 1}`}\n                                            </Badge>\n                                        ) : \"—\"}\n                                    </TableCell>\n                                    <TableCell className=\"text-xs text-muted-foreground whitespace-nowrap font-mono\">\n                                        {getWordCount(article.content).toLocaleString()}\n                                    </TableCell>\n                                    <TableCell className=\"text-xs text-muted-foreground whitespace-nowrap\">\n                                        {getReadingTime(article.content)}\n                                    </TableCell>\n                                    <TableCell className=\"text-xs text-right font-mono\">\n                                        {article.views}\n                                    </TableCell>\n                                    <TableCell className=\"text-xs whitespace-nowrap\">\n                                        {article.publishedAt ? new Date(article.publishedAt).toLocaleDateString() : '—'}\n                                    </TableCell>\n                                    <TableCell className=\"text-center\" onClick={(e) => e.stopPropagation()}>\n                                        <Checkbox \n                                            checked={article.status === \"Published\"} \n                                            disabled={article.status === \"Draft\" && !canPublishArticle(article)}\n                                            onCheckedChange={() => toggleArticleStatus(article)}\n                                            data-testid={`checkbox-publish-${article.id}`}\n                                        />\n                                    </TableCell>\n                                    <TableCell>\n                                        <DropdownMenu>\n                                            <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>\n                                                <Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6 opacity-0 group-hover:opacity-100\">\n                                                    <MoreHorizontal className=\"h-3 w-3\" />\n                                                </Button>\n                                            </DropdownMenuTrigger>\n                                            <DropdownMenuContent align=\"end\">\n                                                <DropdownMenuItem onClick={(e) => { e.stopPropagation(); handleEditPost(article); }}>\n                                                    <Edit2 className=\"mr-2 h-3 w-3\" /> Edit\n                                                </DropdownMenuItem>\n                                                <DropdownMenuItem className=\"text-destructive\" onClick={(e) => handleDeleteArticle(article.id, e)}>\n                                                    <Trash2 className=\"mr-2 h-3 w-3\" /> Delete\n                                                </DropdownMenuItem>\n                                            </DropdownMenuContent>\n                                        </DropdownMenu>\n                                    </TableCell>\n                                </TableRow>\n                            ))\n                        )}\n                    </TableBody>\n                </Table>\n              </div>\n            </div>\n          )}\n\n          {activeTab === \"work\" && (\n            <div className=\"space-y-4 animate-in fade-in-50 duration-500\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h2 className=\"text-2xl font-bold tracking-tight\">Work History</h2>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                    <div className=\"relative w-64\">\n                        <Search className=\"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground\" />\n                        <Input \n                            placeholder=\"Filter work history...\" \n                            className=\"pl-8 h-9 text-sm\" \n                            value={filterQuery}\n                            onChange={(e) => setFilterQuery(e.target.value)}\n                        />\n                    </div>\n                    <Sheet open={isWorkSheetOpen} onOpenChange={(open) => {\n                        setIsWorkSheetOpen(open);\n                        if (!open) setEditingWork(null);\n                    }}>\n                        <SheetTrigger asChild>\n                            <Button onClick={handleNewWork} size=\"sm\" className=\"gap-2 h-9 shadow-none\"><Plus className=\"h-4 w-4\" /> Add Experience</Button>\n                        </SheetTrigger>\n                        <SheetContent className=\"sm:max-w-[540px] overflow-y-auto\">\n                            <SheetHeader className=\"mb-6\">\n                                <SheetTitle>{editingWork?.company ? 'Edit Experience' : 'New Experience'}</SheetTitle>\n                                <SheetDescription>\n                                    Add details about your professional background.\n                                </SheetDescription>\n                            </SheetHeader>\n                            {editingWork && (\n                                <div className=\"space-y-8\">\n                                    {/* Company Information */}\n                                    <div className=\"space-y-4\">\n                                        <div className=\"space-y-2\">\n                                            <Label htmlFor=\"company\">Company Name</Label>\n                                            <Input \n                                                id=\"company\" \n                                                value={editingWork.company} \n                                                onChange={(e) => setEditingWork({...editingWork, company: e.target.value})}\n                                                placeholder=\"e.g. Acme Corp\"\n                                                className=\"text-base\"\n                                            />\n                                        </div>\n\n                                        <div className=\"space-y-2\">\n                                            <Label htmlFor=\"role\">Role Title</Label>\n                                            <Input \n                                                id=\"role\" \n                                                value={editingWork.role} \n                                                onChange={(e) => setEditingWork({...editingWork, role: e.target.value})}\n                                                placeholder=\"e.g. Senior Product Manager\"\n                                                className=\"text-base\"\n                                            />\n                                        </div>\n                                    </div>\n\n                                    {/* Company Logo */}\n                                    <div className=\"space-y-3\">\n                                        <div>\n                                            <h3 className=\"text-sm font-medium mb-1\">Company Logo</h3>\n                                            <p className=\"text-xs text-muted-foreground\">Optional - appears in your work history</p>\n                                        </div>\n                                        <div className=\"flex items-center gap-4 p-4 bg-muted/30 border border-border/50 rounded-lg\">\n                                            <div className=\"h-16 w-16 rounded-md border-2 border-dashed border-border flex items-center justify-center bg-background overflow-hidden flex-shrink-0\">\n                                                {editingWork.logo ? (\n                                                    <img \n                                                        src={editingWork.logo} \n                                                        alt=\"Company logo\" \n                                                        className=\"h-full w-full object-cover\"\n                                                    />\n                                                ) : (\n                                                    <Briefcase className=\"h-6 w-6 text-muted-foreground\" />\n                                                )}\n                                            </div>\n                                            <div className=\"flex-1 flex items-center gap-3\">\n                                                <Input \n                                                    id=\"logo-upload\" \n                                                    type=\"file\" \n                                                    accept=\"image/*\"\n                                                    className=\"hidden\"\n                                                    onChange={(e) => {\n                                                        const file = e.target.files?.[0];\n                                                        if (file) {\n                                                            const reader = new FileReader();\n                                                            reader.onloadend = () => {\n                                                                setEditingWork({...editingWork, logo: reader.result as string});\n                                                            };\n                                                            reader.readAsDataURL(file);\n                                                        }\n                                                    }}\n                                                />\n                                                <Label \n                                                    htmlFor=\"logo-upload\" \n                                                    className=\"cursor-pointer inline-flex h-9 items-center justify-center gap-2 whitespace-nowrap rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow-sm transition-colors hover:bg-primary/90\"\n                                                >\n                                                    <Upload className=\"h-4 w-4\" />\n                                                    {editingWork.logo ? 'Change' : 'Upload'}\n                                                </Label>\n                                                {editingWork.logo && (\n                                                    <Button \n                                                        type=\"button\"\n                                                        variant=\"ghost\"\n                                                        size=\"default\"\n                                                        onClick={() => setEditingWork({...editingWork, logo: \"\"})}\n                                                        className=\"gap-2 text-muted-foreground hover:text-destructive\"\n                                                    >\n                                                        <Trash2 className=\"h-4 w-4\" />\n                                                        Remove\n                                                    </Button>\n                                                )}\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    {/* Employment Period */}\n                                    <div className=\"space-y-4\">\n                                        <div>\n                                            <h3 className=\"text-sm font-medium mb-1\">Employment Period</h3>\n                                            <p className=\"text-xs text-muted-foreground\">When did you work here?</p>\n                                        </div>\n                                        <div className=\"space-y-4 p-4 bg-muted/30 border border-border/50 rounded-lg\">\n                                            <MonthYearPicker\n                                                label=\"Start Date\"\n                                                value={editingWork.startDate}\n                                                onChange={(date) => setEditingWork({...editingWork, startDate: date})}\n                                            />\n                                            \n                                            {editingWork.endDate !== \"Present\" && (\n                                                <MonthYearPicker\n                                                    label=\"End Date\"\n                                                    value={editingWork.endDate === \"Present\" ? \"\" : editingWork.endDate}\n                                                    onChange={(date) => setEditingWork({...editingWork, endDate: date})}\n                                                />\n                                            )}\n\n                                            <div className=\"flex items-center space-x-2 pt-2\">\n                                                <Checkbox \n                                                    id=\"present\" \n                                                    checked={editingWork.endDate === \"Present\"}\n                                                    onCheckedChange={(checked) => setEditingWork({...editingWork, endDate: checked ? \"Present\" : \"\"})}\n                                                />\n                                                <label\n                                                    htmlFor=\"present\"\n                                                    className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer\"\n                                                >\n                                                    I currently work here\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    \n                                    {/* Description */}\n                                    <div className=\"space-y-2\">\n                                        <Label htmlFor=\"description\">Description</Label>\n                                        <Textarea \n                                            id=\"description\" \n                                            value={editingWork.description} \n                                            onChange={(e) => setEditingWork({...editingWork, description: e.target.value})}\n                                            placeholder=\"Brief description of your responsibilities and achievements...\"\n                                            className=\"min-h-[140px] text-base\"\n                                        />\n                                    </div>\n\n                                    {/* Actions */}\n                                    <div className=\"pt-4 flex justify-end gap-2 border-t\">\n                                        <Button variant=\"outline\" onClick={() => setIsWorkSheetOpen(false)}>Cancel</Button>\n                                        <Button onClick={handleSaveWork}>Save Experience</Button>\n                                    </div>\n                                </div>\n                            )}\n                        </SheetContent>\n                    </Sheet>\n                </div>\n              </div>\n\n              <div className=\"rounded-md border\">\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead className=\"w-[50px]\"></TableHead>\n                      <TableHead className=\"cursor-pointer hover:bg-muted/50 transition-colors\" onClick={() => handleSort('company')}>\n                        <div className=\"flex items-center gap-2\">\n                          Company\n                          {sortConfig?.key === 'company' && <ArrowUpDown className=\"h-3 w-3\" />}\n                        </div>\n                      </TableHead>\n                      <TableHead className=\"cursor-pointer hover:bg-muted/50 transition-colors\" onClick={() => handleSort('role')}>\n                        <div className=\"flex items-center gap-2\">\n                          Role\n                          {sortConfig?.key === 'role' && <ArrowUpDown className=\"h-3 w-3\" />}\n                        </div>\n                      </TableHead>\n                      <TableHead className=\"cursor-pointer hover:bg-muted/50 transition-colors\" onClick={() => handleSort('startDate')}>\n                        <div className=\"flex items-center gap-2\">\n                          Start Date\n                          {sortConfig?.key === 'startDate' && <ArrowUpDown className=\"h-3 w-3\" />}\n                        </div>\n                      </TableHead>\n                      <TableHead className=\"cursor-pointer hover:bg-muted/50 transition-colors\" onClick={() => handleSort('endDate')}>\n                        <div className=\"flex items-center gap-2\">\n                          End Date\n                          {sortConfig?.key === 'endDate' && <ArrowUpDown className=\"h-3 w-3\" />}\n                        </div>\n                      </TableHead>\n                      <TableHead>Description</TableHead>\n                      <TableHead className=\"w-[100px] text-right\">Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {filteredWork.map((work) => (\n                      <TableRow key={work.id} className=\"group cursor-pointer hover:bg-muted/50\" onClick={() => handleEditWork(work)}>\n                        <TableCell>\n                          <div className=\"h-8 w-8 rounded bg-muted flex items-center justify-center text-muted-foreground border border-border/50\">\n                             <Briefcase className=\"h-4 w-4\" />\n                          </div>\n                        </TableCell>\n                        <TableCell className=\"font-medium\">{work.company}</TableCell>\n                        <TableCell>{work.role}</TableCell>\n                        <TableCell className=\"text-muted-foreground text-sm\">\n                          {formatMonthYear(work.startDate) || '—'}\n                        </TableCell>\n                        <TableCell className=\"text-muted-foreground text-sm\">\n                          {work.endDate === \"Present\" \n                            ? <Badge variant=\"secondary\" className=\"font-normal text-xs\">Present</Badge> \n                            : formatMonthYear(work.endDate) || '—'}\n                        </TableCell>\n                        <TableCell className=\"max-w-[300px] truncate text-muted-foreground text-sm\">\n                          {work.description}\n                        </TableCell>\n                        <TableCell className=\"text-right\">\n                          <div className=\"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={(e) => { e.stopPropagation(); handleEditWork(work); }}>\n                              <Edit2 className=\"h-4 w-4\" />\n                            </Button>\n                            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10\" onClick={(e) => handleDeleteWork(work.id, e)}>\n                              <Trash2 className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                    {filteredWork.length === 0 && (\n                      <TableRow>\n                        <TableCell colSpan={7} className=\"h-24 text-center\">\n                          No work experience found.\n                        </TableCell>\n                      </TableRow>\n                    )}\n                  </TableBody>\n                </Table>\n              </div>\n            </div>\n          )}\n\n          {activeTab === \"writing\" && isWriting && editingArticle && (\n            <div className=\"animate-in fade-in-50 slide-in-from-right-2 duration-300 max-w-4xl mx-auto\">\n              <div className=\"flex items-center justify-between mb-8\">\n                <Button variant=\"ghost\" size=\"sm\" onClick={() => { \n                  if (saveTimeoutRef.current) clearTimeout(saveTimeoutRef.current);\n                  setIsWriting(false); \n                  setEditingArticle(null);\n                  setSaveStatus(\"idle\");\n                }} className=\"gap-2 pl-0 hover:pl-2 transition-all text-muted-foreground\">\n                  <ArrowLeft className=\"h-4 w-4\" /> Back\n                </Button>\n                <div className=\"flex items-center gap-3\">\n                   <span className=\"text-xs text-muted-foreground\">\n                      {editingArticle.content.split(/\\s/g).length} words\n                   </span>\n                   <Separator orientation=\"vertical\" className=\"h-4\" />\n                   <Badge variant={editingArticle.status === \"Published\" ? \"default\" : \"outline\"} className=\"text-xs font-normal\">\n                      {editingArticle.status === \"Published\" ? \"Published\" : \"Draft\"}\n                   </Badge>\n                </div>\n              </div>\n\n              <div className=\"space-y-4\">\n                  <Textarea \n                    className=\"text-3xl md:text-4xl font-bold tracking-tight h-auto min-h-[1.5em] border-none px-0 focus-visible:ring-0 placeholder:text-muted-foreground/30 bg-transparent shadow-none rounded-none p-0 leading-tight resize-none overflow-hidden text-primary\" \n                    placeholder=\"Untitled\" \n                    value={editingArticle.title}\n                    onChange={(e) => {\n                      setEditingArticle({...editingArticle, title: e.target.value});\n                      // Auto-resize height\n                      e.target.style.height = 'auto';\n                      e.target.style.height = e.target.scrollHeight + 'px';\n                    }}\n                    onInput={(e) => {\n                      const target = e.target as HTMLTextAreaElement;\n                      target.style.height = 'auto';\n                      target.style.height = target.scrollHeight + 'px';\n                    }}\n                    rows={1}\n                    data-testid=\"input-article-title\"\n                  />\n                  \n                  <Editor \n                    content={editingArticle.content} \n                    onChange={(html) => setEditingArticle({...editingArticle, content: html})}\n                  />\n              </div>\n\n              {/* Settings Drawer/Panel */}\n              <div className=\"mt-32 border-t pt-12 grid grid-cols-1 md:grid-cols-3 gap-16 opacity-40 hover:opacity-100 transition-all duration-500 ease-in-out group\">\n                  <div className=\"space-y-6\">\n                     <div className=\"flex items-center gap-2 text-sm font-medium text-foreground/70\">\n                        <Settings className=\"h-4 w-4\" />\n                        Publishing\n                     </div>\n                     <div className=\"space-y-5\">\n                        <div className=\"flex items-center justify-between group/item p-2 -mx-2 rounded-md hover:bg-secondary/40 transition-colors\">\n                          <Label className=\"text-xs text-muted-foreground font-normal\">Status</Label>\n                          <div className=\"flex items-center gap-2 cursor-pointer\" onClick={() => {\n                            const newStatus = editingArticle.status === \"Published\" ? \"Draft\" : \"Published\";\n                            if (newStatus === \"Published\" && !canPublishArticle(editingArticle)) {\n                              toast({\n                                title: \"Cannot Publish\",\n                                description: \"Article must have a title and slug before publishing.\",\n                                variant: \"destructive\"\n                              });\n                              return;\n                            }\n                            setEditingArticle({...editingArticle, status: newStatus});\n                          }}>\n                            <Badge variant={editingArticle.status === \"Published\" ? \"default\" : \"outline\"} className=\"font-normal\" data-testid=\"badge-article-status\">\n                              {editingArticle.status}\n                            </Badge>\n                            {editingArticle.status === \"Draft\" && !canPublishArticle(editingArticle) && (\n                              <Tooltip>\n                                <TooltipTrigger>\n                                  <AlertCircle className=\"h-3 w-3 text-muted-foreground\" />\n                                </TooltipTrigger>\n                                <TooltipContent>\n                                  <p className=\"text-xs\">Title and slug required to publish</p>\n                                </TooltipContent>\n                              </Tooltip>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"space-y-2 group/item p-2 -mx-2 rounded-md hover:bg-secondary/40 transition-colors\">\n                          <Label className=\"text-xs text-muted-foreground font-normal\">Publish Date</Label>\n                          <Popover>\n                            <PopoverTrigger asChild>\n                              <Button\n                                variant={\"outline\"}\n                                className={cn(\n                                  \"h-9 w-full justify-start text-left font-normal text-xs\",\n                                  !editingArticle.publishedAt && \"text-muted-foreground\"\n                                )}\n                              >\n                                <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                                {editingArticle.publishedAt ? format(new Date(editingArticle.publishedAt), \"MMM d, yyyy\") : <span>Pick a date</span>}\n                              </Button>\n                            </PopoverTrigger>\n                            <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                              <Calendar\n                                mode=\"single\"\n                                selected={editingArticle.publishedAt ? new Date(editingArticle.publishedAt) : undefined}\n                                onSelect={(date) => date && setEditingArticle({...editingArticle, publishedAt: date})}\n                                initialFocus\n                              />\n                            </PopoverContent>\n                          </Popover>\n                        </div>\n                        <div className=\"space-y-2 group/item p-2 -mx-2 rounded-md hover:bg-secondary/40 transition-colors\">\n                          <Label className=\"text-xs text-muted-foreground font-normal\">URL Slug</Label>\n                          <Input \n                            placeholder=\"url-slug\" \n                            className=\"h-8 text-xs border-none bg-transparent shadow-none p-0 focus-visible:ring-0 text-foreground placeholder:text-muted-foreground/50\"\n                            value={editingArticle.slug}\n                            onChange={(e) => setEditingArticle({...editingArticle, slug: e.target.value})}\n                          />\n                        </div>\n                     </div>\n                  </div>\n\n                  <div className=\"space-y-6 md:col-span-2\">\n                     <div className=\"flex items-center gap-2 text-sm font-medium text-foreground/70\">\n                        <Globe className=\"h-4 w-4\" />\n                        SEO & Metadata\n                     </div>\n                     <div className=\"grid grid-cols-2 gap-12\">\n                       <div className=\"space-y-5\">\n                         <div className=\"space-y-2 group/item p-2 -mx-2 rounded-md hover:bg-secondary/40 transition-colors\">\n                           <Label className=\"text-xs text-muted-foreground font-normal\">Excerpt</Label>\n                           <Textarea \n                             className=\"min-h-[60px] text-xs resize-none border-none bg-transparent shadow-none p-0 focus-visible:ring-0 text-foreground placeholder:text-muted-foreground/50 leading-relaxed\" \n                             placeholder=\"Short summary...\" \n                             value={editingArticle.excerpt || \"\"}\n                             onChange={(e) => setEditingArticle({...editingArticle, excerpt: e.target.value})}\n                           />\n                         </div>\n                         <div className=\"space-y-2 group/item p-2 -mx-2 rounded-md hover:bg-secondary/40 transition-colors\">\n                           <Label className=\"text-xs text-muted-foreground font-normal\">SEO Keywords</Label>\n                           <Input \n                             placeholder=\"ai, design, future...\" \n                             className=\"h-8 text-xs border-none bg-transparent shadow-none p-0 focus-visible:ring-0 text-foreground placeholder:text-muted-foreground/50\" \n                             value={editingArticle.seoKeywords || \"\"}\n                             onChange={(e) => setEditingArticle({...editingArticle, seoKeywords: e.target.value})}\n                           />\n                         </div>\n                         <div className=\"space-y-2 group/item p-2 -mx-2 rounded-md hover:bg-secondary/40 transition-colors\">\n                           <Label className=\"text-xs text-muted-foreground font-normal\">Tags</Label>\n                           <Input \n                             placeholder=\"Design, Tech...\" \n                             className=\"h-8 text-xs border-none bg-transparent shadow-none p-0 focus-visible:ring-0 text-foreground placeholder:text-muted-foreground/50\" \n                             value={editingArticle.tags || \"\"}\n                             onChange={(e) => setEditingArticle({...editingArticle, tags: e.target.value})}\n                           />\n                         </div>\n                       </div>\n                       <div className=\"space-y-2\">\n                         <Label className=\"text-xs text-muted-foreground font-normal px-2\">Cover Image</Label>\n                         <div className=\"aspect-video border border-dashed border-border/50 rounded-lg flex flex-col items-center justify-center text-muted-foreground/50 hover:text-foreground hover:border-border hover:bg-secondary/20 transition-all cursor-pointer\">\n                            <Upload className=\"h-4 w-4 mb-2\" />\n                            <span className=\"text-[10px]\">Upload Cover</span>\n                         </div>\n                       </div>\n                     </div>\n                  </div>\n              </div>\n            </div>\n          )}\n\n          {/* Existing Tabs (Projects, Reading, Settings) - keeping them as is but ensuring they don't render when writing */}\n          {!isWriting && activeTab === \"reading\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-2xl font-bold tracking-tight\">Reading List</h2>\n                  <p className=\"text-muted-foreground mt-1\">Books and articles you're reading.</p>\n                </div>\n                <Button className=\"gap-2\"><Plus className=\"h-4 w-4\" /> Add Book</Button>\n              </div>\n              <Card className=\"border-dashed shadow-none\">\n                 <CardContent className=\"flex flex-col items-center justify-center h-[400px] text-center\">\n                   <BookOpen className=\"h-12 w-12 text-muted-foreground mb-4 opacity-50\" />\n                   <h3 className=\"text-lg font-medium\">Empty reading list</h3>\n                   <p className=\"text-muted-foreground max-w-sm mt-2 mb-6\">\n                     Keep track of books you've read or want to read.\n                   </p>\n                   <Button variant=\"outline\">Add Book</Button>\n                 </CardContent>\n               </Card>\n            </div>\n          )}\n\n          {!isWriting && activeTab === \"media\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h2 className=\"text-2xl font-bold tracking-tight\">Media Library</h2>\n                  <p className=\"text-muted-foreground mt-1\">Manage your images and files.</p>\n                </div>\n                <Button className=\"gap-2\"><Upload className=\"h-4 w-4\" /> Upload</Button>\n              </div>\n              <Card className=\"border-dashed shadow-none\">\n                 <CardContent className=\"flex flex-col items-center justify-center h-[400px] text-center\">\n                   <ImageIcon className=\"h-12 w-12 text-muted-foreground mb-4 opacity-50\" />\n                   <h3 className=\"text-lg font-medium\">No media files</h3>\n                   <p className=\"text-muted-foreground max-w-sm mt-2 mb-6\">\n                     Upload images and files to use in your articles and projects.\n                   </p>\n                   <Button variant=\"outline\">Upload Files</Button>\n                 </CardContent>\n               </Card>\n            </div>\n          )}\n\n          {!isWriting && activeTab === \"seo\" && (\n             <div className=\"space-y-6 max-w-3xl\">\n               <div>\n                 <h2 className=\"text-2xl font-bold tracking-tight\">SEO & Metadata</h2>\n                 <p className=\"text-muted-foreground mt-1\">Configure site-wide SEO settings.</p>\n               </div>\n               \n               <Card>\n                 <CardHeader>\n                   <CardTitle>Site Identity</CardTitle>\n                   <CardDescription>Basic information about your website.</CardDescription>\n                 </CardHeader>\n                 <CardContent className=\"space-y-4\">\n                   <div className=\"space-y-2\">\n                     <Label htmlFor=\"seo-title\" data-testid=\"label-seo-title\">Site Title</Label>\n                     <Input \n                       id=\"seo-title\"\n                       data-testid=\"input-seo-title\"\n                       value={seoFormData?.siteTitle || ''} \n                       onChange={(e) => setSeoFormData(seoFormData ? {...seoFormData, siteTitle: e.target.value} : undefined)}\n                       placeholder=\"Your Portfolio\" \n                     />\n                   </div>\n                   <div className=\"space-y-2\">\n                     <Label htmlFor=\"seo-description\" data-testid=\"label-seo-description\">Site Description</Label>\n                     <Textarea \n                       id=\"seo-description\"\n                       data-testid=\"input-seo-description\"\n                       value={seoFormData?.siteDescription || ''} \n                       onChange={(e) => setSeoFormData(seoFormData ? {...seoFormData, siteDescription: e.target.value} : undefined)}\n                       placeholder=\"A brief description of your website\"\n                       className=\"h-20\"\n                     />\n                   </div>\n                   <div className=\"space-y-2\">\n                     <Label htmlFor=\"seo-keywords\" data-testid=\"label-seo-keywords\">Keywords (comma-separated)</Label>\n                     <Input \n                       id=\"seo-keywords\"\n                       data-testid=\"input-seo-keywords\"\n                       value={seoFormData?.siteKeywords || ''} \n                       onChange={(e) => setSeoFormData(seoFormData ? {...seoFormData, siteKeywords: e.target.value} : undefined)}\n                       placeholder=\"portfolio, product manager, fintech\" \n                     />\n                   </div>\n                 </CardContent>\n               </Card>\n\n               <Card>\n                 <CardHeader>\n                   <CardTitle>Open Graph (Facebook, LinkedIn)</CardTitle>\n                   <CardDescription>How your site appears when shared on social platforms.</CardDescription>\n                 </CardHeader>\n                 <CardContent className=\"space-y-4\">\n                   <div className=\"space-y-2\">\n                     <Label htmlFor=\"og-title\" data-testid=\"label-og-title\">OG Title</Label>\n                     <Input \n                       id=\"og-title\"\n                       data-testid=\"input-og-title\"\n                       value={seoFormData?.ogTitle || ''} \n                       onChange={(e) => setSeoFormData(seoFormData ? {...seoFormData, ogTitle: e.target.value} : undefined)}\n                       placeholder=\"Leave blank to use Site Title\" \n                     />\n                   </div>\n                   <div className=\"space-y-2\">\n                     <Label htmlFor=\"og-description\" data-testid=\"label-og-description\">OG Description</Label>\n                     <Textarea \n                       id=\"og-description\"\n                       data-testid=\"input-og-description\"\n                       value={seoFormData?.ogDescription || ''} \n                       onChange={(e) => setSeoFormData(seoFormData ? {...seoFormData, ogDescription: e.target.value} : undefined)}\n                       placeholder=\"Leave blank to use Site Description\"\n                       className=\"h-20\"\n                     />\n                   </div>\n                   <div className=\"space-y-2\">\n                     <Label htmlFor=\"og-image\" data-testid=\"label-og-image\">OG Image URL</Label>\n                     <Input \n                       id=\"og-image\"\n                       data-testid=\"input-og-image\"\n                       value={seoFormData?.ogImage || ''} \n                       onChange={(e) => setSeoFormData(seoFormData ? {...seoFormData, ogImage: e.target.value} : undefined)}\n                       placeholder=\"https://example.com/image.jpg\" \n                     />\n                   </div>\n                 </CardContent>\n               </Card>\n\n               <Card>\n                 <CardHeader>\n                   <CardTitle>Twitter Card</CardTitle>\n                   <CardDescription>How your site appears when shared on Twitter/X.</CardDescription>\n                 </CardHeader>\n                 <CardContent className=\"space-y-4\">\n                   <div className=\"space-y-2\">\n                     <Label htmlFor=\"twitter-site\" data-testid=\"label-twitter-site\">Twitter Site Handle</Label>\n                     <Input \n                       id=\"twitter-site\"\n                       data-testid=\"input-twitter-site\"\n                       value={seoFormData?.twitterSite || ''} \n                       onChange={(e) => setSeoFormData(seoFormData ? {...seoFormData, twitterSite: e.target.value} : undefined)}\n                       placeholder=\"@yourhandle\" \n                     />\n                   </div>\n                   <div className=\"space-y-2\">\n                     <Label htmlFor=\"twitter-creator\" data-testid=\"label-twitter-creator\">Twitter Creator Handle</Label>\n                     <Input \n                       id=\"twitter-creator\"\n                       data-testid=\"input-twitter-creator\"\n                       value={seoFormData?.twitterCreator || ''} \n                       onChange={(e) => setSeoFormData(seoFormData ? {...seoFormData, twitterCreator: e.target.value} : undefined)}\n                       placeholder=\"@creatorhandle\" \n                     />\n                   </div>\n                 </CardContent>\n               </Card>\n\n               <Button onClick={handleSaveSeoSettings} data-testid=\"button-save-seo\">\n                 <Save className=\"h-4 w-4 mr-2\" />\n                 Save SEO Settings\n               </Button>\n             </div>\n           )}\n\n          {activeTab === \"settings\" && (\n            <div className=\"max-w-3xl space-y-8\">\n              <div>\n                <h2 className=\"text-2xl font-bold tracking-tight\">Home Page Settings</h2>\n                <p className=\"text-muted-foreground mt-1\">Manage your profile and home page content.</p>\n              </div>\n\n              {/* Avatar Section */}\n              <div className=\"space-y-4\">\n                <div>\n                  <h3 className=\"text-sm font-medium mb-1\">Profile Picture</h3>\n                  <p className=\"text-xs text-muted-foreground\">This image appears on your homepage</p>\n                </div>\n                <div className=\"flex items-center gap-6 p-6 bg-muted/30 border border-border/50 rounded-lg\">\n                  <Avatar className=\"h-20 w-20\">\n                    {formData?.avatarUrl ? (\n                      <AvatarImage src={formData.avatarUrl} alt={formData.name || 'Profile'} />\n                    ) : null}\n                    <AvatarFallback className=\"text-lg bg-muted\">{formData?.name?.substring(0, 2).toUpperCase() || 'AT'}</AvatarFallback>\n                  </Avatar>\n                  <div className=\"flex-1 flex items-center gap-3\">\n                    <ObjectUploader\n                      maxNumberOfFiles={1}\n                      maxFileSize={5242880}\n                      onGetUploadParameters={handleAvatarUpload}\n                      onComplete={handleAvatarUploadComplete}\n                      buttonClassName=\"gap-2\"\n                    >\n                      <Upload className=\"h-4 w-4\" />\n                      {formData?.avatarUrl ? 'Change' : 'Upload'}\n                    </ObjectUploader>\n                    {formData?.avatarUrl && (\n                      <Button \n                        variant=\"ghost\"\n                        size=\"default\"\n                        onClick={handleDeleteAvatar}\n                        className=\"gap-2 text-muted-foreground hover:text-destructive\"\n                        data-testid=\"button-delete-avatar\"\n                      >\n                        <Trash2 className=\"h-4 w-4\" />\n                        Remove\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              </div>\n\n              {/* Profile Information */}\n              <div className=\"space-y-4\">\n                <div>\n                  <h3 className=\"text-sm font-medium mb-1\">Profile Information</h3>\n                  <p className=\"text-xs text-muted-foreground\">Your name, title, and bio</p>\n                </div>\n                <div className=\"space-y-4 p-6 bg-muted/30 border border-border/50 rounded-lg\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"name\" className=\"text-xs font-medium text-muted-foreground\">Full Name</Label>\n                    <Input \n                      id=\"name\" \n                      value={formData?.name || ''} \n                      onChange={(e) => setFormData(formData ? {...formData, name: e.target.value} : undefined)}\n                      className=\"border-none bg-background shadow-sm\"\n                    />\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"role\" className=\"text-xs font-medium text-muted-foreground\">Job Title</Label>\n                    <Input \n                      id=\"role\" \n                      value={formData?.title || ''} \n                      onChange={(e) => setFormData(formData ? {...formData, title: e.target.value} : undefined)}\n                      className=\"border-none bg-background shadow-sm\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"bio\" className=\"text-xs font-medium text-muted-foreground\">Bio</Label>\n                    <Textarea \n                      id=\"bio\" \n                      value={formData?.bio || ''} \n                      onChange={(e) => setFormData(formData ? {...formData, bio: e.target.value} : undefined)} \n                      className=\"h-24 border-none bg-background shadow-sm resize-none\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Social Links */}\n              <div className=\"space-y-4\">\n                <div>\n                  <h3 className=\"text-sm font-medium mb-1\">Social Links</h3>\n                  <p className=\"text-xs text-muted-foreground\">Connect your social profiles</p>\n                </div>\n                <div className=\"space-y-3 p-6 bg-muted/30 border border-border/50 rounded-lg\">\n                  {/* Twitter */}\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"flex-shrink-0 h-9 w-9 rounded-lg bg-background flex items-center justify-center\">\n                      <Twitter className=\"h-4 w-4 text-muted-foreground\" />\n                    </div>\n                    <Input \n                      placeholder=\"Twitter URL\" \n                      value={formData?.twitter || ''}\n                      onChange={(e) => setFormData(formData ? {...formData, twitter: e.target.value} : undefined)}\n                      className=\"flex-1 border-none bg-background shadow-sm\"\n                      data-testid=\"input-twitter\"\n                    />\n                    <Switch\n                      id=\"show-twitter\"\n                      checked={formData?.showTwitter ?? true}\n                      onCheckedChange={(checked) => setFormData(formData ? {...formData, showTwitter: checked} : undefined)}\n                      data-testid=\"switch-show-twitter\"\n                    />\n                  </div>\n\n                  {/* LinkedIn */}\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"flex-shrink-0 h-9 w-9 rounded-lg bg-background flex items-center justify-center\">\n                      <Linkedin className=\"h-4 w-4 text-muted-foreground\" />\n                    </div>\n                    <Input \n                      placeholder=\"LinkedIn URL\" \n                      value={formData?.linkedin || ''}\n                      onChange={(e) => setFormData(formData ? {...formData, linkedin: e.target.value} : undefined)}\n                      className=\"flex-1 border-none bg-background shadow-sm\"\n                      data-testid=\"input-linkedin\"\n                    />\n                    <Switch\n                      id=\"show-linkedin\"\n                      checked={formData?.showLinkedin ?? true}\n                      onCheckedChange={(checked) => setFormData(formData ? {...formData, showLinkedin: checked} : undefined)}\n                      data-testid=\"switch-show-linkedin\"\n                    />\n                  </div>\n\n                  {/* GitHub */}\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"flex-shrink-0 h-9 w-9 rounded-lg bg-background flex items-center justify-center\">\n                      <Github className=\"h-4 w-4 text-muted-foreground\" />\n                    </div>\n                    <Input \n                      placeholder=\"GitHub URL\" \n                      value={formData?.github || ''}\n                      onChange={(e) => setFormData(formData ? {...formData, github: e.target.value} : undefined)}\n                      className=\"flex-1 border-none bg-background shadow-sm\"\n                      data-testid=\"input-github\"\n                    />\n                    <Switch\n                      id=\"show-github\"\n                      checked={formData?.showGithub ?? true}\n                      onCheckedChange={(checked) => setFormData(formData ? {...formData, showGithub: checked} : undefined)}\n                      data-testid=\"switch-show-github\"\n                    />\n                  </div>\n\n                  {/* Email */}\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"flex-shrink-0 h-9 w-9 rounded-lg bg-background flex items-center justify-center\">\n                      <Mail className=\"h-4 w-4 text-muted-foreground\" />\n                    </div>\n                    <Input \n                      placeholder=\"Email\" \n                      value={formData?.email || ''}\n                      onChange={(e) => setFormData(formData ? {...formData, email: e.target.value} : undefined)}\n                      className=\"flex-1 border-none bg-background shadow-sm\"\n                      data-testid=\"input-email\"\n                    />\n                    <Switch\n                      id=\"show-email\"\n                      checked={formData?.showEmail ?? true}\n                      onCheckedChange={(checked) => setFormData(formData ? {...formData, showEmail: checked} : undefined)}\n                      data-testid=\"switch-show-email\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Save Button */}\n              <div className=\"pt-2\">\n                <Button onClick={handleSaveProfile} disabled={!hasProfileChanges} size=\"default\">\n                  <Save className=\"h-4 w-4 mr-2\" />\n                  Save Changes\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}","size_bytes":104460},"server/index-dev.ts":{"content":"import fs from \"node:fs\";\nimport { type Server } from \"node:http\";\nimport path from \"node:path\";\n\nimport type { Express } from \"express\";\nimport { nanoid } from \"nanoid\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\n\nimport runApp from \"./app\";\n\nimport viteConfig from \"../vite.config\";\n\nconst viteLogger = createLogger();\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\n(async () => {\n  await runApp(setupVite);\n})();\n","size_bytes":1609},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/drawer.tsx":{"content":"import * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3007},"client/src/pages/projects.tsx":{"content":"import { ExternalLink } from \"lucide-react\";\nimport { useContent } from \"@/lib/content-context\";\n\nexport default function Projects() {\n  const { projects } = useContent();\n\n  const activeProjects = projects\n    .filter(p => p.status === \"Active\")\n    .sort((a, b) => {\n      if (a.featured && !b.featured) return -1;\n      if (!a.featured && b.featured) return 1;\n      return 0;\n    });\n\n  return (\n    <div className=\"space-y-12 animate-in fade-in-50 duration-500\">\n      <div className=\"space-y-4\">\n        <h1 className=\"text-3xl font-bold tracking-tight\">Projects</h1>\n        <p className=\"text-muted-foreground text-lg\">\n          Products I've built, communities I've founded, and open source work.\n        </p>\n      </div>\n\n      {activeProjects.length === 0 ? (\n        <div className=\"text-muted-foreground italic\">No projects yet.</div>\n      ) : (\n        <div className=\"space-y-1\">\n          {activeProjects.map((project) => {\n            const content = (\n              <div className=\"flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-2 sm:gap-6 py-4 border-b border-border/40 group-hover:border-border transition-colors\">\n                <div className=\"flex-1 space-y-1.5\">\n                  <div className=\"flex items-baseline gap-2\">\n                    <h3 className=\"text-base font-medium text-primary group-hover:text-blue-600 transition-colors\">\n                      {project.title}\n                    </h3>\n                    {project.featured && (\n                      <span className=\"text-xs text-muted-foreground/60 font-medium\">Featured</span>\n                    )}\n                  </div>\n                  <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                    {project.description}\n                  </p>\n                  {project.tags && (\n                    <div className=\"flex flex-wrap gap-2 pt-1\">\n                      {project.tags.split(',').map((tag, i) => (\n                        <span key={i} className=\"text-xs text-muted-foreground/70\">\n                          {tag.trim()}\n                        </span>\n                      ))}\n                    </div>\n                  )}\n                </div>\n                {project.link && (\n                  <ExternalLink className=\"h-3.5 w-3.5 text-muted-foreground/40 group-hover:text-muted-foreground transition-colors flex-shrink-0 mt-0.5\" />\n                )}\n              </div>\n            );\n\n            return project.link ? (\n              <a\n                key={project.id}\n                href={project.link}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"block group\"\n                data-testid={`project-${project.id}`}\n              >\n                {content}\n              </a>\n            ) : (\n              <div\n                key={project.id}\n                className=\"block\"\n                data-testid={`project-${project.id}`}\n              >\n                {content}\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n","size_bytes":3099},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","size_bytes":1342},"client/src/components/ui/sonner.tsx":{"content":"\"use client\"\n\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","size_bytes":894},"client/src/index.css":{"content":"@import \"tailwindcss\";\n@import \"tw-animate-css\";\n\n@custom-variant dark (&:is(.dark *));\n\n@theme inline {\n  --color-background: hsl(var(--background));\n  --color-foreground: hsl(var(--foreground));\n  --color-card: hsl(var(--card));\n  --color-card-foreground: hsl(var(--card-foreground));\n  --color-popover: hsl(var(--popover));\n  --color-popover-foreground: hsl(var(--popover-foreground));\n  --color-primary: hsl(var(--primary));\n  --color-primary-foreground: hsl(var(--primary-foreground));\n  --color-secondary: hsl(var(--secondary));\n  --color-secondary-foreground: hsl(var(--secondary-foreground));\n  --color-muted: hsl(var(--muted));\n  --color-muted-foreground: hsl(var(--muted-foreground));\n  --color-accent: hsl(var(--accent));\n  --color-accent-foreground: hsl(var(--accent-foreground));\n  --color-destructive: hsl(var(--destructive));\n  --color-destructive-foreground: hsl(var(--destructive-foreground));\n  --color-border: hsl(var(--border));\n  --color-input: hsl(var(--input));\n  --color-ring: hsl(var(--ring));\n  --color-chart-1: hsl(var(--chart-1));\n  --color-chart-2: hsl(var(--chart-2));\n  --color-chart-3: hsl(var(--chart-3));\n  --color-chart-4: hsl(var(--chart-4));\n  --color-chart-5: hsl(var(--chart-5));\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n  --font-sans: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  --font-mono: ui-monospace, SFMono-Regular, \"SF Mono\", Menlo, Consolas, \"Liberation Mono\", monospace;\n}\n\n:root {\n  --background: 0 0% 100%;\n  --foreground: 240 10% 3.9%;\n  --card: 0 0% 100%;\n  --card-foreground: 240 10% 3.9%;\n  --popover: 0 0% 100%;\n  --popover-foreground: 240 10% 3.9%;\n  --primary: 240 5.9% 10%;\n  --primary-foreground: 0 0% 98%;\n  --secondary: 240 4.8% 95.9%;\n  --secondary-foreground: 240 5.9% 10%;\n  --muted: 240 4.8% 95.9%;\n  --muted-foreground: 240 3.8% 46.1%;\n  --accent: 240 4.8% 95.9%;\n  --accent-foreground: 240 5.9% 10%;\n  --destructive: 0 84.2% 60.2%;\n  --destructive-foreground: 0 0% 98%;\n  --border: 240 5.9% 90%;\n  --input: 240 5.9% 90%;\n  --ring: 240 5.9% 10%;\n  --radius: 0.5rem;\n  --chart-1: 12 76% 61%;\n  --chart-2: 173 58% 39%;\n  --chart-3: 197 37% 24%;\n  --chart-4: 43 74% 66%;\n  --chart-5: 27 87% 67%;\n}\n\n.dark {\n  --background: 240 10% 3.9%;\n  --foreground: 0 0% 98%;\n  --card: 240 10% 3.9%;\n  --card-foreground: 0 0% 98%;\n  --popover: 240 10% 3.9%;\n  --popover-foreground: 0 0% 98%;\n  --primary: 0 0% 98%;\n  --primary-foreground: 240 5.9% 10%;\n  --secondary: 240 3.7% 15.9%;\n  --secondary-foreground: 0 0% 98%;\n  --muted: 240 3.7% 15.9%;\n  --muted-foreground: 240 5% 64.9%;\n  --accent: 240 3.7% 15.9%;\n  --accent-foreground: 0 0% 98%;\n  --destructive: 0 62.8% 30.6%;\n  --destructive-foreground: 0 0% 98%;\n  --border: 240 3.7% 15.9%;\n  --input: 240 3.7% 15.9%;\n  --ring: 240 4.9% 83.9%;\n  --chart-1: 220 70% 50%;\n  --chart-2: 160 60% 45%;\n  --chart-3: 30 80% 55%;\n  --chart-4: 280 65% 60%;\n  --chart-5: 340 75% 55%;\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  body {\n    @apply font-sans antialiased bg-background text-foreground selection:bg-primary/20;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    @apply tracking-tight font-medium;\n  }\n  a, button, [role=\"button\"] {\n    @apply cursor-pointer;\n  }\n}\n\n@layer utilities {\n  .shadow-sm {\n    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.02);\n  }\n  .shadow {\n    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.04), 0 1px 2px -1px rgb(0 0 0 / 0.04);\n  }\n  .shadow-md {\n    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.04), 0 2px 4px -2px rgb(0 0 0 / 0.04);\n  }\n  .shadow-lg {\n    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.04), 0 4px 6px -4px rgb(0 0 0 / 0.04);\n  }\n}\n\n/* Editor Styles */\n.ProseMirror {\n  outline: none;\n  min-height: 500px;\n}\n.ProseMirror h1 {\n  @apply text-2xl sm:text-3xl font-bold mt-8 mb-4 leading-tight;\n}\n.ProseMirror h2 {\n  @apply text-xl sm:text-2xl font-semibold mt-8 mb-4 leading-tight;\n}\n.ProseMirror h3 {\n  @apply text-lg sm:text-xl font-semibold mt-6 mb-3 leading-tight;\n}\n.ProseMirror h4 {\n  @apply text-base sm:text-lg font-semibold mt-6 mb-3 leading-tight;\n}\n.ProseMirror p {\n  @apply mb-6 leading-relaxed;\n}\n.ProseMirror ul {\n  @apply list-disc pl-6 mb-6;\n}\n.ProseMirror ol {\n  @apply list-decimal pl-6 mb-6;\n}\n.ProseMirror li {\n  @apply leading-relaxed mb-1;\n}\n.ProseMirror li p {\n  @apply mb-1;\n}\n.ProseMirror blockquote {\n  @apply border-l-2 border-primary/20 pl-4 italic text-muted-foreground my-8;\n}\n.ProseMirror a {\n  @apply text-primary underline underline-offset-4 font-medium;\n}\n.ProseMirror u {\n  @apply underline underline-offset-2;\n}\n.ProseMirror s,\n.ProseMirror del {\n  @apply line-through opacity-70;\n}\n.ProseMirror mark {\n  @apply bg-yellow-200 dark:bg-yellow-300/40 px-1 rounded;\n  color: inherit !important;\n}\n.ProseMirror code {\n  @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-primary;\n}\n.ProseMirror pre {\n  @apply bg-muted p-3 sm:p-4 rounded-lg overflow-x-auto my-4 sm:my-6 border text-sm;\n}\n.ProseMirror pre code {\n  @apply bg-transparent p-0 text-xs sm:text-sm;\n}\n.ProseMirror .code-block {\n  @apply bg-muted p-3 sm:p-4 rounded-lg overflow-x-auto my-4 sm:my-6 border font-mono text-xs sm:text-sm;\n}\n.ProseMirror img {\n  @apply rounded-lg my-6 sm:my-8 border max-w-full h-auto;\n}\n.ProseMirror hr {\n  @apply my-8 border-t-2 border-border;\n}\n.ProseMirror br {\n  content: \"\";\n}\n\n/* Task Lists - Each task on its own line with nested indentation */\n.ProseMirror ul[data-type=\"taskList\"] {\n  list-style: none !important;\n  padding-left: 0 !important;\n  margin: 0.5rem 0 !important;\n}\n\n.ProseMirror ul[data-type=\"taskList\"] li {\n  display: block !important;\n  position: relative;\n  margin: 0.375rem 0 !important;\n}\n\n.ProseMirror ul[data-type=\"taskList\"] li > label,\n.ProseMirror ul[data-type=\"taskList\"] li > div {\n  display: inline-flex !important;\n  align-items: center;\n  vertical-align: middle;\n}\n\n.ProseMirror ul[data-type=\"taskList\"] li > label {\n  cursor: pointer;\n  user-select: none;\n  margin-right: 0.5rem;\n}\n\n.ProseMirror ul[data-type=\"taskList\"] li > label input[type=\"checkbox\"] {\n  width: 1rem;\n  height: 1rem;\n  cursor: pointer;\n  margin: 0 !important;\n  flex-shrink: 0;\n}\n\n.ProseMirror ul[data-type=\"taskList\"] li > div {\n  flex: 1;\n  max-width: calc(100% - 1.5rem);\n}\n\n.ProseMirror ul[data-type=\"taskList\"] li > div > p {\n  margin: 0 !important;\n  display: inline;\n}\n\n.ProseMirror ul[data-type=\"taskList\"] li[data-checked=\"true\"] > div > p {\n  text-decoration: line-through;\n  opacity: 0.6;\n}\n\n/* Nested task lists - indented to the right */\n.ProseMirror ul[data-type=\"taskList\"] ul[data-type=\"taskList\"] {\n  display: block !important;\n  width: 100%;\n  margin-left: 1.5rem !important;\n  margin-top: 0.25rem !important;\n  margin-bottom: 0 !important;\n  padding-left: 0 !important;\n}\n\n/* Notion-style nested bullet lists: • → ○ → ■ → • ... (cycles through levels) */\n.ProseMirror ul:not([data-type=\"taskList\"]) {\n  list-style-type: disc;\n}\n.ProseMirror ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: circle;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: square;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: disc;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: circle;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: square;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: disc;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: circle;\n  margin-left: 1.5rem !important;\n}\n\n/* Notion-style nested numbered lists: 1,2,3 → a,b,c → i,ii,iii → 1,2,3 ... (cycles through levels) */\n.ProseMirror ol {\n  list-style-type: decimal;\n}\n.ProseMirror ol ol {\n  list-style-type: lower-alpha;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ol ol ol {\n  list-style-type: lower-roman;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ol ol ol ol {\n  list-style-type: decimal;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ol ol ol ol ol {\n  list-style-type: lower-alpha;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ol ol ol ol ol ol {\n  list-style-type: lower-roman;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ol ol ol ol ol ol ol {\n  list-style-type: decimal;\n  margin-left: 1.5rem !important;\n}\n.ProseMirror ol ol ol ol ol ol ol ol {\n  list-style-type: lower-alpha;\n  margin-left: 1.5rem !important;\n}\n\n/* Syntax highlighting for code blocks */\n.ProseMirror .hljs-comment,\n.ProseMirror .hljs-quote {\n  @apply text-muted-foreground/70 italic;\n}\n.ProseMirror .hljs-keyword,\n.ProseMirror .hljs-selector-tag,\n.ProseMirror .hljs-addition {\n  @apply text-purple-600 dark:text-purple-400;\n}\n.ProseMirror .hljs-number,\n.ProseMirror .hljs-string,\n.ProseMirror .hljs-meta .hljs-string,\n.ProseMirror .hljs-literal,\n.ProseMirror .hljs-doctag,\n.ProseMirror .hljs-regexp {\n  @apply text-green-600 dark:text-green-400;\n}\n.ProseMirror .hljs-title,\n.ProseMirror .hljs-section,\n.ProseMirror .hljs-name,\n.ProseMirror .hljs-selector-id,\n.ProseMirror .hljs-selector-class {\n  @apply text-blue-600 dark:text-blue-400;\n}\n.ProseMirror .hljs-attribute,\n.ProseMirror .hljs-attr,\n.ProseMirror .hljs-variable,\n.ProseMirror .hljs-template-variable,\n.ProseMirror .hljs-class .hljs-title,\n.ProseMirror .hljs-type {\n  @apply text-orange-600 dark:text-orange-400;\n}\n.ProseMirror .hljs-symbol,\n.ProseMirror .hljs-bullet,\n.ProseMirror .hljs-subst,\n.ProseMirror .hljs-meta,\n.ProseMirror .hljs-link {\n  @apply text-cyan-600 dark:text-cyan-400;\n}\n.ProseMirror .hljs-built_in,\n.ProseMirror .hljs-deletion {\n  @apply text-red-600 dark:text-red-400;\n}\n.ProseMirror .hljs-formula {\n  @apply bg-muted-foreground/10;\n}\n.ProseMirror .hljs-emphasis {\n  @apply italic;\n}\n.ProseMirror .hljs-strong {\n  @apply font-bold;\n}\n\n/* Article Content Styles */\n.prose h1 {\n  @apply text-3xl font-bold mt-8 mb-4 leading-tight;\n}\n.prose h2 {\n  @apply text-2xl font-semibold mt-8 mb-4 leading-tight;\n}\n.prose h3 {\n  @apply text-xl font-semibold mt-6 mb-3 leading-tight;\n}\n.prose h4 {\n  @apply text-lg font-semibold mt-6 mb-3 leading-tight;\n}\n.prose p {\n  @apply mb-6 leading-relaxed;\n}\n.prose ul {\n  @apply list-disc pl-6 mb-6;\n}\n.prose ol {\n  @apply list-decimal pl-6 mb-6;\n}\n.prose li {\n  @apply leading-relaxed mb-1;\n}\n.prose li p {\n  @apply mb-1;\n}\n.prose blockquote {\n  @apply border-l-4 border-primary/30 pl-6 italic text-muted-foreground my-8 py-1;\n}\n.prose a {\n  @apply text-primary underline underline-offset-4 font-medium hover:text-primary/80 transition-colors;\n}\n.prose u {\n  @apply underline underline-offset-2;\n}\n.prose s,\n.prose del {\n  @apply line-through opacity-70;\n}\n.prose mark {\n  @apply bg-yellow-200 dark:bg-yellow-300/40 px-1 rounded;\n  color: inherit !important;\n}\n.prose img {\n  @apply rounded-lg my-8 border max-w-full h-auto;\n}\n.prose hr {\n  @apply my-8 border-t-2 border-border;\n}\n.prose strong {\n  @apply font-semibold text-foreground;\n}\n.prose em {\n  @apply italic;\n}\n.prose code {\n  @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-primary;\n}\n.prose pre {\n  @apply bg-muted p-4 rounded-lg overflow-x-auto my-6 border;\n}\n.prose pre code {\n  @apply bg-transparent p-0 text-sm;\n}\n.prose .code-block {\n  @apply bg-muted p-4 rounded-lg overflow-x-auto my-6 border font-mono text-sm;\n}\n.prose br {\n  content: \"\";\n}\n\n/* Task Lists - Each task on its own line with nested indentation */\n.prose ul[data-type=\"taskList\"] {\n  list-style: none !important;\n  padding-left: 0 !important;\n  margin: 0.5rem 0 !important;\n}\n\n.prose ul[data-type=\"taskList\"] li {\n  display: block !important;\n  position: relative;\n  margin: 0.375rem 0 !important;\n}\n\n.prose ul[data-type=\"taskList\"] li > label,\n.prose ul[data-type=\"taskList\"] li > div {\n  display: inline-flex !important;\n  align-items: center;\n  vertical-align: middle;\n}\n\n.prose ul[data-type=\"taskList\"] li > label {\n  cursor: pointer;\n  user-select: none;\n  margin-right: 0.5rem;\n}\n\n.prose ul[data-type=\"taskList\"] li > label input[type=\"checkbox\"] {\n  width: 1rem;\n  height: 1rem;\n  cursor: pointer;\n  margin: 0 !important;\n  flex-shrink: 0;\n}\n\n.prose ul[data-type=\"taskList\"] li > div {\n  flex: 1;\n  max-width: calc(100% - 1.5rem);\n}\n\n.prose ul[data-type=\"taskList\"] li > div > p {\n  margin: 0 !important;\n  display: inline;\n}\n\n.prose ul[data-type=\"taskList\"] li[data-checked=\"true\"] > div > p {\n  text-decoration: line-through;\n  opacity: 0.6;\n}\n\n/* Nested task lists - indented to the right */\n.prose ul[data-type=\"taskList\"] ul[data-type=\"taskList\"] {\n  display: block !important;\n  width: 100%;\n  margin-left: 1.5rem !important;\n  margin-top: 0.25rem !important;\n  margin-bottom: 0 !important;\n  padding-left: 0 !important;\n}\n\n/* Notion-style nested bullet lists: • → ○ → ■ → • ... (cycles through levels) */\n.prose ul:not([data-type=\"taskList\"]) {\n  list-style-type: disc;\n}\n.prose ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: circle;\n  margin-left: 1.5rem !important;\n}\n.prose ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: square;\n  margin-left: 1.5rem !important;\n}\n.prose ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: disc;\n  margin-left: 1.5rem !important;\n}\n.prose ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: circle;\n  margin-left: 1.5rem !important;\n}\n.prose ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: square;\n  margin-left: 1.5rem !important;\n}\n.prose ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: disc;\n  margin-left: 1.5rem !important;\n}\n.prose ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) ul:not([data-type=\"taskList\"]) {\n  list-style-type: circle;\n  margin-left: 1.5rem !important;\n}\n\n/* Notion-style nested numbered lists: 1,2,3 → a,b,c → i,ii,iii → 1,2,3 ... (cycles through levels) */\n.prose ol {\n  list-style-type: decimal;\n}\n.prose ol ol {\n  list-style-type: lower-alpha;\n  margin-left: 1.5rem !important;\n}\n.prose ol ol ol {\n  list-style-type: lower-roman;\n  margin-left: 1.5rem !important;\n}\n.prose ol ol ol ol {\n  list-style-type: decimal;\n  margin-left: 1.5rem !important;\n}\n.prose ol ol ol ol ol {\n  list-style-type: lower-alpha;\n  margin-left: 1.5rem !important;\n}\n.prose ol ol ol ol ol ol {\n  list-style-type: lower-roman;\n  margin-left: 1.5rem !important;\n}\n.prose ol ol ol ol ol ol ol {\n  list-style-type: decimal;\n  margin-left: 1.5rem !important;\n}\n.prose ol ol ol ol ol ol ol ol {\n  list-style-type: lower-alpha;\n  margin-left: 1.5rem !important;\n}\n\n/* Syntax highlighting for code blocks */\n.prose .hljs-comment,\n.prose .hljs-quote {\n  @apply text-muted-foreground/70 italic;\n}\n.prose .hljs-keyword,\n.prose .hljs-selector-tag,\n.prose .hljs-addition {\n  @apply text-purple-600 dark:text-purple-400;\n}\n.prose .hljs-number,\n.prose .hljs-string,\n.prose .hljs-meta .hljs-string,\n.prose .hljs-literal,\n.prose .hljs-doctag,\n.prose .hljs-regexp {\n  @apply text-green-600 dark:text-green-400;\n}\n.prose .hljs-title,\n.prose .hljs-section,\n.prose .hljs-name,\n.prose .hljs-selector-id,\n.prose .hljs-selector-class {\n  @apply text-blue-600 dark:text-blue-400;\n}\n.prose .hljs-attribute,\n.prose .hljs-attr,\n.prose .hljs-variable,\n.prose .hljs-template-variable,\n.prose .hljs-class .hljs-title,\n.prose .hljs-type {\n  @apply text-orange-600 dark:text-orange-400;\n}\n.prose .hljs-symbol,\n.prose .hljs-bullet,\n.prose .hljs-subst,\n.prose .hljs-meta,\n.prose .hljs-link {\n  @apply text-cyan-600 dark:text-cyan-400;\n}\n.prose .hljs-built_in,\n.prose .hljs-deletion {\n  @apply text-red-600 dark:text-red-400;\n}\n.prose .hljs-formula {\n  @apply bg-muted-foreground/10;\n}\n.prose .hljs-emphasis {\n  @apply italic;\n}\n.prose .hljs-strong {\n  @apply font-bold;\n}\n","size_bytes":17478},"client/src/components/ui/calendar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport {\n  ChevronDownIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n} from \"lucide-react\"\nimport { DayButton, DayPicker, getDefaultClassNames } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button, buttonVariants } from \"@/components/ui/button\"\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  captionLayout = \"label\",\n  buttonVariant = \"ghost\",\n  formatters,\n  components,\n  ...props\n}: React.ComponentProps<typeof DayPicker> & {\n  buttonVariant?: React.ComponentProps<typeof Button>[\"variant\"]\n}) {\n  const defaultClassNames = getDefaultClassNames()\n\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\n        \"bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n        className\n      )}\n      captionLayout={captionLayout}\n      formatters={{\n        formatMonthDropdown: (date) =>\n          date.toLocaleString(\"default\", { month: \"short\" }),\n        ...formatters,\n      }}\n      classNames={{\n        root: cn(\"w-full p-3\", defaultClassNames.root),\n        months: cn(\n          \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n          defaultClassNames.months\n        ),\n        month: cn(\"space-y-4 w-full\", defaultClassNames.month),\n        caption_label: cn(\"text-sm font-medium\", defaultClassNames.caption_label),\n        nav: cn(\"space-x-1 flex items-center\", defaultClassNames.nav),\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"grid grid-cols-7 mb-1\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem] mx-auto\",\n        row: \"grid grid-cols-7 mt-2 w-full\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20 mx-auto\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        Chevron: ({ className, orientation, ...props }) => {\n          if (orientation === \"left\") {\n            return (\n              <ChevronLeftIcon className={cn(\"h-4 w-4\", className)} {...props} />\n            )\n          }\n          if (orientation === \"right\") {\n            return (\n              <ChevronRightIcon className={cn(\"h-4 w-4\", className)} {...props} />\n            )\n          }\n          return (\n            <ChevronDownIcon className={cn(\"h-4 w-4\", className)} {...props} />\n          )\n        },\n        DayButton: CalendarDayButton,\n        WeekNumber: ({ children, ...props }) => {\n          return (\n            <td {...props}>\n              <div className=\"flex size-[--cell-size] items-center justify-center text-center\">\n                {children}\n              </div>\n            </td>\n          )\n        },\n        ...components,\n      }}\n      {...props}\n    />\n  )\n}\n\nfunction CalendarDayButton({\n  className,\n  day,\n  modifiers,\n  ...props\n}: React.ComponentProps<typeof DayButton>) {\n  const defaultClassNames = getDefaultClassNames()\n\n  const ref = React.useRef<HTMLButtonElement>(null)\n  React.useEffect(() => {\n    if (modifiers.focused) ref.current?.focus()\n  }, [modifiers.focused])\n\n  return (\n    <Button\n      ref={ref}\n      variant=\"ghost\"\n      size=\"icon\"\n      data-day={day.date.toLocaleDateString()}\n      data-selected-single={\n        modifiers.selected &&\n        !modifiers.range_start &&\n        !modifiers.range_end &&\n        !modifiers.range_middle\n      }\n      data-range-start={modifiers.range_start}\n      data-range-end={modifiers.range_end}\n      data-range-middle={modifiers.range_middle}\n      className={cn(\n        \"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70\",\n        defaultClassNames.day,\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Calendar, CalendarDayButton }\n","size_bytes":5847},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7406},"server/app.ts":{"content":"import { type Server } from \"node:http\";\n\nimport express, { type Express, type Request, Response, NextFunction } from \"express\";\nimport compression from \"compression\";\nimport { registerRoutes } from \"./routes\";\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport const app = express();\n\napp.use(compression({\n  level: 6,\n  threshold: 1024,\n  filter: (req, res) => {\n    if (req.headers['x-no-compression']) {\n      return false;\n    }\n    return compression.filter(req, res);\n  }\n}));\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  limit: '10mb',\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false, limit: '10mb' }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\nexport default async function runApp(\n  setup: (app: Express, server: Server) => Promise<void>,\n) {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly run the final setup after setting up all the other routes so\n  // the catch-all route doesn't interfere with the other routes\n  await setup(app, server);\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n}\n","size_bytes":2742},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Minus } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-1 ring-ring\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Minus />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2143},"client/src/components/ui/button-group.tsx":{"content":"import { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nconst buttonGroupVariants = cva(\n  \"flex w-fit items-stretch has-[>[data-slot=button-group]]:gap-2 [&>*]:focus-visible:relative [&>*]:focus-visible:z-10 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1\",\n  {\n    variants: {\n      orientation: {\n        horizontal:\n          \"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none\",\n        vertical:\n          \"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none\",\n      },\n    },\n    defaultVariants: {\n      orientation: \"horizontal\",\n    },\n  }\n)\n\nfunction ButtonGroup({\n  className,\n  orientation,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof buttonGroupVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"button-group\"\n      data-orientation={orientation}\n      className={cn(buttonGroupVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupText({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      className={cn(\n        \"bg-muted shadow-xs flex items-center gap-2 rounded-md border px-4 text-sm font-medium [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupSeparator({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"button-group-separator\"\n      orientation={orientation}\n      className={cn(\n        \"bg-input relative !m-0 self-stretch data-[orientation=vertical]:h-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ButtonGroup,\n  ButtonGroupSeparator,\n  ButtonGroupText,\n  buttonGroupVariants,\n}\n","size_bytes":2209},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"client/src/components/ui/kbd.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Kbd({ className, ...props }: React.ComponentProps<\"kbd\">) {\n  return (\n    <kbd\n      data-slot=\"kbd\"\n      className={cn(\n        \"bg-muted text-muted-foreground pointer-events-none inline-flex h-5 w-fit min-w-5 select-none items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium\",\n        \"[&_svg:not([class*='size-'])]:size-3\",\n        \"[[data-slot=tooltip-content]_&]:bg-background/20 [[data-slot=tooltip-content]_&]:text-background dark:[[data-slot=tooltip-content]_&]:bg-background/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction KbdGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <kbd\n      data-slot=\"kbd-group\"\n      className={cn(\"inline-flex items-center gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Kbd, KbdGroup }\n","size_bytes":862},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1410},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4419},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/ui/menubar.tsx":{"content":"import * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8608},"server/seed.ts":{"content":"import { db } from \"./db\";\nimport { profiles, articles, projects, workExperiences, readingList } from \"@shared/schema\";\n\nasync function seed() {\n  console.log(\"Seeding database...\");\n\n  // Seed profile\n  try {\n    const existingProfile = await db.select().from(profiles).limit(1);\n    if (existingProfile.length === 0) {\n      await db.insert(profiles).values({\n        name: \"Arshad Teli\",\n        title: \"Product Manager\",\n        bio: \"Hey there! I'm a Product Manager & Designer currently working at a UK based fintech!\",\n        location: \"United Kingdom\",\n        email: \"art9793@gmail.com\",\n        twitter: \"https://x.com/art9793\",\n        github: \"https://github.com/art9793\",\n        linkedin: \"\",\n        website: \"\",\n      });\n      console.log(\"✓ Profile seeded\");\n    } else {\n      console.log(\"✓ Profile already exists\");\n    }\n  } catch (error) {\n    console.error(\"Error seeding profile:\", error);\n  }\n\n  // Seed sample articles\n  try {\n    const existingArticles = await db.select().from(articles).limit(1);\n    if (existingArticles.length === 0) {\n      await db.insert(articles).values([\n        {\n          title: \"Designing for AI\",\n          slug: \"designing-for-ai\",\n          content: \"<h2>Introduction</h2><p>Start writing...</p>\",\n          excerpt: \"Exploring the challenges and opportunities...\",\n          tags: \"Design, AI\",\n          seoKeywords: \"ai, design, ux\",\n          author: \"Arshad Teli\",\n          status: \"Published\",\n          views: \"2400\",\n          publishedAt: new Date(\"2024-10-24\"),\n        },\n        {\n          title: \"The craft of software\",\n          slug: \"craft-of-software\",\n          content: \"<h2>Introduction</h2><p>Start writing...</p>\",\n          excerpt: \"Why details matter in software...\",\n          tags: \"Engineering, Craft\",\n          seoKeywords: \"software, craft, engineering\",\n          author: \"Arshad Teli\",\n          status: \"Published\",\n          views: \"1800\",\n          publishedAt: new Date(\"2024-08-12\"),\n        },\n        {\n          title: \"Building Campsite\",\n          slug: \"building-campsite\",\n          content: \"<h2>Introduction</h2><p>Start writing...</p>\",\n          excerpt: \"A journey of building a new product...\",\n          tags: \"Product, Startup\",\n          seoKeywords: \"startup, product, campsite\",\n          author: \"Arshad Teli\",\n          status: \"Published\",\n          views: \"3200\",\n          publishedAt: new Date(\"2024-05-03\"),\n        },\n      ]);\n      console.log(\"✓ Sample articles seeded\");\n    } else {\n      console.log(\"✓ Articles already exist\");\n    }\n  } catch (error) {\n    console.error(\"Error seeding articles:\", error);\n  }\n\n  // Seed sample projects\n  try {\n    const existingProjects = await db.select().from(projects).limit(1);\n    if (existingProjects.length === 0) {\n      await db.insert(projects).values([\n        {\n          title: \"Personal Portfolio\",\n          description: \"A minimalist personal website built with modern web technologies\",\n          link: \"\",\n          tags: \"React, Node.js, Design\",\n          status: \"Active\",\n          featured: true,\n        },\n        {\n          title: \"Product Analytics Dashboard\",\n          description: \"Real-time analytics dashboard for product metrics\",\n          link: \"\",\n          tags: \"Analytics, Data, UI/UX\",\n          status: \"Active\",\n          featured: false,\n        },\n      ]);\n      console.log(\"✓ Sample projects seeded\");\n    } else {\n      console.log(\"✓ Projects already exist\");\n    }\n  } catch (error) {\n    console.error(\"Error seeding projects:\", error);\n  }\n\n  // Seed sample work experience\n  try {\n    const existingWork = await db.select().from(workExperiences).limit(1);\n    if (existingWork.length === 0) {\n      await db.insert(workExperiences).values([\n        {\n          company: \"UK Fintech Company\",\n          role: \"Product Manager\",\n          startDate: \"2022-05-01\",\n          endDate: \"Present\",\n          description: \"Leading the core product team to build the future of finance.\",\n        },\n        {\n          company: \"TechStart\",\n          role: \"Product Designer\",\n          startDate: \"2020-03-01\",\n          endDate: \"2022-04-30\",\n          description: \"Designed the initial MVP and scaled the design system.\",\n        },\n      ]);\n      console.log(\"✓ Sample work experiences seeded\");\n    } else {\n      console.log(\"✓ Work experiences already exist\");\n    }\n  } catch (error) {\n    console.error(\"Error seeding work experiences:\", error);\n  }\n\n  console.log(\"Database seeding completed!\");\n  process.exit(0);\n}\n\nseed().catch((error) => {\n  console.error(\"Seeding failed:\", error);\n  process.exit(1);\n});\n","size_bytes":4655},"client/src/components/layout.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport { ThemeToggle } from \"./theme-toggle\";\nimport { cn } from \"@/lib/utils\";\nimport { motion } from \"framer-motion\";\nimport { Home, PenTool, FolderGit2, BookOpen, Briefcase, Menu, X, Lock, ChevronsLeft, ChevronsRight } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport { Button } from \"./ui/button\";\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\nimport { Tooltip, TooltipContent, TooltipTrigger } from \"@/components/ui/tooltip\";\n\nexport default function Layout({ children }: { children: React.ReactNode }) {\n  const [location] = useLocation();\n  const [isMobile, setIsMobile] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [isExpanded, setIsExpanded] = useState(true);\n\n  useEffect(() => {\n    const checkMobile = () => setIsMobile(window.innerWidth < 768);\n    checkMobile();\n    window.addEventListener(\"resize\", checkMobile);\n    return () => window.removeEventListener(\"resize\", checkMobile);\n  }, []);\n\n  const navItems = [\n    { href: \"/\", label: \"Home\", icon: Home },\n    { href: \"/writing\", label: \"Writing\", icon: PenTool },\n    { href: \"/projects\", label: \"Projects\", icon: FolderGit2 },\n    { href: \"/work\", label: \"Work\", icon: Briefcase },\n  ];\n\n  const NavContent = ({ collapsed = false }: { collapsed?: boolean }) => (\n    <nav className={cn(\"flex flex-col gap-2\", collapsed ? \"items-center\" : \"\")}>\n      {navItems.map((item) => {\n        const isActive = location === item.href || (item.href !== \"/\" && location.startsWith(item.href));\n        \n        if (collapsed) {\n          return (\n            <Tooltip key={item.href} delayDuration={0}>\n              <TooltipTrigger asChild>\n                <Link href={item.href}\n                  className={cn(\n                    \"group flex items-center justify-center rounded-md h-10 w-10 text-sm font-medium transition-all hover:bg-secondary/80\",\n                    isActive ? \"bg-secondary text-primary\" : \"text-muted-foreground hover:text-primary\"\n                  )}\n                >\n                  <item.icon className={cn(\"h-4 w-4 transition-colors\", isActive ? \"text-primary\" : \"text-muted-foreground group-hover:text-primary\")} />\n                  <span className=\"sr-only\">{item.label}</span>\n                </Link>\n              </TooltipTrigger>\n              <TooltipContent side=\"right\">{item.label}</TooltipContent>\n            </Tooltip>\n          );\n        }\n\n        return (\n          <Link key={item.href} href={item.href}\n            className={cn(\n              \"group flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-all hover:bg-secondary/80\",\n              isActive ? \"bg-secondary text-primary\" : \"text-muted-foreground hover:text-primary\"\n            )}\n          >\n            <item.icon className={cn(\"h-4 w-4 transition-colors\", isActive ? \"text-primary\" : \"text-muted-foreground group-hover:text-primary\")} />\n            <span>{item.label}</span>\n          </Link>\n        );\n      })}\n    </nav>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-background font-sans flex flex-col md:flex-row overflow-x-hidden\">\n      {/* Mobile Header */}\n      <div className=\"md:hidden flex items-center justify-between px-6 py-4 border-b bg-background/80 backdrop-blur-xl sticky top-0 z-50\">\n        <Link href=\"/\" className=\"font-semibold text-lg tracking-tight\">\n          Arshad Teli\n        </Link>\n        <div className=\"flex items-center gap-1\">\n          <ThemeToggle />\n          <Sheet open={open} onOpenChange={setOpen}>\n            <SheetTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" className=\"hover:bg-transparent\">\n                <Menu className=\"h-6 w-6\" />\n              </Button>\n            </SheetTrigger>\n            <SheetContent side=\"right\" className=\"w-full sm:w-80 p-6 pt-12\">\n              <div className=\"flex flex-col h-full\">\n                <div className=\"mb-8\">\n                   <div className=\"font-bold text-2xl tracking-tight mb-2\">Arshad Teli</div>\n                   <p className=\"text-muted-foreground\">Product Manager & Designer</p>\n                </div>\n                <nav className=\"flex flex-col gap-1\">\n                  {navItems.map((item) => {\n                    const isActive = location === item.href || (item.href !== \"/\" && location.startsWith(item.href));\n                    return (\n                      <Link key={item.href} href={item.href} onClick={() => setOpen(false)}\n                        className={cn(\n                          \"group flex items-center gap-4 rounded-xl px-4 py-3 text-lg font-medium transition-all\",\n                          isActive ? \"bg-secondary text-primary\" : \"text-muted-foreground hover:text-primary hover:bg-secondary/50\"\n                        )}\n                      >\n                        <item.icon className={cn(\"h-5 w-5 transition-colors\", isActive ? \"text-primary\" : \"text-muted-foreground group-hover:text-primary\")} />\n                        <span>{item.label}</span>\n                      </Link>\n                    );\n                  })}\n                </nav>\n                <div className=\"mt-auto pt-8 border-t flex justify-between text-muted-foreground\">\n                  <span className=\"text-sm\">© {new Date().getFullYear()}</span>\n                  <div className=\"flex gap-4\">\n                    <a href=\"https://x.com/art9793\" target=\"_blank\" rel=\"noopener noreferrer\">Twitter</a>\n                    <a href=\"https://github.com/art9793\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>\n                  </div>\n                </div>\n              </div>\n            </SheetContent>\n          </Sheet>\n        </div>\n      </div>\n\n      {/* Desktop Sidebar */}\n      <aside className={cn(\n        \"hidden md:flex flex-col fixed inset-y-0 left-0 border-r bg-card/30 backdrop-blur-sm p-6 transition-all duration-300 group z-40\",\n        isExpanded ? \"w-64\" : \"w-[80px] items-center px-2\"\n      )}>\n        <div className={cn(\"flex items-center mb-8 py-2 relative\", isExpanded ? \"justify-between px-3\" : \"justify-center flex-col gap-4\")}>\n           {isExpanded ? (\n             <Link href=\"/\" className=\"font-semibold text-lg tracking-tight\">\n               Arshad Teli\n             </Link>\n           ) : (\n             <Link href=\"/\" className=\"font-bold text-xl tracking-tight\">\n               AT\n             </Link>\n           )}\n           <Button \n             variant=\"ghost\" \n             size=\"icon\" \n             className={cn(\n               \"h-6 w-6 text-muted-foreground opacity-0 group-hover:opacity-100 transition-all duration-200 hover:bg-secondary\",\n               isExpanded ? \"absolute -right-4\" : \"\"\n             )} \n             onClick={() => setIsExpanded(!isExpanded)}\n           >\n             {isExpanded ? <ChevronsLeft className=\"h-4 w-4\" /> : <ChevronsRight className=\"h-4 w-4\" />}\n           </Button>\n        </div>\n        \n        <div className=\"flex-1 w-full\">\n          <NavContent collapsed={!isExpanded} />\n        </div>\n\n        <div className={cn(\"border-t mt-auto\", isExpanded ? \"pl-3 pt-4\" : \"pt-4 w-full flex flex-col items-center\")}>\n           <div className={cn(\"flex items-center\", isExpanded ? \"justify-between\" : \"flex-col gap-4\")}>\n             {isExpanded && <span className=\"text-xs text-muted-foreground\">© {new Date().getFullYear()}</span>}\n             <div className={cn(\"flex items-center\", isExpanded ? \"gap-2\" : \"flex-col gap-4\")}>\n                <Link href=\"/admin\" className=\"text-muted-foreground hover:text-primary transition-colors\" aria-label=\"Admin Access\">\n                  <Lock className=\"h-3 w-3\" />\n                </Link>\n                <ThemeToggle />\n             </div>\n           </div>\n        </div>\n      </aside>\n\n      {/* Main Content */}\n      <main className={cn(\"flex-1 transition-all duration-300\", isExpanded ? \"md:pl-64\" : \"md:pl-[80px]\")}>\n        <div className=\"mx-auto max-w-3xl px-6 py-12 md:py-20\">\n          <motion.div\n            key={location}\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.4, ease: [0.22, 1, 0.36, 1] }}\n          >\n            {children}\n          </motion.div>\n          \n          {/* Mobile Footer */}\n          <footer className=\"md:hidden mt-24 border-t pt-8 text-sm text-muted-foreground\">\n            <div className=\"flex justify-between items-center\">\n              <div>© {new Date().getFullYear()}</div>\n              <div className=\"flex gap-4\">\n                <a href=\"#\" className=\"hover:text-primary transition-colors\">Twitter</a>\n                <a href=\"#\" className=\"hover:text-primary transition-colors\">GitHub</a>\n              </div>\n            </div>\n          </footer>\n        </div>\n      </main>\n    </div>\n  );\n}\n","size_bytes":8846},"client/src/components/ui/form.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(null)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  if (!itemContext) {\n    throw new Error(\"useFormField should be used within <FormItem>\")\n  }\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue | null>(null)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4175},"vite-plugin-meta-images.ts":{"content":"import type { Plugin } from 'vite';\nimport fs from 'fs';\nimport path from 'path';\n\n/**\n * Vite plugin that updates og:image and twitter:image meta tags\n * to point to the app's opengraph image with the correct Replit domain.\n */\nexport function metaImagesPlugin(): Plugin {\n  return {\n    name: 'vite-plugin-meta-images',\n    transformIndexHtml(html) {\n      const baseUrl = getDeploymentUrl();\n      if (!baseUrl) {\n        log('[meta-images] no Replit deployment domain found, skipping meta tag updates');\n        return html;\n      }\n\n      // Check if opengraph image exists in public directory\n      const publicDir = path.resolve(process.cwd(), 'client', 'public');\n      const opengraphPngPath = path.join(publicDir, 'opengraph.png');\n      const opengraphJpgPath = path.join(publicDir, 'opengraph.jpg');\n      const opengraphJpegPath = path.join(publicDir, 'opengraph.jpeg');\n\n      let imageExt: string | null = null;\n      if (fs.existsSync(opengraphPngPath)) {\n        imageExt = 'png';\n      } else if (fs.existsSync(opengraphJpgPath)) {\n        imageExt = 'jpg';\n      } else if (fs.existsSync(opengraphJpegPath)) {\n        imageExt = 'jpeg';\n      }\n\n      if (!imageExt) {\n        log('[meta-images] OpenGraph image not found, skipping meta tag updates');\n        return html;\n      }\n\n      const imageUrl = `${baseUrl}/opengraph.${imageExt}`;\n\n      log('[meta-images] updating meta image tags to:', imageUrl);\n\n      html = html.replace(\n        /<meta\\s+property=\"og:image\"\\s+content=\"[^\"]*\"\\s*\\/>/g,\n        `<meta property=\"og:image\" content=\"${imageUrl}\" />`\n      );\n\n      html = html.replace(\n        /<meta\\s+name=\"twitter:image\"\\s+content=\"[^\"]*\"\\s*\\/>/g,\n        `<meta name=\"twitter:image\" content=\"${imageUrl}\" />`\n      );\n\n      return html;\n    },\n  };\n}\n\nfunction getDeploymentUrl(): string | null {\n  if (process.env.REPLIT_INTERNAL_APP_DOMAIN) {\n    const url = `https://${process.env.REPLIT_INTERNAL_APP_DOMAIN}`;\n    log('[meta-images] using internal app domain:', url);\n    return url;\n  }\n\n  if (process.env.REPLIT_DEV_DOMAIN) {\n    const url = `https://${process.env.REPLIT_DEV_DOMAIN}`;\n    log('[meta-images] using dev domain:', url);\n    return url;\n  }\n\n  return null;\n}\n\nfunction log(...args: any[]): void {\n  if (process.env.NODE_ENV === 'production') {\n    console.log(...args);\n  }\n}\n","size_bytes":2333},"client/src/components/ui/dialog.tsx":{"content":"import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3835},"client/src/pages/admin/login.tsx":{"content":"import { useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Loader2, Lock, AlertCircle } from \"lucide-react\";\nimport { queryClient } from \"@/lib/queryClient\";\n\nexport default function AdminLogin() {\n  const [, setLocation] = useLocation();\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        credentials: \"include\",\n        body: JSON.stringify({ email, password }),\n      });\n\n      if (!response.ok) {\n        const data = await response.json();\n        throw new Error(data.message || \"Login failed\");\n      }\n\n      await queryClient.invalidateQueries({ queryKey: [\"/api/auth/user\"] });\n      setLocation(\"/admin\");\n    } catch (err: any) {\n      setError(err.message || \"Failed to log in. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-background via-background to-muted/20\">\n      <div className=\"w-full max-w-md px-6\">\n        <div className=\"space-y-8\">\n          <div className=\"flex justify-center\">\n            <div className=\"h-16 w-16 rounded-2xl bg-primary/10 flex items-center justify-center\">\n              <Lock className=\"h-8 w-8 text-primary\" />\n            </div>\n          </div>\n\n          <div className=\"space-y-3 text-center\">\n            <h1 className=\"text-3xl font-bold tracking-tight\">Admin Access</h1>\n            <p className=\"text-muted-foreground text-lg\">\n              Sign in to manage your portfolio\n            </p>\n          </div>\n\n          <form onSubmit={handleLogin} className=\"space-y-6\">\n            {error && (\n              <div className=\"flex items-center gap-2 p-3 text-sm text-destructive bg-destructive/10 rounded-lg border border-destructive/20\">\n                <AlertCircle className=\"h-4 w-4 flex-shrink-0\" />\n                <p>{error}</p>\n              </div>\n            )}\n\n            <div className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email\" data-testid=\"label-email\">Email</Label>\n                <Input\n                  id=\"email\"\n                  type=\"email\"\n                  placeholder=\"admin@example.com\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-email\"\n                  className=\"h-12\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\" data-testid=\"label-password\">Password</Label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Enter your password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  required\n                  disabled={isLoading}\n                  data-testid=\"input-password\"\n                  className=\"h-12\"\n                />\n              </div>\n            </div>\n\n            <Button \n              type=\"submit\"\n              size=\"lg\" \n              className=\"w-full h-12 text-base font-medium shadow-lg hover:shadow-xl transition-all\" \n              disabled={isLoading}\n              data-testid=\"button-login\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n                  Signing in...\n                </>\n              ) : (\n                \"Sign In\"\n              )}\n            </Button>\n\n            <p className=\"text-sm text-muted-foreground/70 text-center\">\n              Authorized access only\n            </p>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":4319},"client/src/components/ui/field.tsx":{"content":"\"use client\"\n\nimport { useMemo } from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction FieldSet({ className, ...props }: React.ComponentProps<\"fieldset\">) {\n  return (\n    <fieldset\n      data-slot=\"field-set\"\n      className={cn(\n        \"flex flex-col gap-6\",\n        \"has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLegend({\n  className,\n  variant = \"legend\",\n  ...props\n}: React.ComponentProps<\"legend\"> & { variant?: \"legend\" | \"label\" }) {\n  return (\n    <legend\n      data-slot=\"field-legend\"\n      data-variant={variant}\n      className={cn(\n        \"mb-3 font-medium\",\n        \"data-[variant=legend]:text-base\",\n        \"data-[variant=label]:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-group\"\n      className={cn(\n        \"group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst fieldVariants = cva(\n  \"group/field data-[invalid=true]:text-destructive flex w-full gap-3\",\n  {\n    variants: {\n      orientation: {\n        vertical: [\"flex-col [&>*]:w-full [&>.sr-only]:w-auto\"],\n        horizontal: [\n          \"flex-row items-center\",\n          \"[&>[data-slot=field-label]]:flex-auto\",\n          \"has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px has-[>[data-slot=field-content]]:items-start\",\n        ],\n        responsive: [\n          \"@md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto flex-col [&>*]:w-full [&>.sr-only]:w-auto\",\n          \"@md/field-group:[&>[data-slot=field-label]]:flex-auto\",\n          \"@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px\",\n        ],\n      },\n    },\n    defaultVariants: {\n      orientation: \"vertical\",\n    },\n  }\n)\n\nfunction Field({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof fieldVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"field\"\n      data-orientation={orientation}\n      className={cn(fieldVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction FieldContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-content\"\n      className={cn(\n        \"group/field-content flex flex-1 flex-col gap-1.5 leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof Label>) {\n  return (\n    <Label\n      data-slot=\"field-label\"\n      className={cn(\n        \"group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50\",\n        \"has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>[data-slot=field]]:p-4\",\n        \"has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-label\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug group-data-[disabled=true]/field:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"field-description\"\n      className={cn(\n        \"text-muted-foreground text-sm font-normal leading-normal group-has-[[data-orientation=horizontal]]/field:text-balance\",\n        \"nth-last-2:-mt-1 last:mt-0 [[data-variant=legend]+&]:-mt-1.5\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  children?: React.ReactNode\n}) {\n  return (\n    <div\n      data-slot=\"field-separator\"\n      data-content={!!children}\n      className={cn(\n        \"relative -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2\",\n        className\n      )}\n      {...props}\n    >\n      <Separator className=\"absolute inset-0 top-1/2\" />\n      {children && (\n        <span\n          className=\"bg-background text-muted-foreground relative mx-auto block w-fit px-2\"\n          data-slot=\"field-separator-content\"\n        >\n          {children}\n        </span>\n      )}\n    </div>\n  )\n}\n\nfunction FieldError({\n  className,\n  children,\n  errors,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  errors?: Array<{ message?: string } | undefined>\n}) {\n  const content = useMemo(() => {\n    if (children) {\n      return children\n    }\n\n    if (!errors) {\n      return null\n    }\n\n    if (errors?.length === 1 && errors[0]?.message) {\n      return errors[0].message\n    }\n\n    return (\n      <ul className=\"ml-4 flex list-disc flex-col gap-1\">\n        {errors.map(\n          (error, index) =>\n            error?.message && <li key={index}>{error.message}</li>\n        )}\n      </ul>\n    )\n  }, [children, errors])\n\n  if (!content) {\n    return null\n  }\n\n  return (\n    <div\n      role=\"alert\"\n      data-slot=\"field-error\"\n      className={cn(\"text-destructive text-sm font-normal\", className)}\n      {...props}\n    >\n      {content}\n    </div>\n  )\n}\n\nexport {\n  Field,\n  FieldLabel,\n  FieldDescription,\n  FieldError,\n  FieldGroup,\n  FieldLegend,\n  FieldSeparator,\n  FieldSet,\n  FieldContent,\n  FieldTitle,\n}\n","size_bytes":6044},"client/src/components/ui/label.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":724},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5745},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":2001},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1148},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1486},"client/src/components/ui/hover-card.tsx":{"content":"import * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1237},"client/src/App.tsx":{"content":"import { Switch, Route, useLocation, Redirect } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport Layout from \"@/components/layout\";\nimport { ContentProvider } from \"@/lib/content-context\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useEffect, lazy, Suspense } from \"react\";\n\nconst NotFound = lazy(() => import(\"@/pages/not-found\"));\nconst Home = lazy(() => import(\"@/pages/home\"));\nconst Writing = lazy(() => import(\"@/pages/writing\"));\nconst Article = lazy(() => import(\"@/pages/article\"));\nconst Projects = lazy(() => import(\"@/pages/projects\"));\nconst Reading = lazy(() => import(\"@/pages/reading\"));\nconst Work = lazy(() => import(\"@/pages/work\"));\nconst AdminDashboard = lazy(() => import(\"@/pages/admin/dashboard\"));\nconst AdminLogin = lazy(() => import(\"@/pages/admin/login\"));\nconst ArticleEditor = lazy(() => import(\"@/pages/admin/article-editor\"));\n\nfunction LoadingFallback() {\n  return (\n    <div className=\"flex items-center justify-center min-h-[50vh]\">\n      <div className=\"text-muted-foreground\">Loading...</div>\n    </div>\n  );\n}\n\nfunction ProtectedRoute({ component: Component }: { component: React.ComponentType }) {\n  const { user, isAuthenticated, isLoading } = useAuth();\n  const [, setLocation] = useLocation();\n\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      setLocation(\"/admin/login\");\n    }\n  }, [isAuthenticated, isLoading, setLocation]);\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-muted-foreground\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-muted-foreground\">Redirecting to login...</div>\n      </div>\n    );\n  }\n\n  // Check if user's email is authorized for admin access\n  const authorizedEmail = \"art9793@gmail.com\";\n  if (user && user.email !== authorizedEmail) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen px-4\">\n        <div className=\"max-w-md text-center space-y-4\">\n          <div className=\"text-5xl mb-4\">🔒</div>\n          <h1 className=\"text-2xl font-bold\">Access Denied</h1>\n          <p className=\"text-muted-foreground\">\n            Only the site owner can access the admin dashboard.\n          </p>\n          <a \n            href=\"/\" \n            className=\"inline-block mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors\"\n          >\n            Go Home\n          </a>\n        </div>\n      </div>\n    );\n  }\n\n  return <Component />;\n}\n\nfunction Router() {\n  const [location] = useLocation();\n  const isAdmin = location.startsWith(\"/admin\");\n\n  if (isAdmin) {\n    return (\n      <Switch>\n        <Route path=\"/admin/login\">\n          <Suspense fallback={<LoadingFallback />}>\n            <AdminLogin />\n          </Suspense>\n        </Route>\n        <Route path=\"/admin/article/:id\">\n          {() => (\n            <Suspense fallback={<LoadingFallback />}>\n              <ProtectedRoute component={ArticleEditor} />\n            </Suspense>\n          )}\n        </Route>\n        <Route path=\"/admin\">\n          {() => (\n            <Suspense fallback={<LoadingFallback />}>\n              <ProtectedRoute component={AdminDashboard} />\n            </Suspense>\n          )}\n        </Route>\n        <Route>\n          <Suspense fallback={<LoadingFallback />}>\n            <NotFound />\n          </Suspense>\n        </Route>\n      </Switch>\n    );\n  }\n\n  return (\n    <Layout>\n      <Switch>\n        <Route path=\"/\">\n          <Suspense fallback={<LoadingFallback />}>\n            <Home />\n          </Suspense>\n        </Route>\n        <Route path=\"/writing\">\n          <Suspense fallback={<LoadingFallback />}>\n            <Writing />\n          </Suspense>\n        </Route>\n        <Route path=\"/article/:slug\">\n          <Suspense fallback={<LoadingFallback />}>\n            <Article />\n          </Suspense>\n        </Route>\n        <Route path=\"/projects\">\n          <Suspense fallback={<LoadingFallback />}>\n            <Projects />\n          </Suspense>\n        </Route>\n        <Route path=\"/reading\">\n          <Suspense fallback={<LoadingFallback />}>\n            <Reading />\n          </Suspense>\n        </Route>\n        <Route path=\"/work\">\n          <Suspense fallback={<LoadingFallback />}>\n            <Work />\n          </Suspense>\n        </Route>\n        <Route>\n          <Suspense fallback={<LoadingFallback />}>\n            <NotFound />\n          </Suspense>\n        </Route>\n      </Switch>\n    </Layout>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <ContentProvider>\n        <TooltipProvider>\n          <Toaster />\n          <Router />\n        </TooltipProvider>\n      </ContentProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":5089},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":792},"client/src/pages/article.tsx":{"content":"import { Link, useRoute } from \"wouter\";\nimport { ArrowLeft } from \"lucide-react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { format } from \"date-fns\";\n\nexport default function Article() {\n  const [, params] = useRoute(\"/article/:slug\");\n  const slug = params?.slug;\n\n  const { data: article, isLoading, error } = useQuery({\n    queryKey: [\"article\", slug],\n    queryFn: async () => {\n      const response = await fetch(`/api/articles/slug/${slug}`);\n      if (!response.ok) {\n        throw new Error(\"Article not found\");\n      }\n      return response.json();\n    },\n    enabled: !!slug,\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-muted-foreground\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (error || !article) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[400px] text-center\">\n        <h1 className=\"text-2xl font-bold mb-4\">Article not found</h1>\n        <p className=\"text-muted-foreground mb-6\">The article you're looking for doesn't exist.</p>\n        <Link href=\"/writing\" className=\"inline-flex items-center text-sm text-primary hover:underline\">\n          <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back to writing\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <article className=\"max-w-none\">\n      <div className=\"mb-8\">\n        <Link href=\"/writing\" className=\"inline-flex items-center text-sm text-muted-foreground hover:text-primary transition-colors mb-6\">\n            <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back to writing\n        </Link>\n        <h1 className=\"text-3xl md:text-4xl font-bold tracking-tight mb-4 text-primary\">\n          {article.title}\n        </h1>\n        <div className=\"text-sm text-muted-foreground\">\n          {article.publishedAt && format(new Date(article.publishedAt), \"MMMM d, yyyy\")}\n        </div>\n      </div>\n\n      {article.excerpt && (\n        <p className=\"text-lg text-muted-foreground mb-8 font-medium\">\n          {article.excerpt}\n        </p>\n      )}\n\n      <div \n        className=\"prose prose-sm sm:prose max-w-none prose-headings:text-primary prose-p:text-foreground prose-a:text-primary prose-strong:text-foreground prose-img:rounded-lg prose-img:border\"\n        dangerouslySetInnerHTML={{ __html: article.content }}\n      />\n    </article>\n  );\n}\n","size_bytes":2371},"client/src/components/ui/dropdown-menu.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7606},"client/src/pages/reading.tsx":{"content":"import { Star, Book } from \"lucide-react\";\n\nexport default function Reading() {\n  const books = [\n    { title: \"Creative Selection\", author: \"Ken Kocienda\", status: \"Reading\", rating: null, year: \"2025\" },\n    { title: \"Build\", author: \"Tony Fadell\", status: \"Read\", rating: 5, year: \"2025\" },\n    { title: \"The Design of Everyday Things\", author: \"Don Norman\", status: \"Read\", rating: 5, year: \"2025\" },\n    { title: \"Shape Up\", author: \"Ryan Singer\", status: \"Read\", rating: 4, year: \"2024\" },\n    { title: \"Refactoring UI\", author: \"Adam Wathan & Steve Schoger\", status: \"Read\", rating: 5, year: \"2024\" },\n    { title: \"Deep Work\", author: \"Cal Newport\", status: \"Want to read\", rating: null, year: \"Next\" },\n  ];\n\n  const groupedBooks = books.reduce((acc, book) => {\n    const key = book.year;\n    if (!acc[key]) acc[key] = [];\n    acc[key].push(book);\n    return acc;\n  }, {} as Record<string, typeof books>);\n\n  return (\n    <div className=\"space-y-12\">\n      <div className=\"space-y-4\">\n        <h1 className=\"text-3xl font-bold tracking-tight\">Reading</h1>\n        <p className=\"text-muted-foreground text-lg\">\n          A living collection of books that have shaped my thinking.\n        </p>\n      </div>\n\n      <div className=\"relative border-l border-border ml-2 sm:ml-3 space-y-12\">\n        {Object.entries(groupedBooks).sort((a, b) => b[0].localeCompare(a[0])).map(([year, books]) => (\n          <div key={year} className=\"relative pl-6 sm:pl-8\">\n            <span className=\"absolute -left-[5px] top-2 h-2.5 w-2.5 rounded-full border-2 border-background bg-muted-foreground/30 ring-4 ring-background\" />\n            \n            <div className=\"mb-6\">\n              <h2 className=\"text-sm font-semibold text-muted-foreground tracking-wider uppercase\">{year}</h2>\n            </div>\n\n            <div className=\"space-y-6\">\n              {books.map((book, i) => (\n                <div key={i} className=\"group flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 sm:gap-4 p-2 -mx-2 rounded-lg hover:bg-secondary/40 transition-colors\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-medium text-primary group-hover:text-primary transition-colors\">\n                      {book.title}\n                    </h3>\n                    <p className=\"text-sm text-muted-foreground mt-0.5\">{book.author}</p>\n                  </div>\n                  \n                  <div className=\"flex items-center gap-3\">\n                    {book.rating && (\n                      <div className=\"flex gap-0.5\">\n                        {[...Array(5)].map((_, i) => (\n                          <Star \n                            key={i} \n                            className={`h-3 w-3 ${i < book.rating! ? \"fill-primary text-primary\" : \"fill-muted/30 text-muted/30\"}`} \n                          />\n                        ))}\n                      </div>\n                    )}\n                    {!book.rating && book.status === \"Reading\" && (\n                       <span className=\"text-[10px] uppercase tracking-wider font-semibold text-blue-600 bg-blue-50 dark:bg-blue-900/20 dark:text-blue-400 px-2 py-0.5 rounded-full whitespace-nowrap\">\n                         Reading\n                       </span>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","size_bytes":3422},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":768},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":649},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/input-group.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nfunction InputGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"input-group\"\n      role=\"group\"\n      className={cn(\n        \"group/input-group border-input dark:bg-input/30 shadow-xs relative flex w-full items-center rounded-md border outline-none transition-[color,box-shadow]\",\n        \"h-9 has-[>textarea]:h-auto\",\n\n        // Variants based on alignment.\n        \"has-[>[data-align=inline-start]]:[&>input]:pl-2\",\n        \"has-[>[data-align=inline-end]]:[&>input]:pr-2\",\n        \"has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3\",\n        \"has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3\",\n\n        // Focus state.\n        \"has-[[data-slot=input-group-control]:focus-visible]:ring-ring has-[[data-slot=input-group-control]:focus-visible]:ring-1\",\n\n        // Error state.\n        \"has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40\",\n\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupAddonVariants = cva(\n  \"text-muted-foreground flex h-auto cursor-text select-none items-center justify-center gap-2 py-1.5 text-sm font-medium group-data-[disabled=true]/input-group:opacity-50 [&>kbd]:rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-4\",\n  {\n    variants: {\n      align: {\n        \"inline-start\":\n          \"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]\",\n        \"inline-end\":\n          \"order-last pr-3 has-[>button]:mr-[-0.4rem] has-[>kbd]:mr-[-0.35rem]\",\n        \"block-start\":\n          \"[.border-b]:pb-3 order-first w-full justify-start px-3 pt-3 group-has-[>input]/input-group:pt-2.5\",\n        \"block-end\":\n          \"[.border-t]:pt-3 order-last w-full justify-start px-3 pb-3 group-has-[>input]/input-group:pb-2.5\",\n      },\n    },\n    defaultVariants: {\n      align: \"inline-start\",\n    },\n  }\n)\n\nfunction InputGroupAddon({\n  className,\n  align = \"inline-start\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupAddonVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"input-group-addon\"\n      data-align={align}\n      className={cn(inputGroupAddonVariants({ align }), className)}\n      onClick={(e) => {\n        if ((e.target as HTMLElement).closest(\"button\")) {\n          return\n        }\n        e.currentTarget.parentElement?.querySelector(\"input\")?.focus()\n      }}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupButtonVariants = cva(\n  \"flex items-center gap-2 text-sm shadow-none\",\n  {\n    variants: {\n      size: {\n        xs: \"h-6 gap-1 rounded-[calc(var(--radius)-5px)] px-2 has-[>svg]:px-2 [&>svg:not([class*='size-'])]:size-3.5\",\n        sm: \"h-8 gap-1.5 rounded-md px-2.5 has-[>svg]:px-2.5\",\n        \"icon-xs\":\n          \"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0\",\n        \"icon-sm\": \"size-8 p-0 has-[>svg]:p-0\",\n      },\n    },\n    defaultVariants: {\n      size: \"xs\",\n    },\n  }\n)\n\nfunction InputGroupButton({\n  className,\n  type = \"button\",\n  variant = \"ghost\",\n  size = \"xs\",\n  ...props\n}: Omit<React.ComponentProps<typeof Button>, \"size\"> &\n  VariantProps<typeof inputGroupButtonVariants>) {\n  return (\n    <Button\n      type={type}\n      data-size={size}\n      variant={variant}\n      className={cn(inputGroupButtonVariants({ size }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupText({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      className={cn(\n        \"text-muted-foreground flex items-center gap-2 text-sm [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupInput({\n  className,\n  ...props\n}: React.ComponentProps<\"input\">) {\n  return (\n    <Input\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupTextarea({\n  className,\n  ...props\n}: React.ComponentProps<\"textarea\">) {\n  return (\n    <Textarea\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupText,\n  InputGroupInput,\n  InputGroupTextarea,\n}\n","size_bytes":4971},"client/src/pages/writing.tsx":{"content":"import { Link } from \"wouter\";\nimport { useContent } from \"@/lib/content-context\";\nimport { format } from \"date-fns\";\n\nexport default function Writing() {\n  const { articles } = useContent();\n  \n  // Filter for Published status only and sort by date descending\n  const publishedPosts = articles\n    .filter(a => a.status === \"Published\")\n    .sort((a, b) => {\n      const dateA = a.publishedAt ? new Date(a.publishedAt).getTime() : 0;\n      const dateB = b.publishedAt ? new Date(b.publishedAt).getTime() : 0;\n      return dateB - dateA;\n    });\n\n  const postsByYear = publishedPosts.reduce((acc, post) => {\n    if (!post.publishedAt) return acc;\n    const year = new Date(post.publishedAt).getFullYear().toString();\n    if (!acc[year]) acc[year] = [];\n    acc[year].push(post);\n    return acc;\n  }, {} as Record<string, typeof articles>);\n\n  return (\n    <div className=\"space-y-12 animate-in fade-in-50 duration-500\">\n      <div className=\"space-y-4\">\n        <h1 className=\"text-3xl font-bold tracking-tight\">Writing</h1>\n        <p className=\"text-muted-foreground text-lg\">\n          Thoughts on design, software, and building products.\n        </p>\n      </div>\n\n      <div className=\"space-y-10\">\n        {Object.keys(postsByYear).length === 0 ? (\n          <div className=\"text-muted-foreground italic\">No articles published yet.</div>\n        ) : (\n          Object.entries(postsByYear).sort((a, b) => Number(b[0]) - Number(a[0])).map(([year, yearPosts]) => (\n            <div key={year} className=\"space-y-4\">\n              <h2 className=\"text-sm font-semibold text-muted-foreground tracking-wider uppercase pl-1\">{year}</h2>\n              <div className=\"space-y-1\">\n                {yearPosts.map((post) => (\n                  <Link key={post.id} href={`/article/${post.slug || post.id}`} className=\"block group\">\n                      <div className=\"flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-1 sm:gap-0 py-3 border-b border-border/40 group-hover:border-border transition-colors\">\n                        <span className=\"text-base font-medium text-primary group-hover:text-blue-600 transition-colors\">\n                          {post.title || \"Untitled\"}\n                        </span>\n                        <span className=\"text-sm text-muted-foreground tabular-nums sm:ml-4 font-mono flex-shrink-0\">\n                          {post.publishedAt ? format(new Date(post.publishedAt), \"MMM dd\") : \"\"}\n                        </span>\n                      </div>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":2643},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport tailwindcss from \"@tailwindcss/vite\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\nimport { metaImagesPlugin } from \"./vite-plugin-meta-images\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    tailwindcss(),\n    metaImagesPlugin(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  css: {\n    postcss: {\n      plugins: [],\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    host: \"0.0.0.0\",\n    allowedHosts: true,\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1330},"client/src/pages/home.tsx":{"content":"import { Link } from \"wouter\";\nimport { ArrowRight, Github, Linkedin, Mail, ExternalLink } from \"lucide-react\";\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\nimport { useContent } from \"@/lib/content-context\";\nimport { format } from \"date-fns\";\n\nexport default function Home() {\n  const { profile, projects, articles, isLoading } = useContent();\n\n  if (isLoading || !profile) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[50vh]\">\n        <div className=\"text-muted-foreground\">Loading...</div>\n      </div>\n    );\n  }\n\n  const featuredProjects = projects\n    .filter(p => p.status === \"Active\" && p.featured)\n    .slice(0, 4);\n\n  const recentPosts = articles\n    .filter(a => a.status === \"Published\")\n    .sort((a, b) => {\n      const dateA = a.publishedAt ? new Date(a.publishedAt).getTime() : 0;\n      const dateB = b.publishedAt ? new Date(b.publishedAt).getTime() : 0;\n      return dateB - dateA;\n    })\n    .slice(0, 3);\n\n\n  return (\n    <div className=\"space-y-12 animate-in fade-in-50 duration-500\">\n      <div className=\"flex flex-col-reverse md:flex-row md:items-center gap-8 md:gap-12\">\n        <div className=\"flex-1 space-y-8\">\n          {profile.avatarUrl && (\n            <div className=\"md:hidden flex justify-center\">\n              <Avatar className=\"h-24 w-24 border-2 border-border/40\">\n                <AvatarImage src={profile.avatarUrl} alt={profile.name} loading=\"lazy\" />\n                <AvatarFallback>{profile.name?.substring(0, 2).toUpperCase()}</AvatarFallback>\n              </Avatar>\n            </div>\n          )}\n          <div className=\"space-y-1.5\">\n            <h1 className=\"text-4xl md:text-5xl font-semibold tracking-tight text-primary\">\n              {profile.name}\n            </h1>\n            <p className=\"text-xl text-muted-foreground font-medium\">\n              {profile.title}\n            </p>\n          </div>\n          <div className=\"space-y-6 max-w-xl\">\n            <p className=\"text-lg text-muted-foreground leading-relaxed whitespace-pre-line\">\n              {profile.bio}\n            </p>\n          </div>\n          \n          <div className=\"flex items-center gap-2.5 pt-2\">\n            {profile.twitter && (profile.showTwitter ?? true) && (\n              <a \n                href={profile.twitter} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"group flex items-center justify-center h-9 w-9 rounded-lg border border-border bg-background hover:bg-black dark:hover:bg-white hover:border-black dark:hover:border-white transition-all duration-200 hover:scale-105 hover:shadow-md\"\n                data-testid=\"link-twitter\"\n              >\n                <svg className=\"h-3.5 w-3.5 text-foreground group-hover:text-white dark:group-hover:text-black transition-colors\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                  <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/>\n                </svg>\n              </a>\n            )}\n            {profile.linkedin && (profile.showLinkedin ?? true) && (\n              <a \n                href={profile.linkedin} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"group flex items-center justify-center h-9 w-9 rounded-lg border border-border bg-background hover:bg-[#0A66C2] hover:border-[#0A66C2] transition-all duration-200 hover:scale-105 hover:shadow-md\"\n                data-testid=\"link-linkedin\"\n              >\n                <Linkedin className=\"h-4 w-4 text-foreground group-hover:text-white transition-colors\" />\n              </a>\n            )}\n            {profile.github && (profile.showGithub ?? true) && (\n              <a \n                href={profile.github} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"group flex items-center justify-center h-9 w-9 rounded-lg border border-border bg-background hover:bg-[#24292e] dark:hover:bg-white hover:border-[#24292e] dark:hover:border-white transition-all duration-200 hover:scale-105 hover:shadow-md\"\n                data-testid=\"link-github\"\n              >\n                <Github className=\"h-4 w-4 text-foreground group-hover:text-white dark:group-hover:text-[#24292e] transition-colors\" />\n              </a>\n            )}\n            {profile.email && (profile.showEmail ?? true) && (\n              <a \n                href={`mailto:${profile.email}`}\n                className=\"group flex items-center justify-center h-9 w-9 rounded-lg border border-border bg-background hover:bg-primary hover:border-primary transition-all duration-200 hover:scale-105 hover:shadow-md\"\n                data-testid=\"link-email\"\n              >\n                <Mail className=\"h-4 w-4 text-foreground group-hover:text-primary-foreground transition-colors\" />\n              </a>\n            )}\n          </div>\n        </div>\n        {profile.avatarUrl && (\n          <div className=\"hidden md:block flex-shrink-0\">\n            <Avatar className=\"h-32 w-32 border-2 border-border/40\">\n              <AvatarImage src={profile.avatarUrl} alt={profile.name} loading=\"lazy\" />\n              <AvatarFallback>{profile.name?.substring(0, 2).toUpperCase()}</AvatarFallback>\n            </Avatar>\n          </div>\n        )}\n      </div>\n\n      {featuredProjects.length > 0 && (\n        <div className=\"space-y-6\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-lg font-semibold text-primary tracking-tight\">Selected Projects</h2>\n            <Link href=\"/projects\" className=\"text-sm text-muted-foreground hover:text-primary flex items-center gap-1 transition-colors px-2 py-1 -mr-2 rounded-md hover:bg-secondary/50\">\n              View all <ArrowRight className=\"h-3 w-3\" />\n            </Link>\n          </div>\n          \n          <div className=\"space-y-2\">\n            {featuredProjects.map((project) => (\n              <a \n                key={project.id} \n                href={project.link} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\"\n                className=\"block group\"\n              >\n                <div className=\"flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-1 sm:gap-0 py-3 border-b border-border/50 group-hover:border-border transition-colors\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"text-base font-medium text-primary group-hover:text-blue-600 transition-colors\">\n                      {project.title}\n                    </h3>\n                    <p className=\"text-sm text-muted-foreground mt-0.5 leading-relaxed\">\n                      {project.description}\n                    </p>\n                  </div>\n                  <ExternalLink className=\"h-3.5 w-3.5 text-muted-foreground/40 group-hover:text-muted-foreground transition-colors flex-shrink-0 mt-0.5 hidden sm:block\" />\n                </div>\n              </a>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {recentPosts.length > 0 && (\n        <div className=\"space-y-6\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-lg font-semibold text-primary tracking-tight\">Recent Writing</h2>\n            <Link href=\"/writing\" className=\"text-sm text-muted-foreground hover:text-primary flex items-center gap-1 transition-colors px-2 py-1 -mr-2 rounded-md hover:bg-secondary/50\">\n              Read more <ArrowRight className=\"h-3 w-3\" />\n            </Link>\n          </div>\n\n          <div className=\"space-y-2\">\n            {recentPosts.map((post) => (\n              <Link key={post.id} href={`/article/${post.slug || post.id}`} className=\"block group\">\n                <div className=\"flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-1 sm:gap-0 py-3 border-b border-border/50 group-hover:border-border transition-colors\">\n                  <span className=\"text-base font-medium text-primary group-hover:text-blue-600 transition-colors\">\n                    {post.title || \"Untitled\"}\n                  </span>\n                  <span className=\"text-sm text-muted-foreground tabular-nums font-mono flex-shrink-0\">\n                    {post.publishedAt ? format(new Date(post.publishedAt), \"MMM yyyy\") : \"Draft\"}\n                  </span>\n                </div>\n              </Link>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","size_bytes":8562},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1037},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}\n","size_bytes":116},"client/src/hooks/useAuth.ts":{"content":"import { useQuery } from \"@tanstack/react-query\";\n\ninterface User {\n  id: string;\n  email: string;\n  firstName?: string;\n  lastName?: string;\n  profileImageUrl?: string;\n}\n\nexport function useAuth() {\n  const { data: user, isLoading } = useQuery<User>({\n    queryKey: [\"/api/auth/user\"],\n    retry: false,\n  });\n\n  return {\n    user,\n    isLoading,\n    isAuthenticated: !!user,\n  };\n}\n","size_bytes":385},"client/src/components/ui/empty.tsx":{"content":"import { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Empty({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty\"\n      className={cn(\n        \"flex min-w-0 flex-1 flex-col items-center justify-center gap-6 text-balance rounded-lg border-dashed p-6 text-center md:p-12\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-header\"\n      className={cn(\n        \"flex max-w-sm flex-col items-center gap-2 text-center\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst emptyMediaVariants = cva(\n  \"mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction EmptyMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof emptyMediaVariants>) {\n  return (\n    <div\n      data-slot=\"empty-icon\"\n      data-variant={variant}\n      className={cn(emptyMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-title\"\n      className={cn(\"text-lg font-medium tracking-tight\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <div\n      data-slot=\"empty-description\"\n      className={cn(\n        \"text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-content\"\n      className={cn(\n        \"flex w-full min-w-0 max-w-sm flex-col items-center gap-4 text-balance text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Empty,\n  EmptyHeader,\n  EmptyTitle,\n  EmptyDescription,\n  EmptyContent,\n  EmptyMedia,\n}\n","size_bytes":2396},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1877},"client/src/components/ui/command.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4887},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n/**\n * Formats a date string to \"Month Year\" format (e.g., \"Sep 2020\")\n * Handles various input formats: \"YYYY-MM-DD\", \"YYYY-MM\", \"YYYY\", or \"Present\"\n */\nexport function formatMonthYear(dateString: string): string {\n  if (!dateString) return '';\n  if (dateString.toLowerCase() === 'present') return 'Present';\n  \n  // Try to extract year and month\n  const yearMatch = dateString.match(/^(\\d{4})(?:-(\\d{2}))?/);\n  if (!yearMatch) return dateString; // Return as-is if can't parse\n  \n  const year = yearMatch[1];\n  const month = yearMatch[2] || '01'; // Default to January\n  \n  const date = new Date(`${year}-${month}-01`);\n  if (isNaN(date.getTime())) return dateString; // Return as-is if invalid\n  \n  const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n  return `${monthNames[date.getMonth()]} ${year}`;\n}\n\n/**\n * Formats a date range for work experience display\n */\nexport function formatDateRange(startDate: string, endDate: string): string {\n  const start = formatMonthYear(startDate);\n  const end = formatMonthYear(endDate);\n  \n  if (!start && !end) return '';\n  if (!start) return end || '';\n  if (!end) return start;\n  if (start === end) return start;\n  \n  return `${start} - ${end}`;\n}\n\n/**\n * Extracts year from a date string (e.g., \"2020-09\" -> \"2020\")\n */\nfunction formatYear(dateString: string): string {\n  if (!dateString) return '';\n  if (dateString.toLowerCase() === 'present') return 'Present';\n  \n  const yearMatch = dateString.match(/^(\\d{4})/);\n  return yearMatch ? yearMatch[1] : dateString;\n}\n\n/**\n * Formats a date range showing only years (e.g., \"2020 - 2023\" or \"2022 - Present\")\n */\nexport function formatYearRange(startDate: string, endDate: string): string {\n  const start = formatYear(startDate);\n  const end = formatYear(endDate);\n  \n  if (!start && !end) return '';\n  if (!start) return end || '';\n  if (!end) return start;\n  if (start === end) return start;\n  \n  return `${start} - ${end}`;\n}\n","size_bytes":2145},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1828},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2859},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n\" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n           // @replit: no hover, and add primary border\n           \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm border-destructive-border\",\n        outline:\n          // @replit Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color. Uses shadow-xs. no shadow on active\n          // No hover state\n          \" border [border-color:var(--button-outline)] shadow-xs active:shadow-none \",\n        secondary:\n          // @replit border, no hover, no shadow, secondary border.\n          \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // @replit no hover, transparent border\n        ghost: \"border border-transparent\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        // @replit changed sizes\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2356},"client/src/components/theme-toggle.tsx":{"content":"import { Moon, Sun } from \"lucide-react\";\nimport { useTheme } from \"next-themes\";\nimport { Button } from \"@/components/ui/button\";\n\nexport function ThemeToggle() {\n  const { theme, setTheme } = useTheme();\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={() => setTheme(theme === \"light\" ? \"dark\" : \"light\")}\n      className=\"rounded-full w-9 h-9 text-muted-foreground hover:text-foreground\"\n      data-testid=\"button-theme-toggle\"\n    >\n      <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n      <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n      <span className=\"sr-only\">Toggle theme</span>\n    </Button>\n  );\n}\n","size_bytes":772},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1267},"client/src/pages/work.tsx":{"content":"import { useContent } from \"@/lib/content-context\";\nimport { formatYearRange } from \"@/lib/utils\";\n\nexport default function Work() {\n  const { workHistory, profile, isLoading } = useContent();\n\n  if (isLoading || !profile) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[50vh]\">\n        <div className=\"text-muted-foreground\">Loading...</div>\n      </div>\n    );\n  }\n\n  const sortedWorkHistory = [...workHistory].sort((a, b) => {\n    const getEndDateForSort = (endDate: string) => {\n      if (!endDate || endDate.toLowerCase() === 'present') return new Date();\n      const date = new Date(endDate);\n      return isNaN(date.getTime()) ? new Date(0) : date;\n    };\n    \n    const endDateA = getEndDateForSort(a.endDate);\n    const endDateB = getEndDateForSort(b.endDate);\n    return endDateB.getTime() - endDateA.getTime();\n  });\n\n  return (\n    <div className=\"space-y-12\">\n      <div className=\"space-y-4\">\n        <h1 className=\"text-3xl font-bold tracking-tight\">Work</h1>\n        <p className=\"text-muted-foreground text-lg\">\n          My career journey and the teams I've been lucky to work with.\n        </p>\n      </div>\n\n      <div className=\"space-y-8 md:space-y-12\">\n        {sortedWorkHistory.length === 0 ? (\n          <p className=\"text-muted-foreground text-center py-12\">\n            No work experience added yet.\n          </p>\n        ) : (\n          sortedWorkHistory.map((item) => (\n            <div key={item.id} className=\"grid sm:grid-cols-[180px_minmax(0,1fr)] gap-4 sm:gap-x-4 items-start sm:items-baseline\" data-testid={`work-${item.id}`}>\n              <div className=\"text-sm text-muted-foreground/70 font-mono uppercase tracking-wider whitespace-nowrap\">\n                {formatYearRange(item.startDate, item.endDate)}\n              </div>\n              <div className=\"flex flex-col gap-3 sm:self-baseline\">\n                <div className=\"flex flex-wrap items-baseline gap-x-3 gap-y-1\">\n                  <h3 className=\"text-lg md:text-xl font-medium text-primary tracking-tight\">\n                    {item.company}\n                  </h3>\n                  <span className=\"text-muted-foreground/40\">·</span>\n                  <div className=\"text-sm text-muted-foreground\">\n                    {item.role}\n                  </div>\n                </div>\n                <p className=\"text-muted-foreground leading-7 text-[15px] whitespace-pre-line\">\n                  {item.description}\n                </p>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n      \n      {profile.email && profile.showEmail && (\n        <div className=\"pt-8 border-t\">\n          <h2 className=\"text-lg font-semibold mb-4\">Contact</h2>\n          <p className=\"text-muted-foreground mb-4\">\n            I'm occasionally open to consulting work or speaking engagements.\n          </p>\n          <a href={`mailto:${profile.email}`} className=\"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2\" data-testid=\"button-contact\">\n            Get in touch\n          </a>\n        </div>\n      )}\n    </div>\n  );\n}\n","size_bytes":3353},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"grid place-content-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1031},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { setupAuth, isAuthenticated, isAdmin } from \"./auth\";\nimport passport from \"passport\";\nimport { ObjectStorageService, ObjectNotFoundError } from \"./objectStorage\";\nimport { ObjectPermission, setObjectAclPolicy } from \"./objectAcl\";\nimport { \n  insertProfileSchema,\n  insertArticleSchema,\n  insertProjectSchema,\n  insertWorkExperienceSchema,\n  insertReadingListSchema,\n  insertSeoSettingsSchema\n} from \"@shared/schema\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Auth middleware\n  await setupAuth(app);\n\n  // Auth routes\n  app.post('/api/auth/login', (req, res, next) => {\n    passport.authenticate('local', (err: any, user: any, info: any) => {\n      if (err) {\n        return res.status(500).json({ message: \"Internal server error\" });\n      }\n      if (!user) {\n        return res.status(401).json({ message: info?.message || \"Invalid credentials\" });\n      }\n      req.logIn(user, (err) => {\n        if (err) {\n          return res.status(500).json({ message: \"Failed to log in\" });\n        }\n        return res.json({ \n          id: user.id,\n          email: user.email,\n          firstName: user.firstName,\n          lastName: user.lastName\n        });\n      });\n    })(req, res, next);\n  });\n\n  app.post('/api/auth/logout', (req, res) => {\n    req.logout((err) => {\n      if (err) {\n        return res.status(500).json({ message: \"Failed to log out\" });\n      }\n      res.json({ message: \"Logged out successfully\" });\n    });\n  });\n\n  app.get('/api/auth/user', isAuthenticated, async (req: any, res) => {\n    try {\n      res.json({\n        id: req.user.id,\n        email: req.user.email,\n        firstName: req.user.firstName,\n        lastName: req.user.lastName\n      });\n    } catch (error) {\n      console.error(\"Error fetching user:\", error);\n      res.status(500).json({ message: \"Failed to fetch user\" });\n    }\n  });\n\n  // Object Storage routes (Reference: blueprint:javascript_object_storage)\n  // Endpoint for getting upload URL (admin only)\n  app.post('/api/objects/upload', isAdmin, async (req, res) => {\n    try {\n      const objectStorageService = new ObjectStorageService();\n      const { uploadURL, objectPath } = await objectStorageService.getObjectEntityUploadURL();\n      res.json({ uploadURL, objectPath });\n    } catch (error) {\n      console.error(\"Error getting upload URL:\", error);\n      res.status(500).json({ message: \"Failed to get upload URL\" });\n    }\n  });\n\n  // Endpoint for setting ACL policy after image upload (admin only)\n  app.put('/api/article-images', isAdmin, async (req: any, res) => {\n    if (!req.body.imageURL) {\n      return res.status(400).json({ error: \"imageURL is required\" });\n    }\n\n    const userId = req.user?.id;\n    if (!userId) {\n      return res.status(401).json({ error: \"Unauthorized\" });\n    }\n\n    try {\n      const objectStorageService = new ObjectStorageService();\n      const objectPath = await objectStorageService.trySetObjectEntityAclPolicy(\n        req.body.imageURL,\n        {\n          owner: userId,\n          visibility: \"public\", // Article images are publicly accessible\n        },\n      );\n\n      res.status(200).json({\n        objectPath: objectPath,\n      });\n    } catch (error) {\n      console.error(\"Error setting article image ACL:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Endpoint for serving uploaded objects (public read for objects with public ACL)\n  app.get('/objects/:objectPath(*)', async (req, res) => {\n    const objectStorageService = new ObjectStorageService();\n    try {\n      const objectFile = await objectStorageService.getObjectEntityFile(\n        req.path,\n      );\n      \n      // Check ACL using canAccessObjectEntity which handles both public and private objects\n      // For public objects with READ permission, it returns true even without userId\n      const canAccess = await objectStorageService.canAccessObjectEntity({\n        objectFile,\n        requestedPermission: ObjectPermission.READ,\n      });\n      \n      if (!canAccess) {\n        return res.sendStatus(401);\n      }\n      \n      objectStorageService.downloadObject(objectFile, res);\n    } catch (error) {\n      console.error(\"Error checking object access:\", error);\n      if (error instanceof ObjectNotFoundError) {\n        return res.sendStatus(404);\n      }\n      return res.sendStatus(500);\n    }\n  });\n\n  // Profile routes\n  app.get('/api/profile', async (req, res) => {\n    try {\n      const profile = await storage.getProfile();\n      res.json(profile);\n    } catch (error) {\n      console.error(\"Error fetching profile:\", error);\n      res.status(500).json({ message: \"Failed to fetch profile\" });\n    }\n  });\n\n  app.put('/api/profile', isAdmin, async (req, res) => {\n    try {\n      const validated = insertProfileSchema.partial().parse(req.body);\n      const profile = await storage.updateProfile(validated);\n      res.json(profile);\n    } catch (error) {\n      console.error(\"Error updating profile:\", error);\n      res.status(400).json({ message: \"Failed to update profile\" });\n    }\n  });\n\n  app.put('/api/profile/avatar', isAdmin, async (req: any, res) => {\n    try {\n      if (!req.body.objectPath) {\n        return res.status(400).json({ error: \"objectPath is required\" });\n      }\n\n      const objectPath = req.body.objectPath;\n      \n      if (!objectPath.startsWith('/objects/')) {\n        return res.status(400).json({ error: \"Invalid object path format\" });\n      }\n\n      const objectStorageService = new ObjectStorageService();\n      \n      // Get the object file and verify it exists\n      const objectFile = await objectStorageService.getObjectEntityFile(objectPath);\n      \n      // Set ACL policy to make it publicly readable\n      const userId = req.user?.id || \"admin\";\n      await setObjectAclPolicy(objectFile, {\n        owner: userId,\n        visibility: \"public\",\n      });\n\n      // Update profile with the object path\n      const profile = await storage.updateProfile({ avatarUrl: objectPath });\n      res.json({ avatarUrl: profile.avatarUrl });\n    } catch (error) {\n      console.error(\"Error setting avatar:\", error);\n      if (error instanceof ObjectNotFoundError) {\n        return res.status(404).json({ error: \"Uploaded file not found\" });\n      }\n      res.status(500).json({ error: \"Failed to update avatar\" });\n    }\n  });\n\n  app.delete('/api/profile/avatar', isAdmin, async (req, res) => {\n    try {\n      const profile = await storage.updateProfile({ avatarUrl: null });\n      res.json({ success: true });\n    } catch (error) {\n      console.error(\"Error deleting avatar:\", error);\n      res.status(500).json({ error: \"Failed to delete avatar\" });\n    }\n  });\n\n  // SEO Settings routes\n  app.get('/api/seo-settings', async (req, res) => {\n    try {\n      const settings = await storage.getSeoSettings();\n      res.json(settings);\n    } catch (error) {\n      console.error(\"Error fetching SEO settings:\", error);\n      res.status(500).json({ message: \"Failed to fetch SEO settings\" });\n    }\n  });\n\n  app.put('/api/seo-settings', isAdmin, async (req, res) => {\n    try {\n      const validated = insertSeoSettingsSchema.partial().parse(req.body);\n      const settings = await storage.updateSeoSettings(validated);\n      res.json(settings);\n    } catch (error) {\n      console.error(\"Error updating SEO settings:\", error);\n      res.status(400).json({ message: \"Failed to update SEO settings\" });\n    }\n  });\n\n  // Article routes\n  app.get('/api/articles', async (req, res) => {\n    try {\n      const articles = await storage.getArticles();\n      res.json(articles);\n    } catch (error) {\n      console.error(\"Error fetching articles:\", error);\n      res.status(500).json({ message: \"Failed to fetch articles\" });\n    }\n  });\n\n  app.get('/api/articles/:id', async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const article = await storage.getArticle(id);\n      if (!article) {\n        return res.status(404).json({ message: \"Article not found\" });\n      }\n      res.json(article);\n    } catch (error) {\n      console.error(\"Error fetching article:\", error);\n      res.status(500).json({ message: \"Failed to fetch article\" });\n    }\n  });\n\n  app.get('/api/articles/slug/:slug', async (req, res) => {\n    try {\n      const article = await storage.getArticleBySlug(req.params.slug);\n      if (!article) {\n        return res.status(404).json({ message: \"Article not found\" });\n      }\n      res.json(article);\n    } catch (error) {\n      console.error(\"Error fetching article:\", error);\n      res.status(500).json({ message: \"Failed to fetch article\" });\n    }\n  });\n\n  app.post('/api/articles', isAdmin, async (req, res) => {\n    try {\n      // Allow partial data for draft creation (slug can be undefined/null)\n      const validated = insertArticleSchema.parse(req.body);\n      const article = await storage.createArticle(validated);\n      res.status(201).json(article);\n    } catch (error) {\n      console.error(\"Error creating article:\", error);\n      res.status(400).json({ message: \"Failed to create article\" });\n    }\n  });\n\n  app.put('/api/articles/:id', isAdmin, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const validated = insertArticleSchema.partial().parse(req.body);\n      const article = await storage.updateArticle(id, validated);\n      res.json(article);\n    } catch (error) {\n      console.error(\"Error updating article:\", error);\n      res.status(400).json({ message: \"Failed to update article\" });\n    }\n  });\n\n  app.delete('/api/articles/:id', isAdmin, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      await storage.deleteArticle(id);\n      res.status(204).send();\n    } catch (error) {\n      console.error(\"Error deleting article:\", error);\n      res.status(500).json({ message: \"Failed to delete article\" });\n    }\n  });\n\n  // Project routes\n  app.get('/api/projects', async (req, res) => {\n    try {\n      const projects = await storage.getProjects();\n      res.json(projects);\n    } catch (error) {\n      console.error(\"Error fetching projects:\", error);\n      res.status(500).json({ message: \"Failed to fetch projects\" });\n    }\n  });\n\n  app.get('/api/projects/:id', async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const project = await storage.getProject(id);\n      if (!project) {\n        return res.status(404).json({ message: \"Project not found\" });\n      }\n      res.json(project);\n    } catch (error) {\n      console.error(\"Error fetching project:\", error);\n      res.status(500).json({ message: \"Failed to fetch project\" });\n    }\n  });\n\n  app.post('/api/projects', isAdmin, async (req, res) => {\n    try {\n      const validated = insertProjectSchema.parse(req.body);\n      const project = await storage.createProject(validated);\n      res.status(201).json(project);\n    } catch (error) {\n      console.error(\"Error creating project:\", error);\n      res.status(400).json({ message: \"Failed to create project\" });\n    }\n  });\n\n  app.put('/api/projects/:id', isAdmin, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const validated = insertProjectSchema.partial().parse(req.body);\n      const project = await storage.updateProject(id, validated);\n      res.json(project);\n    } catch (error) {\n      console.error(\"Error updating project:\", error);\n      res.status(400).json({ message: \"Failed to update project\" });\n    }\n  });\n\n  app.delete('/api/projects/:id', isAdmin, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      await storage.deleteProject(id);\n      res.status(204).send();\n    } catch (error) {\n      console.error(\"Error deleting project:\", error);\n      res.status(500).json({ message: \"Failed to delete project\" });\n    }\n  });\n\n  // Work Experience routes\n  app.get('/api/work-experiences', async (req, res) => {\n    try {\n      const workExperiences = await storage.getWorkExperiences();\n      res.json(workExperiences);\n    } catch (error) {\n      console.error(\"Error fetching work experiences:\", error);\n      res.status(500).json({ message: \"Failed to fetch work experiences\" });\n    }\n  });\n\n  app.get('/api/work-experiences/:id', async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const work = await storage.getWorkExperience(id);\n      if (!work) {\n        return res.status(404).json({ message: \"Work experience not found\" });\n      }\n      res.json(work);\n    } catch (error) {\n      console.error(\"Error fetching work experience:\", error);\n      res.status(500).json({ message: \"Failed to fetch work experience\" });\n    }\n  });\n\n  app.post('/api/work-experiences', isAdmin, async (req, res) => {\n    try {\n      const validated = insertWorkExperienceSchema.parse(req.body);\n      const work = await storage.createWorkExperience(validated);\n      res.status(201).json(work);\n    } catch (error) {\n      console.error(\"Error creating work experience:\", error);\n      res.status(400).json({ message: \"Failed to create work experience\" });\n    }\n  });\n\n  app.put('/api/work-experiences/:id', isAdmin, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const validated = insertWorkExperienceSchema.partial().parse(req.body);\n      const work = await storage.updateWorkExperience(id, validated);\n      res.json(work);\n    } catch (error) {\n      console.error(\"Error updating work experience:\", error);\n      res.status(400).json({ message: \"Failed to update work experience\" });\n    }\n  });\n\n  app.delete('/api/work-experiences/:id', isAdmin, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      await storage.deleteWorkExperience(id);\n      res.status(204).send();\n    } catch (error) {\n      console.error(\"Error deleting work experience:\", error);\n      res.status(500).json({ message: \"Failed to delete work experience\" });\n    }\n  });\n\n  // Reading List routes\n  app.get('/api/reading-list', async (req, res) => {\n    try {\n      const items = await storage.getReadingList();\n      res.json(items);\n    } catch (error) {\n      console.error(\"Error fetching reading list:\", error);\n      res.status(500).json({ message: \"Failed to fetch reading list\" });\n    }\n  });\n\n  app.get('/api/reading-list/:id', async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const item = await storage.getReadingListItem(id);\n      if (!item) {\n        return res.status(404).json({ message: \"Reading list item not found\" });\n      }\n      res.json(item);\n    } catch (error) {\n      console.error(\"Error fetching reading list item:\", error);\n      res.status(500).json({ message: \"Failed to fetch reading list item\" });\n    }\n  });\n\n  app.post('/api/reading-list', isAdmin, async (req, res) => {\n    try {\n      const validated = insertReadingListSchema.parse(req.body);\n      const item = await storage.createReadingListItem(validated);\n      res.status(201).json(item);\n    } catch (error) {\n      console.error(\"Error creating reading list item:\", error);\n      res.status(400).json({ message: \"Failed to create reading list item\" });\n    }\n  });\n\n  app.put('/api/reading-list/:id', isAdmin, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const validated = insertReadingListSchema.partial().parse(req.body);\n      const item = await storage.updateReadingListItem(id, validated);\n      res.json(item);\n    } catch (error) {\n      console.error(\"Error updating reading list item:\", error);\n      res.status(400).json({ message: \"Failed to update reading list item\" });\n    }\n  });\n\n  app.delete('/api/reading-list/:id', isAdmin, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      await storage.deleteReadingListItem(id);\n      res.status(204).send();\n    } catch (error) {\n      console.error(\"Error deleting reading list item:\", error);\n      res.status(500).json({ message: \"Failed to delete reading list item\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":16127},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      refetchOnReconnect: false,\n      staleTime: 5 * 60 * 1000, // 5 minutes - data is fresh for 5 min, prevents unnecessary refetches\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1492},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"shared/schema.ts":{"content":"import { sql } from 'drizzle-orm';\nimport { relations } from 'drizzle-orm';\nimport {\n  index,\n  jsonb,\n  pgTable,\n  timestamp,\n  varchar,\n  text,\n  boolean,\n  serial,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Session storage table for authentication\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// User storage table for email/password authentication\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique().notNull(),\n  password: varchar(\"password\", { length: 255 }),\n  firstName: varchar(\"first_name\"),\n  lastName: varchar(\"last_name\"),\n  profileImageUrl: varchar(\"profile_image_url\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport type UpsertUser = typeof users.$inferInsert;\nexport type User = typeof users.$inferSelect;\n\n// Profile table for website owner information\nexport const profiles = pgTable(\"profiles\", {\n  id: serial(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  title: text(\"title\").notNull(),\n  bio: text(\"bio\").notNull(),\n  location: varchar(\"location\", { length: 255 }),\n  email: varchar(\"email\", { length: 255 }),\n  twitter: varchar(\"twitter\", { length: 255 }),\n  linkedin: varchar(\"linkedin\", { length: 255 }),\n  github: varchar(\"github\", { length: 255 }),\n  website: varchar(\"website\", { length: 255 }),\n  avatarUrl: text(\"avatar_url\"),\n  showTwitter: boolean(\"show_twitter\").default(true),\n  showLinkedin: boolean(\"show_linkedin\").default(true),\n  showGithub: boolean(\"show_github\").default(true),\n  showEmail: boolean(\"show_email\").default(true),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertProfileSchema = createInsertSchema(profiles).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertProfile = z.infer<typeof insertProfileSchema>;\nexport type Profile = typeof profiles.$inferSelect;\n\n// SEO Settings table for website-wide metadata\nexport const seoSettings = pgTable(\"seo_settings\", {\n  id: serial(\"id\").primaryKey(),\n  siteTitle: varchar(\"site_title\", { length: 255 }).notNull().default(\"Portfolio\"),\n  siteDescription: text(\"site_description\").notNull().default(\"Welcome to my portfolio\"),\n  siteKeywords: text(\"site_keywords\"),\n  ogTitle: varchar(\"og_title\", { length: 255 }),\n  ogDescription: text(\"og_description\"),\n  ogImage: text(\"og_image\"),\n  twitterCard: varchar(\"twitter_card\", { length: 50 }).default(\"summary_large_image\"),\n  twitterSite: varchar(\"twitter_site\", { length: 255 }),\n  twitterCreator: varchar(\"twitter_creator\", { length: 255 }),\n  faviconUrl: text(\"favicon_url\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertSeoSettingsSchema = createInsertSchema(seoSettings).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertSeoSettings = z.infer<typeof insertSeoSettingsSchema>;\nexport type SeoSettings = typeof seoSettings.$inferSelect;\n\n// Articles table\nexport const articles = pgTable(\"articles\", {\n  id: serial(\"id\").primaryKey(),\n  title: varchar(\"title\", { length: 500 }).notNull(),\n  slug: varchar(\"slug\", { length: 500 }),\n  content: text(\"content\").notNull(),\n  excerpt: text(\"excerpt\"),\n  tags: text(\"tags\"),\n  seoKeywords: text(\"seo_keywords\"),\n  author: varchar(\"author\", { length: 255 }).notNull(),\n  status: varchar(\"status\", { length: 50 }).notNull().default(\"Draft\"),\n  views: varchar(\"views\", { length: 50 }).notNull().default(\"0\"),\n  publishedAt: timestamp(\"published_at\"),\n  firstPublishedAt: timestamp(\"first_published_at\"),\n  lastPublishedAt: timestamp(\"last_published_at\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertArticleSchema = createInsertSchema(articles, {\n  slug: z.string().nullable().optional(),\n  publishedAt: z.union([z.date(), z.string().datetime().transform(val => new Date(val)), z.string().transform(val => new Date(val))]).nullable().optional(),\n  firstPublishedAt: z.union([z.date(), z.string().datetime().transform(val => new Date(val)), z.string().transform(val => new Date(val))]).nullable().optional(),\n  lastPublishedAt: z.union([z.date(), z.string().datetime().transform(val => new Date(val)), z.string().transform(val => new Date(val))]).nullable().optional(),\n}).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertArticle = z.infer<typeof insertArticleSchema>;\nexport type Article = typeof articles.$inferSelect;\n\n// Projects table\nexport const projects = pgTable(\"projects\", {\n  id: serial(\"id\").primaryKey(),\n  title: varchar(\"title\", { length: 500 }).notNull(),\n  description: text(\"description\").notNull(),\n  link: varchar(\"link\", { length: 500 }),\n  tags: text(\"tags\"),\n  status: varchar(\"status\", { length: 50 }).notNull().default(\"Active\"),\n  featured: boolean(\"featured\").notNull().default(false),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertProjectSchema = createInsertSchema(projects).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertProject = z.infer<typeof insertProjectSchema>;\nexport type Project = typeof projects.$inferSelect;\n\n// Work Experience table\nexport const workExperiences = pgTable(\"work_experiences\", {\n  id: serial(\"id\").primaryKey(),\n  company: varchar(\"company\", { length: 255 }).notNull(),\n  role: varchar(\"role\", { length: 255 }).notNull(),\n  startDate: varchar(\"start_date\", { length: 50 }).notNull(),\n  endDate: varchar(\"end_date\", { length: 50 }).notNull(),\n  description: text(\"description\").notNull(),\n  logo: text(\"logo\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertWorkExperienceSchema = createInsertSchema(workExperiences).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertWorkExperience = z.infer<typeof insertWorkExperienceSchema>;\nexport type WorkExperience = typeof workExperiences.$inferSelect;\n\n// Reading List table\nexport const readingList = pgTable(\"reading_list\", {\n  id: serial(\"id\").primaryKey(),\n  title: varchar(\"title\", { length: 500 }).notNull(),\n  author: varchar(\"author\", { length: 255 }).notNull(),\n  link: varchar(\"link\", { length: 500 }),\n  description: text(\"description\"),\n  category: varchar(\"category\", { length: 100 }),\n  status: varchar(\"status\", { length: 50 }).notNull().default(\"To Read\"),\n  rating: varchar(\"rating\", { length: 10 }),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport const insertReadingListSchema = createInsertSchema(readingList).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport type InsertReadingList = z.infer<typeof insertReadingListSchema>;\nexport type ReadingListItem = typeof readingList.$inferSelect;\n","size_bytes":7272},"server/objectAcl.ts":{"content":"// Reference: blueprint:javascript_object_storage\nimport { File } from \"@google-cloud/storage\";\n\nconst ACL_POLICY_METADATA_KEY = \"custom:aclPolicy\";\n\n// The type of the access group.\nexport enum ObjectAccessGroupType {}\n\n// The logic user group that can access the object.\nexport interface ObjectAccessGroup {\n  type: ObjectAccessGroupType;\n  id: string;\n}\n\nexport enum ObjectPermission {\n  READ = \"read\",\n  WRITE = \"write\",\n}\n\nexport interface ObjectAclRule {\n  group: ObjectAccessGroup;\n  permission: ObjectPermission;\n}\n\n// The ACL policy of the object.\nexport interface ObjectAclPolicy {\n  owner: string;\n  visibility: \"public\" | \"private\";\n  aclRules?: Array<ObjectAclRule>;\n}\n\n// Check if the requested permission is allowed based on the granted permission.\nfunction isPermissionAllowed(\n  requested: ObjectPermission,\n  granted: ObjectPermission,\n): boolean {\n  // Users granted with read or write permissions can read the object.\n  if (requested === ObjectPermission.READ) {\n    return [ObjectPermission.READ, ObjectPermission.WRITE].includes(granted);\n  }\n\n  // Only users granted with write permissions can write the object.\n  return granted === ObjectPermission.WRITE;\n}\n\n// The base class for all access groups.\nabstract class BaseObjectAccessGroup implements ObjectAccessGroup {\n  constructor(\n    public readonly type: ObjectAccessGroupType,\n    public readonly id: string,\n  ) {}\n\n  // Check if the user is a member of the group.\n  public abstract hasMember(userId: string): Promise<boolean>;\n}\n\nfunction createObjectAccessGroup(\n  group: ObjectAccessGroup,\n): BaseObjectAccessGroup {\n  switch (group.type) {\n    default:\n      throw new Error(`Unknown access group type: ${group.type}`);\n  }\n}\n\n// Sets the ACL policy to the object metadata.\nexport async function setObjectAclPolicy(\n  objectFile: File,\n  aclPolicy: ObjectAclPolicy,\n): Promise<void> {\n  const [exists] = await objectFile.exists();\n  if (!exists) {\n    throw new Error(`Object not found: ${objectFile.name}`);\n  }\n\n  await objectFile.setMetadata({\n    metadata: {\n      [ACL_POLICY_METADATA_KEY]: JSON.stringify(aclPolicy),\n    },\n  });\n}\n\n// Gets the ACL policy from the object metadata.\nexport async function getObjectAclPolicy(\n  objectFile: File,\n): Promise<ObjectAclPolicy | null> {\n  const [metadata] = await objectFile.getMetadata();\n  const aclPolicy = metadata?.metadata?.[ACL_POLICY_METADATA_KEY];\n  if (!aclPolicy) {\n    return null;\n  }\n  return JSON.parse(aclPolicy as string);\n}\n\n// Checks if the user can access the object.\nexport async function canAccessObject({\n  userId,\n  objectFile,\n  requestedPermission,\n}: {\n  userId?: string;\n  objectFile: File;\n  requestedPermission: ObjectPermission;\n}): Promise<boolean> {\n  // When this function is called, the acl policy is required.\n  const aclPolicy = await getObjectAclPolicy(objectFile);\n  if (!aclPolicy) {\n    return false;\n  }\n\n  // Public objects are always accessible for read.\n  if (\n    aclPolicy.visibility === \"public\" &&\n    requestedPermission === ObjectPermission.READ\n  ) {\n    return true;\n  }\n\n  // Access control requires the user id.\n  if (!userId) {\n    return false;\n  }\n\n  // The owner of the object can always access it.\n  if (aclPolicy.owner === userId) {\n    return true;\n  }\n\n  // Go through the ACL rules to check if the user has the required permission.\n  for (const rule of aclPolicy.aclRules || []) {\n    const accessGroup = createObjectAccessGroup(rule.group);\n    if (\n      (await accessGroup.hasMember(userId)) &&\n      isPermissionAllowed(requestedPermission, rule.permission)\n    ) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","size_bytes":3616},"server/objectStorage.ts":{"content":"// Reference: blueprint:javascript_object_storage\nimport { Storage, File } from \"@google-cloud/storage\";\nimport { Response } from \"express\";\nimport { randomUUID } from \"crypto\";\nimport {\n  ObjectAclPolicy,\n  ObjectPermission,\n  canAccessObject,\n  getObjectAclPolicy,\n  setObjectAclPolicy,\n} from \"./objectAcl\";\n\nconst REPLIT_SIDECAR_ENDPOINT = \"http://127.0.0.1:1106\";\n\n// The object storage client is used to interact with the object storage service.\nexport const objectStorageClient = new Storage({\n  credentials: {\n    audience: \"replit\",\n    subject_token_type: \"access_token\",\n    token_url: `${REPLIT_SIDECAR_ENDPOINT}/token`,\n    type: \"external_account\",\n    credential_source: {\n      url: `${REPLIT_SIDECAR_ENDPOINT}/credential`,\n      format: {\n        type: \"json\",\n        subject_token_field_name: \"access_token\",\n      },\n    },\n    universe_domain: \"googleapis.com\",\n  },\n  projectId: \"\",\n});\n\nexport class ObjectNotFoundError extends Error {\n  constructor() {\n    super(\"Object not found\");\n    this.name = \"ObjectNotFoundError\";\n    Object.setPrototypeOf(this, ObjectNotFoundError.prototype);\n  }\n}\n\n// The object storage service is used to interact with the object storage service.\nexport class ObjectStorageService {\n  constructor() {}\n\n  // Gets the public object search paths.\n  getPublicObjectSearchPaths(): Array<string> {\n    const pathsStr = process.env.PUBLIC_OBJECT_SEARCH_PATHS || \"\";\n    const paths = Array.from(\n      new Set(\n        pathsStr\n          .split(\",\")\n          .map((path) => path.trim())\n          .filter((path) => path.length > 0)\n      )\n    );\n    if (paths.length === 0) {\n      throw new Error(\n        \"PUBLIC_OBJECT_SEARCH_PATHS not set. Create a bucket in 'Object Storage' \" +\n          \"tool and set PUBLIC_OBJECT_SEARCH_PATHS env var (comma-separated paths).\"\n      );\n    }\n    return paths;\n  }\n\n  // Gets the private object directory.\n  getPrivateObjectDir(): string {\n    const dir = process.env.PRIVATE_OBJECT_DIR || \"\";\n    if (!dir) {\n      throw new Error(\n        \"PRIVATE_OBJECT_DIR not set. Create a bucket in 'Object Storage' \" +\n          \"tool and set PRIVATE_OBJECT_DIR env var.\"\n      );\n    }\n    return dir;\n  }\n\n  // Search for a public object from the search paths.\n  async searchPublicObject(filePath: string): Promise<File | null> {\n    for (const searchPath of this.getPublicObjectSearchPaths()) {\n      const fullPath = `${searchPath}/${filePath}`;\n\n      // Full path format: /<bucket_name>/<object_name>\n      const { bucketName, objectName } = parseObjectPath(fullPath);\n      const bucket = objectStorageClient.bucket(bucketName);\n      const file = bucket.file(objectName);\n\n      // Check if file exists\n      const [exists] = await file.exists();\n      if (exists) {\n        return file;\n      }\n    }\n\n    return null;\n  }\n\n  // Downloads an object to the response.\n  async downloadObject(file: File, res: Response, cacheTtlSec: number = 3600) {\n    try {\n      // Get file metadata\n      const [metadata] = await file.getMetadata();\n      // Get the ACL policy for the object.\n      const aclPolicy = await getObjectAclPolicy(file);\n      const isPublic = aclPolicy?.visibility === \"public\";\n      // Set appropriate headers\n      res.set({\n        \"Content-Type\": metadata.contentType || \"application/octet-stream\",\n        \"Content-Length\": metadata.size,\n        \"Cache-Control\": `${\n          isPublic ? \"public\" : \"private\"\n        }, max-age=${cacheTtlSec}`,\n      });\n\n      // Stream the file to the response\n      const stream = file.createReadStream();\n\n      stream.on(\"error\", (err) => {\n        console.error(\"Stream error:\", err);\n        if (!res.headersSent) {\n          res.status(500).json({ error: \"Error streaming file\" });\n        }\n      });\n\n      stream.pipe(res);\n    } catch (error) {\n      console.error(\"Error downloading file:\", error);\n      if (!res.headersSent) {\n        res.status(500).json({ error: \"Error downloading file\" });\n      }\n    }\n  }\n\n  // Gets the upload URL for an object entity.\n  async getObjectEntityUploadURL(): Promise<{ uploadURL: string; objectPath: string }> {\n    const privateObjectDir = this.getPrivateObjectDir();\n    if (!privateObjectDir) {\n      throw new Error(\n        \"PRIVATE_OBJECT_DIR not set. Create a bucket in 'Object Storage' \" +\n          \"tool and set PRIVATE_OBJECT_DIR env var.\"\n      );\n    }\n\n    const objectId = randomUUID();\n    const fullPath = `${privateObjectDir}/uploads/${objectId}`;\n\n    const { bucketName, objectName } = parseObjectPath(fullPath);\n\n    // Sign URL for PUT method with TTL\n    const uploadURL = await signObjectURL({\n      bucketName,\n      objectName,\n      method: \"PUT\",\n      ttlSec: 900,\n    });\n    \n    // Return both the upload URL and the normalized object path\n    const objectPath = `/objects/uploads/${objectId}`;\n    \n    return { uploadURL, objectPath };\n  }\n\n  // Gets the object entity file from the object path.\n  async getObjectEntityFile(objectPath: string): Promise<File> {\n    if (!objectPath.startsWith(\"/objects/\")) {\n      throw new ObjectNotFoundError();\n    }\n\n    const parts = objectPath.slice(1).split(\"/\");\n    if (parts.length < 2) {\n      throw new ObjectNotFoundError();\n    }\n\n    const entityId = parts.slice(1).join(\"/\");\n    let entityDir = this.getPrivateObjectDir();\n    if (!entityDir.endsWith(\"/\")) {\n      entityDir = `${entityDir}/`;\n    }\n    const objectEntityPath = `${entityDir}${entityId}`;\n    const { bucketName, objectName } = parseObjectPath(objectEntityPath);\n    const bucket = objectStorageClient.bucket(bucketName);\n    const objectFile = bucket.file(objectName);\n    const [exists] = await objectFile.exists();\n    if (!exists) {\n      throw new ObjectNotFoundError();\n    }\n    return objectFile;\n  }\n\n  normalizeObjectEntityPath(\n    rawPath: string,\n  ): string {\n    if (!rawPath.startsWith(\"https://storage.googleapis.com/\")) {\n      return rawPath;\n    }\n  \n    // Extract the path from the URL by removing query parameters and domain\n    const url = new URL(rawPath);\n    let rawObjectPath = url.pathname;\n    \n    // Remove leading slash and bucket name from pathname\n    // pathname format: /{bucketName}/{objectPath}\n    const parts = rawObjectPath.split('/').filter(Boolean);\n    if (parts.length >= 2) {\n      // Remove bucket name (first part) and reconstruct path\n      rawObjectPath = '/' + parts.slice(1).join('/');\n    }\n  \n    let objectEntityDir = this.getPrivateObjectDir();\n    if (!objectEntityDir.endsWith(\"/\")) {\n      objectEntityDir = `${objectEntityDir}/`;\n    }\n  \n    if (!rawObjectPath.startsWith(objectEntityDir)) {\n      return rawObjectPath;\n    }\n  \n    // Extract the entity ID from the path\n    const entityId = rawObjectPath.slice(objectEntityDir.length);\n    return `/objects/${entityId}`;\n  }\n\n  // Tries to set the ACL policy for the object entity and return the normalized path.\n  async trySetObjectEntityAclPolicy(\n    rawPath: string,\n    aclPolicy: ObjectAclPolicy\n  ): Promise<string> {\n    const normalizedPath = this.normalizeObjectEntityPath(rawPath);\n    if (!normalizedPath.startsWith(\"/\")) {\n      return normalizedPath;\n    }\n\n    const objectFile = await this.getObjectEntityFile(normalizedPath);\n    await setObjectAclPolicy(objectFile, aclPolicy);\n    return normalizedPath;\n  }\n\n  // Checks if the user can access the object entity.\n  async canAccessObjectEntity({\n    userId,\n    objectFile,\n    requestedPermission,\n  }: {\n    userId?: string;\n    objectFile: File;\n    requestedPermission?: ObjectPermission;\n  }): Promise<boolean> {\n    return canAccessObject({\n      userId,\n      objectFile,\n      requestedPermission: requestedPermission ?? ObjectPermission.READ,\n    });\n  }\n}\n\nfunction parseObjectPath(path: string): {\n  bucketName: string;\n  objectName: string;\n} {\n  if (!path.startsWith(\"/\")) {\n    path = `/${path}`;\n  }\n  const pathParts = path.split(\"/\");\n  if (pathParts.length < 3) {\n    throw new Error(\"Invalid path: must contain at least a bucket name\");\n  }\n\n  const bucketName = pathParts[1];\n  const objectName = pathParts.slice(2).join(\"/\");\n\n  return {\n    bucketName,\n    objectName,\n  };\n}\n\nasync function signObjectURL({\n  bucketName,\n  objectName,\n  method,\n  ttlSec,\n}: {\n  bucketName: string;\n  objectName: string;\n  method: \"GET\" | \"PUT\" | \"DELETE\" | \"HEAD\";\n  ttlSec: number;\n}): Promise<string> {\n  const request = {\n    bucket_name: bucketName,\n    object_name: objectName,\n    method,\n    expires_at: new Date(Date.now() + ttlSec * 1000).toISOString(),\n  };\n  const response = await fetch(\n    `${REPLIT_SIDECAR_ENDPOINT}/object-storage/signed-object-url`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(request),\n    }\n  );\n  if (!response.ok) {\n    throw new Error(\n      `Failed to sign object URL, errorcode: ${response.status}, ` +\n        `make sure you're running on Replit`\n    );\n  }\n\n  const { signed_url: signedURL } = await response.json();\n  return signedURL;\n}\n","size_bytes":9001},"client/src/pages/admin/article-editor.tsx":{"content":"import { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { useRoute, useLocation } from \"wouter\";\nimport { ArrowLeft, Eye, CheckCircle, AlertCircle, FileText, Tag, Globe, ExternalLink } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Label } from \"@/components/ui/label\";\nimport { useContent } from \"@/lib/content-context\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Editor } from \"@/components/admin/editor\";\nimport { TitleField } from \"@/components/TitleField\";\nimport { format } from \"date-fns\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n  SheetFooter,\n} from \"@/components/ui/sheet\";\n\nexport default function ArticleEditor() {\n  const [, params] = useRoute(\"/admin/article/:id\");\n  const [, setLocation] = useLocation();\n  const { articles, addArticle, updateArticle } = useContent();\n  const { toast } = useToast();\n  \n  const articleId = params?.id === \"new\" ? null : params?.id ? parseInt(params.id) : null;\n  const existingArticle = articleId ? articles.find(a => a.id === articleId) : null;\n\n  const [title, setTitle] = useState(existingArticle?.title || \"\");\n  const [content, setContent] = useState(existingArticle?.content || \"\");\n  const [slug, setSlug] = useState(existingArticle?.slug || \"\");\n  const [excerpt, setExcerpt] = useState(existingArticle?.excerpt || \"\");\n  const [tags, setTags] = useState(existingArticle?.tags || \"\");\n  const [seoKeywords, setSeoKeywords] = useState(existingArticle?.seoKeywords || \"\");\n  const [saveStatus, setSaveStatus] = useState<\"saved\" | \"saving\" | \"unsaved\">(\"saved\");\n  const [lastSaved, setLastSaved] = useState<Date | null>(existingArticle?.updatedAt || null);\n  const [isPublishSheetOpen, setIsPublishSheetOpen] = useState(false);\n  const [hasManuallyEditedSlug, setHasManuallyEditedSlug] = useState(false);\n  const [initialContent, setInitialContent] = useState({ \n    title: existingArticle?.title || \"\", \n    content: existingArticle?.content || \"\", \n    slug: existingArticle?.slug || \"\",\n    excerpt: existingArticle?.excerpt || \"\",\n    tags: existingArticle?.tags || \"\",\n    seoKeywords: existingArticle?.seoKeywords || \"\"\n  });\n\n  // Auto-generate slug from title only if not manually edited\n  useEffect(() => {\n    if (title && !hasManuallyEditedSlug) {\n      const autoSlug = title\n        .toLowerCase()\n        .trim()\n        .replace(/[^\\w\\s-]/g, '') // Remove special characters\n        .replace(/\\s+/g, '-')      // Replace spaces with hyphens\n        .replace(/-+/g, '-')       // Replace multiple hyphens with single hyphen\n        .replace(/^-+|-+$/g, '');  // Remove leading/trailing hyphens\n      setSlug(autoSlug);\n    }\n  }, [title, hasManuallyEditedSlug]);\n\n  // Track manual slug edits\n  const handleSlugChange = (value: string) => {\n    setSlug(value);\n    setHasManuallyEditedSlug(true);\n  };\n\n  // Update local state when article data changes\n  useEffect(() => {\n    if (existingArticle) {\n      setTitle(existingArticle.title);\n      setContent(existingArticle.content);\n      setSlug(existingArticle.slug || \"\");\n      setExcerpt(existingArticle.excerpt || \"\");\n      setTags(existingArticle.tags || \"\");\n      setSeoKeywords(existingArticle.seoKeywords || \"\");\n      setLastSaved(existingArticle.updatedAt || null);\n      setHasManuallyEditedSlug(!!existingArticle.slug);\n      setInitialContent({ \n        title: existingArticle.title, \n        content: existingArticle.content,\n        slug: existingArticle.slug || \"\",\n        excerpt: existingArticle.excerpt || \"\",\n        tags: existingArticle.tags || \"\",\n        seoKeywords: existingArticle.seoKeywords || \"\"\n      });\n    }\n  }, [existingArticle]);\n\n  // Mark as unsaved when content changes\n  useEffect(() => {\n    if (\n      title !== initialContent.title || \n      content !== initialContent.content ||\n      slug !== initialContent.slug ||\n      excerpt !== initialContent.excerpt ||\n      tags !== initialContent.tags ||\n      seoKeywords !== initialContent.seoKeywords\n    ) {\n      setSaveStatus(\"unsaved\");\n    }\n  }, [title, content, slug, excerpt, tags, seoKeywords, initialContent]);\n\n  // Warn before leaving with unsaved changes\n  useEffect(() => {\n    const handleBeforeUnload = (e: BeforeUnloadEvent) => {\n      if (saveStatus === \"unsaved\") {\n        e.preventDefault();\n        e.returnValue = \"\";\n      }\n    };\n\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    return () => window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n  }, [saveStatus]);\n\n  const handleSaveDraft = useCallback(async () => {\n    setSaveStatus(\"saving\");\n    \n    try {\n      if (articleId && existingArticle) {\n        // Update existing article - preserve existing status and published timestamps\n        const articleData = {\n          title: title || \"Untitled\",\n          content,\n          slug: slug || undefined,\n          excerpt: excerpt || undefined,\n          tags: tags || undefined,\n          seoKeywords: seoKeywords || undefined,\n          // Preserve existing status and published timestamps\n          status: existingArticle.status,\n          publishedAt: existingArticle.publishedAt,\n          firstPublishedAt: existingArticle.firstPublishedAt,\n          lastPublishedAt: existingArticle.lastPublishedAt,\n        };\n        \n        await updateArticle(articleId, articleData);\n        const now = new Date();\n        setLastSaved(now);\n        setInitialContent({ title, content, slug, excerpt, tags, seoKeywords });\n        setSaveStatus(\"saved\");\n        toast({\n          title: existingArticle.status === \"Published\" ? \"Changes saved\" : \"Draft saved\",\n          description: \"Your changes have been saved successfully.\",\n        });\n      } else {\n        // Create new article as draft\n        const articleData = {\n          title: title || \"Untitled\",\n          content,\n          slug: slug || undefined,\n          excerpt: excerpt || undefined,\n          tags: tags || undefined,\n          seoKeywords: seoKeywords || undefined,\n          status: \"Draft\",\n        };\n        \n        const newArticle = await addArticle({\n          ...articleData,\n          author: \"Admin\",\n        });\n        const now = new Date();\n        setLastSaved(now);\n        setInitialContent({ \n          title: title || \"Untitled\", \n          content, \n          slug, \n          excerpt, \n          tags, \n          seoKeywords \n        });\n        setSaveStatus(\"saved\");\n        toast({\n          title: \"Draft created\",\n          description: \"Your article draft has been created.\",\n        });\n        // Redirect to the new article's edit page\n        setLocation(`/admin/article/${newArticle.id}`);\n      }\n    } catch (error) {\n      setSaveStatus(\"unsaved\");\n      toast({\n        title: \"Error saving\",\n        description: \"Failed to save your changes. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  }, [articleId, existingArticle, title, content, slug, excerpt, tags, seoKeywords, updateArticle, addArticle, toast, setLocation]);\n\n  // Auto-save every 30 seconds if there are unsaved changes\n  useEffect(() => {\n    if (saveStatus === \"unsaved\") {\n      const timer = setTimeout(() => {\n        handleSaveDraft();\n      }, 30000);\n      return () => clearTimeout(timer);\n    }\n  }, [saveStatus, handleSaveDraft]);\n\n  const handleBack = () => {\n    if (saveStatus === \"unsaved\") {\n      if (confirm(\"You have unsaved changes. Do you want to leave without saving?\")) {\n        setLocation(\"/admin?tab=writing\");\n      }\n    } else {\n      setLocation(\"/admin?tab=writing\");\n    }\n  };\n\n  const handlePublish = useCallback(async () => {\n    // Strip HTML to check for actual text content\n    const textContent = content.replace(/<[^>]*>/g, '').trim();\n    \n    // Validate required fields before publishing\n    if (!title.trim()) {\n      toast({\n        title: \"Cannot publish\",\n        description: \"Please add a title before publishing.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (!slug.trim()) {\n      toast({\n        title: \"Cannot publish\",\n        description: \"Please add a URL slug before publishing.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (!textContent) {\n      toast({\n        title: \"Cannot publish\",\n        description: \"Please add some content before publishing.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setSaveStatus(\"saving\");\n\n    try {\n      const now = new Date();\n      const articleData = {\n        title,\n        content,\n        slug,\n        excerpt: excerpt || undefined,\n        tags: tags || undefined,\n        seoKeywords: seoKeywords || undefined,\n        status: \"Published\",\n        publishedAt: now,\n        firstPublishedAt: existingArticle?.firstPublishedAt || now,\n        lastPublishedAt: now,\n      };\n\n      if (articleId && existingArticle) {\n        // Publish existing article\n        await updateArticle(articleId, articleData);\n        setLastSaved(now);\n        setInitialContent({ title, content, slug, excerpt, tags, seoKeywords });\n        setSaveStatus(\"saved\");\n        setIsPublishSheetOpen(false);\n        toast({\n          title: \"Article published\",\n          description: existingArticle.status === \"Published\" \n            ? \"Your changes have been published.\" \n            : \"Your article is now live!\",\n        });\n      } else {\n        // Create and publish new article\n        const newArticle = await addArticle({\n          ...articleData,\n          author: \"Admin\",\n        });\n        setLastSaved(now);\n        setInitialContent({ title, content, slug, excerpt, tags, seoKeywords });\n        setSaveStatus(\"saved\");\n        setIsPublishSheetOpen(false);\n        toast({\n          title: \"Article published\",\n          description: \"Your article is now live!\",\n        });\n        // Redirect to the new article's edit page\n        setLocation(`/admin/article/${newArticle.id}`);\n      }\n    } catch (error) {\n      setSaveStatus(\"unsaved\");\n      toast({\n        title: \"Error publishing\",\n        description: \"Failed to publish your article. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  }, [articleId, existingArticle, title, content, slug, excerpt, tags, seoKeywords, updateArticle, addArticle, toast, setLocation]);\n\n  const textContent = content.replace(/<[^>]*>/g, '').trim();\n  const wordCount = textContent.split(/\\s+/).filter(Boolean).length;\n  const readingTime = Math.ceil(wordCount / 200); // Assuming 200 words per minute\n  \n  // Check for slug conflicts\n  const slugConflict = useMemo(() => {\n    if (!slug.trim()) return null;\n    const conflictingArticle = articles.find(\n      a => a.slug === slug.trim() && a.id !== articleId\n    );\n    return conflictingArticle || null;\n  }, [slug, articles, articleId]);\n  \n  // Check if publish requirements are met (must have actual text content, not just HTML tags, and no slug conflicts)\n  const canPublish = !!(title.trim() && slug.trim() && textContent && !slugConflict);\n  \n  // Generate public URL preview\n  const publicUrl = useMemo(() => {\n    if (!slug.trim()) return null;\n    const baseUrl = window.location.origin;\n    return `${baseUrl}/article/${slug.trim()}`;\n  }, [slug]);\n  \n  // Character counts with recommendations\n  const titleCharCount = title.length;\n  const excerptCharCount = excerpt.length;\n  const titleRecommendation = titleCharCount === 0 ? \"Add a title\" : \n    titleCharCount < 30 ? \"Consider a longer title (30-60 chars)\" :\n    titleCharCount > 60 ? \"Consider shortening (30-60 chars optimal)\" : \"Good length\";\n  const excerptRecommendation = excerptCharCount === 0 ? \"Optional but recommended for SEO\" :\n    excerptCharCount < 120 ? \"Add more detail (120-160 chars recommended)\" :\n    excerptCharCount > 160 ? \"Consider shortening (120-160 chars optimal)\" : \"Perfect length for SEO\";\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"sticky top-0 z-10 border-b border-border/40 bg-background/95 backdrop-blur-md supports-[backdrop-filter]:bg-background/80\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between py-3\">\n            <div className=\"flex items-center gap-3\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleBack}\n                className=\"text-muted-foreground hover:text-foreground hover:bg-transparent -ml-2\"\n                data-testid=\"button-back\"\n              >\n                <ArrowLeft className=\"h-4 w-4 mr-1.5\" />\n                <span className=\"text-sm\">Back</span>\n              </Button>\n              \n              {/* Subtle auto-save indicator */}\n              <div className=\"hidden sm:flex items-center gap-2 text-xs text-muted-foreground/60\">\n                {saveStatus === \"saving\" && (\n                  <span className=\"flex items-center gap-1.5\">\n                    <span className=\"animate-pulse\">●</span>\n                    <span>Saving</span>\n                  </span>\n                )}\n                {saveStatus === \"saved\" && lastSaved && (\n                  <span className=\"opacity-60\">Saved</span>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              {/* Stats Pills */}\n              <div className=\"hidden md:flex items-center gap-2\">\n                <div className=\"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-muted/50 text-xs\">\n                  <span className=\"font-mono font-medium text-foreground\">{wordCount}</span>\n                  <span className=\"text-muted-foreground\">words</span>\n                </div>\n                <div className=\"px-2.5 py-1 rounded-full bg-muted/50 text-xs text-muted-foreground\">\n                  {readingTime} read\n                </div>\n              </div>\n\n              <Button\n                variant=\"default\"\n                size=\"sm\"\n                onClick={() => setIsPublishSheetOpen(true)}\n                className=\"gap-2 shadow-sm hover:shadow transition-shadow\"\n                data-testid=\"button-publish\"\n              >\n                <Eye className=\"h-3.5 w-3.5\" />\n                {existingArticle?.status === \"Published\" ? \"Update\" : \"Publish\"}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Editor Content - Full Width */}\n      <div className=\"h-[calc(100vh-4rem)] overflow-y-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"max-w-4xl mx-auto space-y-8\">\n          {/* Title Input - Notion Style */}\n          <TitleField\n            value={title}\n            onChange={setTitle}\n            placeholder=\"Untitled\"\n            data-testid=\"input-article-title\"\n          />\n\n          {/* Rich Text Editor */}\n          <div className=\"min-h-[600px]\">\n            <Editor\n              content={content}\n              onChange={setContent}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Publish Settings Sheet */}\n      <Sheet open={isPublishSheetOpen} onOpenChange={setIsPublishSheetOpen}>\n        <SheetContent side=\"right\" className=\"w-full sm:max-w-xl overflow-y-auto\">\n          <SheetHeader>\n            <SheetTitle>Publish Settings</SheetTitle>\n            <SheetDescription>\n              Review your article metadata before publishing\n            </SheetDescription>\n          </SheetHeader>\n\n          <div className=\"py-6 space-y-6\">\n            {/* Validation Checklist */}\n            <div className=\"space-y-3 p-4 bg-muted/50 rounded-lg\">\n              <h3 className=\"text-sm font-medium\">Publishing Requirements</h3>\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center gap-2 text-sm\">\n                  {title.trim() ? (\n                    <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                  ) : (\n                    <AlertCircle className=\"h-4 w-4 text-amber-500\" />\n                  )}\n                  <span className={title.trim() ? \"text-foreground\" : \"text-muted-foreground\"}>\n                    Title added\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2 text-sm\">\n                  {slug.trim() ? (\n                    <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                  ) : (\n                    <AlertCircle className=\"h-4 w-4 text-amber-500\" />\n                  )}\n                  <span className={slug.trim() ? \"text-foreground\" : \"text-muted-foreground\"}>\n                    URL slug set\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2 text-sm\">\n                  {textContent ? (\n                    <CheckCircle className=\"h-4 w-4 text-green-500\" />\n                  ) : (\n                    <AlertCircle className=\"h-4 w-4 text-amber-500\" />\n                  )}\n                  <span className={textContent ? \"text-foreground\" : \"text-muted-foreground\"}>\n                    Content written\n                  </span>\n                </div>\n              </div>\n              {!canPublish && (\n                <p className=\"text-xs text-muted-foreground pt-2 border-t\">\n                  Complete all requirements above to publish\n                </p>\n              )}\n            </div>\n\n            {/* URL Preview */}\n            {publicUrl && (\n              <div className=\"p-4 bg-primary/5 border border-primary/20 rounded-lg space-y-2\">\n                <div className=\"flex items-center gap-2 text-sm font-medium\">\n                  <Globe className=\"h-4 w-4\" />\n                  <span>Public URL</span>\n                </div>\n                <a \n                  href={publicUrl}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"flex items-center gap-2 text-xs text-primary hover:underline break-all\"\n                >\n                  {publicUrl}\n                  <ExternalLink className=\"h-3 w-3 flex-shrink-0\" />\n                </a>\n              </div>\n            )}\n\n            {/* Metadata Fields */}\n            <div className=\"space-y-6\">\n              {/* URL Slug Section */}\n              <div className=\"space-y-3 pb-6 border-b\">\n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"slug\" className=\"flex items-center gap-2 text-base\">\n                    <FileText className=\"h-4 w-4\" />\n                    URL Slug\n                  </Label>\n                  {slugConflict && (\n                    <span className=\"text-xs text-destructive font-medium\">Already in use!</span>\n                  )}\n                </div>\n                <Input\n                  id=\"slug\"\n                  value={slug}\n                  onChange={(e) => handleSlugChange(e.target.value)}\n                  placeholder=\"my-article-url\"\n                  className={`font-mono text-sm ${slugConflict ? 'border-destructive' : ''}`}\n                  data-testid=\"input-article-slug\"\n                />\n                {slugConflict ? (\n                  <p className=\"text-xs text-destructive\">\n                    This slug is already used by \"{slugConflict.title}\". Choose a different one.\n                  </p>\n                ) : (\n                  <p className=\"text-xs text-muted-foreground\">\n                    Auto-generated from title. This creates your article's unique web address.\n                  </p>\n                )}\n              </div>\n\n              {/* Excerpt Section */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <Label htmlFor=\"excerpt\" className=\"text-base\">\n                    Excerpt <span className=\"text-muted-foreground font-normal text-sm\">(Recommended)</span>\n                  </Label>\n                  <span className={`text-xs ${excerptCharCount >= 120 && excerptCharCount <= 160 ? 'text-green-600' : 'text-muted-foreground'}`}>\n                    {excerptCharCount} chars\n                  </span>\n                </div>\n                <Textarea\n                  id=\"excerpt\"\n                  value={excerpt}\n                  onChange={(e) => setExcerpt(e.target.value)}\n                  placeholder=\"Brief summary that appears in search results and previews...\"\n                  rows={3}\n                  className=\"resize-none text-sm\"\n                  data-testid=\"input-article-excerpt\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  {excerptRecommendation}\n                </p>\n              </div>\n\n              {/* Tags Section */}\n              <div className=\"space-y-3\">\n                <Label htmlFor=\"tags\" className=\"text-base\">\n                  Tags <span className=\"text-muted-foreground font-normal text-sm\">(Optional)</span>\n                </Label>\n                <Input\n                  id=\"tags\"\n                  value={tags}\n                  onChange={(e) => setTags(e.target.value)}\n                  placeholder=\"react, typescript, web development\"\n                  className=\"text-sm\"\n                  data-testid=\"input-article-tags\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Comma-separated tags help readers find related content\n                </p>\n              </div>\n\n              {/* SEO Keywords Section */}\n              <div className=\"space-y-3\">\n                <Label htmlFor=\"seoKeywords\" className=\"flex items-center gap-2 text-base\">\n                  <Tag className=\"h-4 w-4\" />\n                  SEO Keywords <span className=\"text-muted-foreground font-normal text-sm\">(Optional)</span>\n                </Label>\n                <Textarea\n                  id=\"seoKeywords\"\n                  value={seoKeywords}\n                  onChange={(e) => setSeoKeywords(e.target.value)}\n                  placeholder=\"web development, react tutorials, programming tips...\"\n                  rows={2}\n                  className=\"resize-none text-sm\"\n                  data-testid=\"input-article-keywords\"\n                />\n                <p className=\"text-xs text-muted-foreground\">\n                  Keywords improve search engine discoverability\n                </p>\n              </div>\n            </div>\n\n            {/* Publishing Info */}\n            {existingArticle && (\n              <div className=\"pt-4 border-t space-y-2 text-xs text-muted-foreground\">\n                <div className=\"flex justify-between\">\n                  <span>Status:</span>\n                  <span className=\"font-medium\" data-testid=\"text-article-status\">{existingArticle.status}</span>\n                </div>\n                {existingArticle.createdAt && (\n                  <div className=\"flex justify-between\">\n                    <span>Created:</span>\n                    <span data-testid=\"text-created-date\">{format(new Date(existingArticle.createdAt), \"MMM d, yyyy\")}</span>\n                  </div>\n                )}\n                {existingArticle.firstPublishedAt && (\n                  <div className=\"flex justify-between\">\n                    <span>First published:</span>\n                    <span data-testid=\"text-first-published-date\">{format(new Date(existingArticle.firstPublishedAt), \"MMM d, yyyy\")}</span>\n                  </div>\n                )}\n                {existingArticle.lastPublishedAt && (\n                  <div className=\"flex justify-between\">\n                    <span>Last published:</span>\n                    <span data-testid=\"text-last-published-date\">{format(new Date(existingArticle.lastPublishedAt), \"MMM d, yyyy\")}</span>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          <SheetFooter className=\"gap-2\">\n            <Button\n              variant=\"outline\"\n              onClick={async () => {\n                await handleSaveDraft();\n                setIsPublishSheetOpen(false);\n              }}\n              disabled={saveStatus === \"saving\"}\n              data-testid=\"button-save-draft\"\n            >\n              Save as Draft\n            </Button>\n            <Button\n              onClick={handlePublish}\n              disabled={!canPublish || saveStatus === \"saving\"}\n              data-testid=\"button-publish-article\"\n            >\n              <Eye className=\"h-4 w-4 mr-2\" />\n              {existingArticle?.status === \"Published\" ? \"Update Published\" : \"Publish Article\"}\n            </Button>\n          </SheetFooter>\n        </SheetContent>\n      </Sheet>\n    </div>\n  );\n}\n","size_bytes":24792},"client/src/components/TitleField.tsx":{"content":"import { useEffect, useRef } from 'react';\n\ninterface TitleFieldProps {\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  className?: string;\n  'data-testid'?: string;\n}\n\nexport function TitleField({\n  value,\n  onChange,\n  placeholder = 'Untitled',\n  className = '',\n  'data-testid': testId,\n}: TitleFieldProps) {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  // Auto-resize textarea to fit content\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    if (!textarea) return;\n\n    // Reset height to auto to get the correct scrollHeight\n    textarea.style.height = 'auto';\n    // Set height to scrollHeight to fit content\n    textarea.style.height = `${textarea.scrollHeight}px`;\n  }, [value]);\n\n  return (\n    <textarea\n      ref={textareaRef}\n      value={value}\n      onChange={(e) => onChange(e.target.value)}\n      placeholder={placeholder}\n      rows={1}\n      className={`w-full resize-none overflow-hidden bg-transparent border-none outline-none focus:outline-none text-4xl sm:text-5xl lg:text-6xl font-bold leading-tight placeholder:text-muted-foreground/30 ${className}`}\n      data-testid={testId}\n    />\n  );\n}\n","size_bytes":1179},"client/src/components/ObjectUploader.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport type { ReactNode } from \"react\";\nimport Uppy from \"@uppy/core\";\nimport type { UploadResult } from \"@uppy/core\";\nimport AwsS3 from \"@uppy/aws-s3\";\nimport { Button } from \"@/components/ui/button\";\nimport { Upload, X, Check, Loader2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface ObjectUploaderProps {\n  maxNumberOfFiles?: number;\n  maxFileSize?: number;\n  onGetUploadParameters: () => Promise<{\n    method: \"PUT\";\n    url: string;\n    objectPath?: string;\n  }>;\n  onComplete?: (\n    result: UploadResult<Record<string, unknown>, Record<string, unknown>>\n  ) => void;\n  buttonClassName?: string;\n  children: ReactNode;\n}\n\nexport function ObjectUploader({\n  maxNumberOfFiles = 1,\n  maxFileSize = 10485760,\n  onGetUploadParameters,\n  onComplete,\n  buttonClassName,\n  children,\n}: ObjectUploaderProps) {\n  const [showModal, setShowModal] = useState(false);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const uppyRef = useRef<Uppy | null>(null);\n\n  // Initialize Uppy when modal opens\n  useEffect(() => {\n    if (!showModal) return;\n\n    const uppyInstance = new Uppy({\n      restrictions: {\n        maxNumberOfFiles,\n        maxFileSize,\n        allowedFileTypes: ['image/*'],\n      },\n      autoProceed: false,\n    })\n      .use(AwsS3, {\n        shouldUseMultipart: false,\n        getUploadParameters: async (file) => {\n          const params = await onGetUploadParameters();\n          \n          // Merge objectPath into file metadata if provided\n          if (params.objectPath) {\n            const currentFile = uppyInstance.getFile(file.id);\n            uppyInstance.setFileMeta(file.id, {\n              ...(currentFile?.meta || {}),\n              objectPath: params.objectPath\n            });\n          }\n          \n          return {\n            method: params.method,\n            url: params.url,\n          };\n        },\n      })\n      .on(\"upload-progress\", (file, progress) => {\n        if (progress.bytesTotal) {\n          setUploadProgress((progress.bytesUploaded / progress.bytesTotal) * 100);\n        }\n      })\n      .on(\"complete\", (result) => {\n        setIsUploading(false);\n        setUploadProgress(0);\n        onComplete?.(result);\n        handleClose();\n      })\n      .on(\"error\", (error) => {\n        console.error(\"Upload error:\", error);\n        setIsUploading(false);\n        setUploadProgress(0);\n      });\n    \n    uppyRef.current = uppyInstance;\n\n    // Cleanup when modal closes\n    return () => {\n      if (uppyRef.current) {\n        uppyRef.current.cancelAll();\n        // TypeScript workaround: close() exists but type definition may be incomplete\n        (uppyRef.current as any).close?.();\n        uppyRef.current = null;\n      }\n    };\n  }, [showModal, maxNumberOfFiles, maxFileSize, onGetUploadParameters, onComplete]);\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Validate file size\n    if (file.size > maxFileSize) {\n      alert(`File size must be less than ${Math.round(maxFileSize / 1024 / 1024)}MB`);\n      return;\n    }\n\n    setSelectedFile(file);\n    \n    // Create preview\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setPreviewUrl(reader.result as string);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleUpload = async () => {\n    if (!selectedFile || !uppyRef.current) return;\n\n    setIsUploading(true);\n    \n    try {\n      // Clear any existing files before adding new one (handles retry scenarios)\n      const existingFiles = uppyRef.current.getFiles();\n      existingFiles.forEach(file => uppyRef.current?.removeFile(file.id));\n      \n      uppyRef.current.addFile({\n        name: selectedFile.name,\n        type: selectedFile.type,\n        data: selectedFile,\n      });\n\n      await uppyRef.current.upload();\n    } catch (error) {\n      console.error(\"Upload failed:\", error);\n      setIsUploading(false);\n    }\n  };\n\n  const handleClose = () => {\n    setShowModal(false);\n    setSelectedFile(null);\n    setPreviewUrl(null);\n    setUploadProgress(0);\n    setIsUploading(false);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    const file = e.dataTransfer.files?.[0];\n    if (!file) return;\n\n    if (file.size > maxFileSize) {\n      alert(`File size must be less than ${Math.round(maxFileSize / 1024 / 1024)}MB`);\n      return;\n    }\n\n    setSelectedFile(file);\n    \n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setPreviewUrl(reader.result as string);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  return (\n    <div>\n      <Button onClick={() => setShowModal(true)} className={buttonClassName} data-testid=\"button-upload-image\">\n        {children}\n      </Button>\n\n      {showModal && (\n        <div className=\"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm flex items-center justify-center p-4\">\n          <div className=\"relative max-w-md w-full bg-background border border-border/50 rounded-xl shadow-lg overflow-hidden\">\n            {/* Header */}\n            <div className=\"flex justify-between items-center px-6 py-4 border-b border-border/50\">\n              <h3 className=\"text-lg font-semibold\">Upload Image</h3>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-8 w-8\"\n                onClick={handleClose}\n                disabled={isUploading}\n              >\n                <X className=\"h-4 w-4\" />\n              </Button>\n            </div>\n\n            {/* Content */}\n            <div className=\"p-6 space-y-6\">\n              {/* Upload Area */}\n              <div\n                onClick={() => !isUploading && fileInputRef.current?.click()}\n                onDragOver={handleDragOver}\n                onDrop={handleDrop}\n                className={cn(\n                  \"relative border-2 border-dashed rounded-lg transition-all cursor-pointer overflow-hidden\",\n                  selectedFile\n                    ? \"border-primary/50 bg-primary/5\"\n                    : \"border-border hover:border-primary/50 hover:bg-muted/30\",\n                  isUploading && \"pointer-events-none opacity-60\"\n                )}\n              >\n                {previewUrl ? (\n                  <div className=\"aspect-[4/3] relative\">\n                    <img\n                      src={previewUrl}\n                      alt=\"Preview\"\n                      className=\"w-full h-full object-cover\"\n                    />\n                    {isUploading && (\n                      <div className=\"absolute inset-0 bg-background/80 flex items-center justify-center\">\n                        <div className=\"text-center space-y-2\">\n                          <Loader2 className=\"h-8 w-8 animate-spin mx-auto text-primary\" />\n                          <p className=\"text-sm text-muted-foreground\">{Math.round(uploadProgress)}%</p>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"aspect-[4/3] flex flex-col items-center justify-center gap-3 py-8\">\n                    <div className=\"h-12 w-12 rounded-full bg-muted flex items-center justify-center\">\n                      <Upload className=\"h-6 w-6 text-muted-foreground\" />\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-sm font-medium\">\n                        Drop your image here or click to browse\n                      </p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                        JPG, PNG or GIF • Max {Math.round(maxFileSize / 1024 / 1024)}MB\n                      </p>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleFileSelect}\n                className=\"hidden\"\n              />\n\n              {/* Actions */}\n              <div className=\"flex items-center gap-3\">\n                <Button\n                  variant=\"outline\"\n                  onClick={handleClose}\n                  disabled={isUploading}\n                  className=\"flex-1\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  onClick={handleUpload}\n                  disabled={!selectedFile || isUploading}\n                  className=\"flex-1 gap-2\"\n                >\n                  {isUploading ? (\n                    <>\n                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                      Uploading...\n                    </>\n                  ) : (\n                    <>\n                      <Check className=\"h-4 w-4\" />\n                      Upload\n                    </>\n                  )}\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","size_bytes":9538},"client/src/components/ui/month-year-picker.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button\";\nimport { CalendarIcon, X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\n\ninterface MonthYearPickerProps {\n  value: string; // ISO date string (yyyy-MM-dd), empty string, or invalid\n  onChange: (value: string) => void; // Returns ISO date string (first of month) or empty string\n  label?: string;\n  placeholder?: string;\n}\n\nconst MONTHS = [\n  { value: \"01\", label: \"January\" },\n  { value: \"02\", label: \"February\" },\n  { value: \"03\", label: \"March\" },\n  { value: \"04\", label: \"April\" },\n  { value: \"05\", label: \"May\" },\n  { value: \"06\", label: \"June\" },\n  { value: \"07\", label: \"July\" },\n  { value: \"08\", label: \"August\" },\n  { value: \"09\", label: \"September\" },\n  { value: \"10\", label: \"October\" },\n  { value: \"11\", label: \"November\" },\n  { value: \"12\", label: \"December\" },\n];\n\n// Generate years from 1990 to current year + 5\nconst currentYear = new Date().getFullYear();\nconst YEARS = Array.from({ length: currentYear - 1990 + 6 }, (_, i) => (currentYear + 5 - i).toString());\n\nexport function MonthYearPicker({ value, onChange, label }: MonthYearPickerProps) {\n  // Normalize legacy work dates: handle \"2020\", \"2020-09\", full ISO, or invalid\n  const parseValue = (val: string): { month: string; year: string } | null => {\n    if (!val || val === \"Present\") return null;\n    \n    // Try to extract year and month from various formats\n    // Format: \"YYYY\" or \"YYYY-MM\" or \"YYYY-MM-DD\"\n    const yearMatch = val.match(/^(\\d{4})(?:-(\\d{2}))?/);\n    if (yearMatch) {\n      const year = yearMatch[1];\n      const month = yearMatch[2] || \"01\"; // Default to January if month not specified\n      return { month, year };\n    }\n    \n    // Fallback: try parsing as full date\n    const date = new Date(val);\n    if (!isNaN(date.getTime())) {\n      return {\n        month: String(date.getMonth() + 1).padStart(2, \"0\"),\n        year: String(date.getFullYear())\n      };\n    }\n    \n    return null; // Invalid format\n  };\n\n  const parsed = parseValue(value);\n  const [selectedMonth, setSelectedMonth] = useState(parsed?.month || \"\");\n  const [selectedYear, setSelectedYear] = useState(parsed?.year || \"\");\n\n  // Sync with external value changes\n  useEffect(() => {\n    const newParsed = parseValue(value);\n    setSelectedMonth(newParsed?.month || \"\");\n    setSelectedYear(newParsed?.year || \"\");\n  }, [value]);\n\n  const handleMonthChange = (month: string) => {\n    setSelectedMonth(month);\n    // Defer emission until both are selected\n  };\n\n  const handleYearChange = (year: string) => {\n    setSelectedYear(year);\n    // Defer emission until both are selected\n  };\n\n  // Commit when both values are selected\n  useEffect(() => {\n    if (selectedMonth && selectedYear) {\n      onChange(`${selectedYear}-${selectedMonth}-01`);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedMonth, selectedYear]);\n\n  const handleClear = () => {\n    setSelectedMonth(\"\");\n    setSelectedYear(\"\");\n    onChange(\"\");\n  };\n\n  const hasValue = selectedMonth && selectedYear;\n\n  return (\n    <div className=\"space-y-2\">\n      {label && <Label>{label}</Label>}\n      <div className=\"flex gap-2\">\n        <Select value={selectedMonth} onValueChange={handleMonthChange}>\n          <SelectTrigger className={cn(\"w-full\", !selectedMonth && \"text-muted-foreground\")}>\n            <CalendarIcon className=\"mr-2 h-4 w-4 flex-shrink-0\" />\n            <SelectValue placeholder=\"Month\" />\n          </SelectTrigger>\n          <SelectContent>\n            {MONTHS.map((month) => (\n              <SelectItem key={month.value} value={month.value}>\n                {month.label}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n\n        <Select value={selectedYear} onValueChange={handleYearChange}>\n          <SelectTrigger className={cn(\"w-[120px] flex-shrink-0\", !selectedYear && \"text-muted-foreground\")}>\n            <SelectValue placeholder=\"Year\" />\n          </SelectTrigger>\n          <SelectContent position=\"popper\" className=\"max-h-[300px] overflow-y-auto\">\n            {YEARS.map((year) => (\n              <SelectItem key={year} value={year}>\n                {year}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n\n        {hasValue && (\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={handleClear}\n            className=\"h-10 w-10 flex-shrink-0\"\n            title=\"Clear date\"\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":4790},"scripts/setup-admin.ts":{"content":"import bcrypt from \"bcrypt\";\nimport { db } from \"../server/db\";\nimport { users } from \"../shared/schema\";\nimport { eq } from \"drizzle-orm\";\nimport * as readline from \"readline/promises\";\nimport { stdin as input, stdout as output } from \"process\";\n\nconst SALT_ROUNDS = 10;\nconst ADMIN_EMAIL = \"art9793@gmail.com\";\n\nasync function setupAdmin() {\n  const rl = readline.createInterface({ input, output });\n\n  try {\n    console.log(\"\\n=== Admin Account Setup ===\\n\");\n    console.log(`Admin email: ${ADMIN_EMAIL}`);\n\n    const password = await rl.question(\"Enter a strong password for the admin account: \");\n    \n    if (!password || password.length < 8) {\n      console.error(\"\\nError: Password must be at least 8 characters long\");\n      process.exit(1);\n    }\n\n    const confirmPassword = await rl.question(\"Confirm password: \");\n    \n    if (password !== confirmPassword) {\n      console.error(\"\\nError: Passwords do not match\");\n      process.exit(1);\n    }\n\n    console.log(\"\\nHashing password...\");\n    const hashedPassword = await bcrypt.hash(password, SALT_ROUNDS);\n\n    console.log(\"Checking for existing user...\");\n    const [existingUser] = await db\n      .select()\n      .from(users)\n      .where(eq(users.email, ADMIN_EMAIL));\n\n    if (existingUser) {\n      console.log(\"Updating existing admin user...\");\n      await db\n        .update(users)\n        .set({ \n          password: hashedPassword,\n          updatedAt: new Date()\n        })\n        .where(eq(users.email, ADMIN_EMAIL));\n      console.log(\"\\n✓ Admin password updated successfully!\");\n    } else {\n      console.log(\"Creating new admin user...\");\n      await db.insert(users).values({\n        email: ADMIN_EMAIL,\n        password: hashedPassword,\n        firstName: \"Admin\",\n        lastName: \"User\",\n      });\n      console.log(\"\\n✓ Admin account created successfully!\");\n    }\n\n    console.log(`\\nYou can now log in with:`);\n    console.log(`  Email: ${ADMIN_EMAIL}`);\n    console.log(`  Password: [the password you just set]\\n`);\n\n  } catch (error) {\n    console.error(\"\\nError setting up admin account:\", error);\n    process.exit(1);\n  } finally {\n    rl.close();\n    process.exit(0);\n  }\n}\n\nsetupAdmin();\n","size_bytes":2186},"server/auth.ts":{"content":"import passport from \"passport\";\nimport { Strategy as LocalStrategy } from \"passport-local\";\nimport session from \"express-session\";\nimport type { Express, RequestHandler } from \"express\";\nimport connectPg from \"connect-pg-simple\";\nimport bcrypt from \"bcrypt\";\nimport { storage } from \"./storage\";\nimport type { User } from \"@shared/schema\";\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  return session({\n    secret: process.env.SESSION_SECRET!,\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: true,\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  passport.use(\n    new LocalStrategy(\n      {\n        usernameField: \"email\",\n        passwordField: \"password\",\n      },\n      async (email, password, done) => {\n        try {\n          const user = await storage.getUserByEmail(email);\n          \n          if (!user) {\n            return done(null, false, { message: \"Invalid email or password\" });\n          }\n\n          if (!user.password) {\n            return done(null, false, { message: \"Invalid email or password\" });\n          }\n\n          const isValidPassword = await bcrypt.compare(password, user.password);\n          \n          if (!isValidPassword) {\n            return done(null, false, { message: \"Invalid email or password\" });\n          }\n\n          return done(null, user);\n        } catch (error) {\n          return done(error);\n        }\n      }\n    )\n  );\n\n  passport.serializeUser((user: Express.User, cb) => {\n    cb(null, (user as User).id);\n  });\n\n  passport.deserializeUser(async (id: string, cb) => {\n    try {\n      const user = await storage.getUser(id);\n      cb(null, user);\n    } catch (error) {\n      cb(error);\n    }\n  });\n}\n\nexport const isAuthenticated: RequestHandler = async (req, res, next) => {\n  if (!req.isAuthenticated()) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n  return next();\n};\n\nexport const isAdmin: RequestHandler = async (req, res, next) => {\n  const user = req.user as User | undefined;\n\n  if (!req.isAuthenticated() || !user) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n\n  const allowedEmail = \"art9793@gmail.com\";\n\n  if (user.email !== allowedEmail) {\n    return res.status(403).json({ \n      message: \"Access denied. Only the site owner can access this area.\" \n    });\n  }\n\n  return next();\n};\n","size_bytes":2784}},"version":2}